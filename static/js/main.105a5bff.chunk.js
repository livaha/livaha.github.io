(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1079:function(e,t,a){},1418:function(e,t){},1462:function(e,t,a){},1474:function(e,t,a){},1476:function(e,t,a){},1478:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"logout",function(){return Vt}),a.d(n,"login",function(){return Ft});var r={};a.r(r),a.d(r,"setLanData",function(){return $t}),a.d(r,"setRedirIp",function(){return Bt}),a.d(r,"getLanmsg",function(){return Kt}),a.d(r,"setLanmsg",function(){return Ht});var l={};a.r(l),a.d(l,"setLanData",function(){return Xt}),a.d(l,"setArpList",function(){return ea}),a.d(l,"setSwitch",function(){return ta}),a.d(l,"getDhcpmsg",function(){return aa}),a.d(l,"getArpListmsg",function(){return na}),a.d(l,"handleSetDhcpMsg",function(){return ra});var i={};a.r(i),a.d(i,"changeLogData",function(){return da}),a.d(i,"changeLogSize",function(){return pa}),a.d(i,"switchChange",function(){return ma}),a.d(i,"initLogData",function(){return ha}),a.d(i,"setLogCfg",function(){return ga}),a.d(i,"setSize",function(){return fa}),a.d(i,"handleRefreshLog",function(){return _a}),a.d(i,"clearLog",function(){return Ea});var s={};a.r(s),a.d(s,"changeNtpData",function(){return Ia}),a.d(s,"handleSysTime",function(){return Aa}),a.d(s,"setTimeZone",function(){return xa}),a.d(s,"changeNtpEnable",function(){return Da}),a.d(s,"changeNtpServre",function(){return Ma}),a.d(s,"handleLocalTime",function(){return La}),a.d(s,"initNtpData",function(){return Ta}),a.d(s,"handleSetNtpData",function(){return Pa});var o={};a.r(o),a.d(o,"handleSysTime",function(){return za}),a.d(o,"show_t1hour",function(){return $a}),a.d(o,"show_t1minute",function(){return Ba}),a.d(o,"show_t2hour",function(){return Ka}),a.d(o,"show_t2minute",function(){return Ha}),a.d(o,"changeWeeks",function(){return Ja}),a.d(o,"changeRebootMode",function(){return Ya}),a.d(o,"handleRectime",function(){return Qa}),a.d(o,"changeCheckedData",function(){return Za}),a.d(o,"initScheduledTime",function(){return Xa}),a.d(o,"changeScheduledTime",function(){return en}),a.d(o,"changeCheckedList",function(){return tn}),a.d(o,"handleRebootMode",function(){return nn}),a.d(o,"initTickData",function(){return rn}),a.d(o,"handleSendMode1Data",function(){return ln}),a.d(o,"handleSendMode2Data",function(){return sn}),a(597);var c=a(0),d=a.n(c),u=a(23),p=a.n(u),m=a(4),h=a(7),g=a(8),f=a(10),b=a(9),_=a(11),E=a(1494),v=a(1496),y=a(1492),w=a(1495),C=(a(315),a(98)),S=a.n(C),O=a(66),j=(a(420),function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.loginState,t=sessionStorage.getItem("loginState");return d.a.createElement("div",null,"1"===t||e?d.a.createElement("div",null,d.a.createElement(S.a,{className:"content"},this.props.children)):"#/login"===window.location.hash?null:d.a.createElement(w.a,{to:"/login"}))}}]),t}(d.a.Component)),k=Object(O.b)(function(e){return{loginState:e.getIn(["login","loginState"])}},null)(j),I=a(194),A=a(584),x=a(75),D=Object(x.fromJS)({username:"admin"}),M=(a(430),a(431),"login/CHANGE_LOGIN"),L="login/CHANGE_LOGOUT",T=Object(x.fromJS)({loginState:"1"===sessionStorage.getItem("loginState"),first_boot:1}),P=(a(49),a(21)),R=a.n(P),N=a(52),V=a.n(N),F="cgi-bin/cgi_vista.cgi",U={cgid:0},G={cgid:1},W={cgid:2},q={cgid:3},z={cgid:4},$={cgid:5},B={cgid:6},K={cgid:7},H={cgid:8},J={cgid:9},Y={cgid:10},Q={cgid:11},Z={cgid:12},X={cgid:13},ee={cgid:16},te={cgid:17},ae={cgid:18},ne={cgid:19},re={cgid:20},le={cgid:21},ie={cgid:22},se={cgid:23},oe={cgid:24},ce={cgid:25},de={cgid:26},ue={cgid:27},pe={cgid:28},me={cgid:29},he={cgid:30},ge={cgid:31},fe={cgid:32},be={cgid:33},_e={cgid:34},Ee={cgid:35},ve={cgid:36},ye={cgid:37},we={cgid:38},Ce={cgid:39},Se={cgid:40},Oe={cgid:41},je={cgid:42},ke={cgid:43},Ie={cgid:44},Ae={cgid:45},xe={cgid:46},De={cgid:47},Me={cgid:48,fid:"3"},Le={cgid:49,fid:"3"},Te={cgid:50},Pe={cgid:51},Re={cgid:52},Ne={cgid:53},Ve={cgid:54},Fe={cgid:55},Ue={cgid:56},Ge={cgid:57},We={cgid:58},qe={cgid:59},ze={cgid:60},$e={cgid:61},Be={cgid:62},Ke={cgid:63},He={cgid:64},Je={cgid:65},Ye={cgid:66},Qe={cgid:67},Ze={cgid:68},Xe={cgid:69},et={cgid:70},tt={cgid:71},at={cgid:72},nt={cgid:73},rt={cgid:74},lt={cgid:75},it={cgid:76},st={cgid:77},ot={cgid:78},ct={cgid:79},dt={cgid:80},ut={cgid:81},pt={cgid:82},mt={cgid:83},ht={cgid:84},gt={cgid:85},ft={cgid:86},bt={cgid:87},_t={cgid:88},Et={cgid:89},vt={cgid:90},yt={cgid:92},wt={cgid:93},Ct={cgid:94},St={cgid:95},Ot={cgid:96},jt={cgid:97},kt={cgid:98},It={cgid:99},At={cgid:100},xt={cgid:101},Dt={cgid:102},Mt={cgid:103},Lt={cgid:104},Tt={cgid:106},Pt={cgid:107},Rt={cgid:108},Nt={cgid:109},Vt=function(){return sessionStorage.clear(),{type:L,value:!1}},Ft=function(e){var t=Object(m.a)({},U,e);return function(e){V.a.post("cgi-bin/cgi_vista.cgi",Object(m.a)({},t)).then(function(t){var a;2e3===t.data.restcode?(e((!0,a=t.data.first_boot,{type:M,loginState:!0,first_boot:a})),sessionStorage.setItem("loginState","1")):4001===t.data.restcode?R.a.error({title:"\u5bc6\u7801\u9519\u8bef",content:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5bc6\u7801..."}):R.a.error({title:"\u672a\u77e5\u9519\u8bef",content:"\u8bf7\u68c0\u67e5\u540e\u53f0\u8fd4\u56de\u7684\u6570\u636e\u662f\u5426\u6b63\u786e..."})}).catch(function(e){console.log(e)})}},Ut="lan_msg",Gt="showProgress",Wt=Object(x.fromJS)({ipaddr:"",netmask:"",showProgress:!1,locktime:0,redir_ip:""}),qt=(a(35),a(14)),zt=a.n(qt),$t=function(e){return{type:Ut,ipaddr:e.ipaddr,netmask:e.netmask}},Bt=function(e,t){return{type:Gt,showProgress:!0,locktime:e,redir_ip:t}},Kt=function(){var e=Object(m.a)({},ne);return function(t){V.a.post(F,Object(m.a)({},e)).then(function(e){2e3===e.data.restcode?t($t(e.data.result)):console.log("\u672a\u77e5\u9519\u8bef\uff01")}).catch(function(e){console.log(e)})}},Ht=function(e){var t=Object(m.a)({},re,e);return function(e){V.a.post(F,Object(m.a)({},t)).then(function(t){2e3===t.data.restcode?0!=t.data.locktime&&1==t.data.redir?e(Bt(t.data.locktime,t.data.redir_ip)):0==t.data.locktime&&zt.a.success("\u8bbe\u7f6e\u6210\u529f"):console.log("\u672a\u77e5\u9519\u8bef\uff01")}).catch(function(e){console.log(e)})}},Jt="dchp_msg",Yt="arp_list",Qt="dhcp_enable",Zt=Object(x.fromJS)({enable:!1,startip:"",endip:"",minip:"",maxip:"",leasetime:"",static_dhcp:[],dhcpList:[],arpList:[]}),Xt=function(e,t){return{type:Jt,enable:e.enable,minip:e.minip,maxip:e.maxip,startip:e.startip,endip:e.endip,leasetime:e.leasetime,static_dhcp:e.static_dhcp,dhcpList:t}},ea=function(e){return{type:Yt,arpList:e}},ta=function(e){return{type:Qt,enable:e}},aa=function(){var e=Object(m.a)({},le);return function(t){V.a.post(F,Object(m.a)({},e)).then(function(e){if(2e3===e.data.restcode){var a=e.data.result.static_dhcp.map(function(e,t){return e.key=t,e});t(Xt(e.data.result,a))}else console.log("\u672a\u77e5\u9519\u8bef\uff01")}).catch(function(e){console.log(e)})}},na=function(){var e=Object(m.a)({},se);return function(t){V.a.post(F,Object(m.a)({},e)).then(function(e){if(2e3===e.data.restcode){var a=e.data.result.arp_list.map(function(e,t){return e.key=t,e});t(ea(a))}else console.log("\u672a\u77e5\u9519\u8bef\uff01")}).catch(function(e){console.log(e)})}},ra=function(e){var t=Object(m.a)({},ie,e);return function(e){V.a.post(F,Object(m.a)({},t)).then(function(e){2e3===e.data.restcode?zt.a.success("\u8bbe\u7f6e\u6210\u529f"):console.log("\u672a\u77e5\u9519\u8bef\uff01")}).catch(function(e){console.log(e)})}},la="change_log_data",ia="change_sys_log",sa="change_sys_enable",oa="change_log_size",ca=Object(x.fromJS)({syslog_enable:!1,log_size:64,syslog:""}),da=function(e){return{type:la,log_size:e.log_size,syslog_enable:e.syslog_enable}},ua=function(e){return{type:ia,syslog:e}},pa=function(e){return{type:oa,log_size:e}},ma=function(e,t){return function(a){a({type:sa,syslog_enable:e}),ga(a,{syslog_enable:e,log_size:t})}},ha=function(){return function(e){var t=Object(m.a)({},$);V.a.post(F,Object(m.a)({},t)).then(function(t){2e3==t.data.restcode?(e(da(t.data.result)),ba(e)):zt.a.error(t.data.errmsg)}).catch(function(e){console.log(e)})}},ga=function(e,t){t=Object(m.a)({},B,t),V.a.post(F,Object(m.a)({},t)).then(function(t){2e3==t.data.restcode?(ba(e),zt.a.success("\u8bbe\u7f6e\u6210\u529f")):zt.a.error(t.data.errmsg)}).catch(function(e){console.log(e)})},fa=function(e){return function(t){ga(t,e)}},ba=function(e){var t=Object(m.a)({},K);V.a.post(F,Object(m.a)({},t)).then(function(t){2e3==t.data.restcode?e(ua(t.data.result.syslog)):zt.a.error(t.data.errmsg)}).catch(function(e){console.log(e)})},_a=function(){return function(e){e(ua("")),ba(e)}},Ea=function(){return function(e){var t=Object(m.a)({},H);V.a.post(F,Object(m.a)({},t)).then(function(t){2e3==t.data.restcode?(e(ua("")),ba(e)):zt.a.error(t.data.errmsg)}).catch(function(e){console.log(e)})}},va="time_of_day",ya="time_zone",wa="ntp_enable",Ca="ntp_server",Sa="init_ntp_data",Oa=a(81),ja=a.n(Oa),ka=Object(x.fromJS)({time_of_day:0,show_time:"",time_zone:"CST-8",ntp_enable:!1,ntp_server:[]}),Ia=function(e){return{type:Sa,data:e}},Aa=function(e){return{type:va,time_of_day:e}},xa=function(e){return{type:ya,time_zone:e}},Da=function(e){return{type:wa,ntp_enable:e}},Ma=function(e){return{type:Ca,ntp_server:e}},La=function(e){var t=ja()(e).format("YYYY-MM-DD HH:mm:ss"),a=Object(m.a)({},z,{browser_time:t});return function(t){V.a.post(F,Object(m.a)({},a)).then(function(a){2e3==a.data.restcode?(t(Aa(e)),zt.a.success("\u8bbe\u7f6e\u6210\u529f")):zt.a.error(a.data.errmsg)}).catch(function(e){console.log(e)})}},Ta=function(){return function(e){var t=Object(m.a)({},W);V.a.post(F,Object(m.a)({},t)).then(function(t){2e3==t.data.restcode?e(Ia(t.data.result)):zt.a.error(t.data.errmsg)}).catch(function(e){console.log(e)})}},Pa=function(e,t,a){var n=Object(m.a)({},q,{ntp_enable:e,ntp_server:t,time_zone:a});return function(e){e(Ma(t)),V.a.post(F,Object(m.a)({},n)).then(function(e){2e3==e.data.restcode?zt.a.success("\u8bbe\u7f6e\u6210\u529f"):zt.a.error(e.data.errmsg)}).catch(function(e){console.log(e)})}},Ra="sche_reboot_mode",Na="rectime",Va="t1minute",Fa="all_checked",Ua="init_scheduled_time",Ga="checkedList",Wa="time_of_day",qa=Object(x.fromJS)({sche_reboot_mode:0,rectime:0,weeks:0,checkAll:!1,hour:0,minute:0,show_t1hour:0,show_t1minute:10,checkedList:null,remaining_time:0,time_of_day:0,show_time:"2019-01-01 00:00:00"}),za=function(e){return{type:Wa,time_of_day:e}},$a=function(e){return{type:"t1hour",show_t1hour:e}},Ba=function(e){return{type:Va,show_t1minute:e}},Ka=function(e){return{type:"hour",hour:e}},Ha=function(e){return{type:"minute",minute:e}},Ja=function(e){return{type:"weeks",weeks:e}},Ya=function(e){return{type:Ra,sche_reboot_mode:parseInt(e)}},Qa=function(e){return{type:Na,rectime:e}},Za=function(e,t,a){return{type:Fa,checkAll:e,checkedList:t,weeks:a}},Xa=function(e){return{type:Ua,sche_reboot_mode:e.sche_reboot_mode,hour:e.hour,minute:e.minute,rectime:e.rectime,weeks:e.weeks,show_t1hour:Math.floor(e.rectime/3600),show_t1minute:Math.floor((e.rectime-3600*Math.floor(e.rectime/3600))/60),remaining_time:Date.now()+1e3*e.remaining_time,time_of_day:1e3*e.time_of_day,show_time:ja()(new Date(1e3*e.time_of_day)).format("YYYY-MM-DD HH:mm:ss")}},en=function(e,t,a,n,r){return{type:Ua,sche_reboot_mode:e,hour:n,minute:r,rectime:t,weeks:a,show_t1hour:0,show_t1minute:0,remaining_time:0}},tn=function(e,t){return{type:Ga,checkedList:e,checkAll:t}},an=function(e,t){if(255==t)e(tn([1,2,4,8,16,32,64],!0));else if(0==t)e(tn([],!1));else{var a=t.toString(2).split(""),n=a.length,r=n-1,l=0,i=[];for(r=n-1;0<=r;r--)"1"==a[r]&&i.push(Math.pow(2,l)),l++;e(tn(i,!1))}},nn=function(e){return function(t){t(Ya(e)),e=parseInt(e);var a=Object(m.a)({},Y,{sche_reboot_mode:e});0==e&&V.a.post(F,Object(m.a)({},a)).then(function(e){2e3==e.data.restcode?zt.a.success("\u8bbe\u7f6e\u6210\u529f"):zt.a.error(e.data.errmsg)}).catch(function(e){console.log(e)})}},rn=function(){var e=Object(m.a)({},J);return function(t){V.a.post(F,Object(m.a)({},e)).then(function(e){2e3==e.data.restcode?(t(Xa(e.data.result)),an(t,e.data.result.weeks)):zt.a.error(e.data.errmsg)}).catch(function(e){console.log(e)})}},ln=function(e,t){var a={sche_reboot_mode:e,rectime:t},n=Object(m.a)({},Y,a);return function(e){e(Qa(t)),V.a.post(F,Object(m.a)({},n)).then(function(e){2e3==e.data.restcode?window.location.reload(!0):zt.a.error(e.data.errmsg)}).catch(function(e){console.log(e)})}},sn=function(e,t,a,n,r){var l={sche_reboot_mode:e,rectime:t,weeks:a,hour:n,minute:r},i=Object(m.a)({},Y,l);return function(l){l(en(e,t,a,n,r)),an(l,a),V.a.post(F,Object(m.a)({},i)).then(function(e){2e3==e.data.restcode?window.location.reload(!0):zt.a.error(e.data.errmsg)}).catch(function(e){console.log(e)})}},on=Object(A.combineReducers)({header:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:D;return 1<arguments.length&&arguments[1],e},login:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:T,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case M:return e.merge({loginState:t.loginState,first_boot:t.first_boot});case L:return e.set("loginState",t.value);default:return e}},lan:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Wt,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Ut:return e.merge({ipaddr:t.ipaddr,netmask:t.netmask});case Gt:return e.merge({showProgress:t.showProgress,locktime:t.locktime,redir_ip:t.redir_ip});default:return e}},dchp:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:Zt,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Jt:return e.merge({enable:t.enable,minip:t.minip,maxip:t.maxip,startip:t.startip,endip:t.endip,leasetime:t.leasetime,static_dhcp:t.static_dhcp,dhcpList:t.dhcpList});case Yt:return e.merge({arpList:t.arpList});case Qt:return e.merge({enable:t.enable});default:return e}},setlog:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ca,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case la:return e.merge({log_size:t.log_size,syslog_enable:t.syslog_enable});case ia:return e.set("syslog",t.syslog);case sa:return e.set("syslog_enable",t.syslog_enable);case oa:return e.set("log_size",t.log_size);default:return e}},settime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ka,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Sa:return e.merge({time_of_day:1e3*t.data.time_of_day,show_time:ja()(new Date(1e3*t.data.time_of_day)).format("YYYY-MM-DD HH:mm:ss"),time_zone:t.data.time_zone,ntp_enable:t.data.ntp_enable,ntp_server:t.data.ntp_server});case Ca:return e.set("ntp_server",t.ntp_server);case va:return e.merge({time_of_day:t.time_of_day,show_time:ja()(new Date(t.time_of_day)).format("YYYY-MM-DD HH:mm:ss")});case ya:return e.set("time_zone",t.time_zone);case wa:return e.set("ntp_enable",t.ntp_enable);default:return e}},tickreboot:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:qa,t=1<arguments.length?arguments[1]:void 0;switch(t.type){case Fa:return e.merge({checkedList:t.checkedList,checkAll:t.checkAll,weeks:t.weeks});case Ua:return e.merge({weeks:t.weeks,sche_reboot_mode:t.sche_reboot_mode,hour:t.hour,minute:t.minute,rectime:t.rectime,show_t1hour:t.show_t1hour,show_t1minute:t.show_t1minute,remaining_time:t.remaining_time,time_of_day:t.time_of_day,show_time:t.show_time});case Wa:return e.merge({time_of_day:t.time_of_day,show_time:ja()(new Date(t.time_of_day)).format("YYYY-MM-DD HH:mm:ss")});case Na:return e.set("rectime",t.rectime);case Ra:return e.set("sche_reboot_mode",t.sche_reboot_mode);case"t1hour":return e.set("show_t1hour",t.show_t1hour);case Va:return e.set("show_t1minute",t.show_t1minute);case"hour":return e.set("hour",t.hour);case"minute":return e.set("minute",t.minute);case"weeks":return e.set("weeks",t.weeks);case Ga:return e.merge({checkedList:t.checkedList,checkAll:t.checkAll});default:return e}}}),cn=a(586),dn=("object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):I.c)(Object(I.a)(cn.a)),un=Object(I.d)(on,dn),pn=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement(O.a,{store:un},this.props.children)}}]),t}(c.Component),mn=(a(30),a(12)),hn=a.n(mn),gn=(a(40),a(2)),fn=a.n(gn),bn=(a(36),a(6)),_n=a.n(bn),En=(a(105),a(26)),vn=a.n(En),yn=(a(910),a(123),a(67)),wn=a.n(yn),Cn=a(38),Sn=a(587),On=a.n(Sn),jn="/cgi-bin/cgi_vista.cgi",kn=function(){function e(){Object(h.a)(this,e)}return Object(g.a)(e,null,[{key:"ajax_post",value:function(e){return new Promise(function(t,a){V()({baseApi:"",url:jn,method:"post",data:e.data}).then(function(e){200===e.status?2e3===e.data.restcode||"2000"===e.data.restcode?t(e.data):4006===e.data.restcode||"4006"===e.data.restcode?R.a.info({title:"\u63d0\u793a",content:"\u6743\u9650\u88ab\u7981\u6b62/\u5bc6\u7801\u9519\u8bef"}):4008===e.data.restcode||"4008"===e.data.restcode?t(e.data):R.a.info({title:"\u63d0\u793a",content:e.data.errmsg||"\u8fd4\u56de\u6570\u636e\u9519\u8bef"}):a(e.data)}).catch(function(){console.log("\u6570\u636e\u8bf7\u6c42\u9519\u8bef")})})}},{key:"jsonp",value:function(e){return new Promise(function(t,a){On()(e.url,{param:"callback"},function(e,n){"success"===n.status?t(n):a(n.message)})})}},{key:"ajax_get",value:function(e){return e.data&&!1!==e.data.isShowLoading&&(document.getElementById("ajaxLoading").style.display="block"),new Promise(function(t,a){V()({url:e.url,method:"get",baseURL:"https://easy-mock.com/mock/5c3b1896d3b9046e1aedbe56/api",timeout:5e3,params:e.data&&e.data.params||""}).then(function(n){if(e.data&&!1!==e.data.isShowLoading&&(document.getElementById("ajaxLoading").style.display="none"),"200"===n.status){var r=n.data;"2000"===r.restcode?t(r):R.a.info({title:"\u63d0\u793a",content:r.errmsg||"\u8fd4\u56de\u6570\u636e\u9519\u8bef"})}else a(n)})})}},{key:"ajax_post_loading",value:function(e){var t;return e.data&&!1!==e.data.isShowLoading&&((t=document.getElementById("ajaxLoading")).style.display="block"),new Promise(function(a,n){V()({url:jn,method:"post",baseURL:"",timeout:5e3,data:e.data}).then(function(r){if(e.data&&!1!==e.data.isShowLoading&&((t=document.getElementById("ajaxLoading")).style.display="none"),"200"===r.status){var l=r.data;"2000"===l.restcode?a(l):"4006"===l.restcode?R.a.info({title:"\u63d0\u793a",content:"\u6743\u9650\u88ab\u7981\u6b62/\u5bc6\u7801\u9519\u8bef"}):"4008"===l.restcode?a(l):R.a.info({title:"\u63d0\u793a",content:l.errmsg||"\u8fd4\u56de\u6570\u636e\u9519\u8bef"})}else n(r)}).catch(function(){t&&(t.style.display="none"),R.a.info({title:"\u63d0\u793a",content:jn+"\u6570\u636e\u8bf7\u6c42\u9519\u8bef"})})})}}]),e}(),In=R.a.confirm,An=function(e,t){var a,n;return(e=(a=e,n=Object.prototype.toString.call(a),/object\s(.*)]/.exec(n)[1]).toLowerCase())===t},xn=function e(t){if("object"!=typeof t||null===t)return t;var a,n=An(t,"array")?[]:{};for(a in t)"object"==typeof t[a]&&e(t[a]),n[a]=t[a];return n};function Dn(e){var t=parseInt(e),a=parseInt(e),n=0,r=0,l=0;return t<60?0===t?d.a.createElement("span",null,"--:--"):d.a.createElement("span",null,a,"\u79d2"):60<t&&t<3600?(n=parseInt(t/60),a=parseInt(t%60),d.a.createElement("span",null,n,"\u5206",a,"\u79d2")):3600<t&&t<86400?(a=parseInt(t%60),n=parseInt(t/60),r=parseInt(n/60),n=parseInt(n%60),d.a.createElement("span",null,r,"\u65f6",n,"\u5206",a,"\u79d2")):(a=parseInt(t%60),n=parseInt(t/60),r=parseInt(n/60),n=parseInt(n%60),l=parseInt(r/24),r=parseInt(r%24),d.a.createElement("span",null,l,"\u5929",r,"\u65f6",n,"\u5206",a,"\u79d2"))}function Mn(e){if(e<1024)return"".concat(e,"Byte");if(e<1048576){var t=Math.ceil(e/1024);return"".concat(t,"KByte")}if(e<1073741824){var a=Math.ceil(e/1024/1024);return"".concat(a,"MByte")}if(e<1099511627776){var n=Math.ceil(e/1024/1024/1024);return"".concat(n,"GByte")}var r=Math.ceil(e/1024/1024/1024/1024);return"".concat(r,"TByte")}function Ln(e){if(e<1024)return"".concat(e,"bps");if(e<1048576){var t=Math.ceil(e/1024);return"".concat(t,"Kbps")}if(e<1073741824){var a=Math.ceil(e/1024/1024);return"".concat(a,"Mbps")}if(e<1099511627776){var n=Math.ceil(e/1024/1024/1024);return"".concat(n,"Gbps")}}function Tn(e,t,a){var n=Rn(t),r=Rn(a);if(r<n)return zt.a.error("\u8d77\u59cbIP\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675fIP"),!1;if(""===e)return!0;var l=0;for(l=0;l<e.length;l++){var i=Rn(e[l].start_ip),s=Rn(e[l].end_ip);return!(i<=n&&n<=s||i<=r&&r<=s||n<=i&&s<=r)||(zt.a.error("\u5df2\u5b58\u5728\u6b64IP\u6bb5\uff01"),!1)}return!0}function Pn(e,t,a,n){var r=Rn(e),l=Rn(t),i=Rn(a),s=Rn(n);return e&&t&&a&&n?s<i?(zt.a.error("\u8d77\u59cbIP\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675fIP"),!1):r<=i&&i<=s&&s<=l||(zt.a.error("IP\u8303\u56f4\u53ea\u80fd\u4e3a".concat(e,"-").concat(t)),!1):(zt.a.error("\u83b7\u53d6\u6570\u636e\u9519\u8bef\uff1aminip/maxip\u4e0d\u6b63\u786e\uff01"),!1)}function Rn(e){var t=0;if(""===e)return t;var a=e.split(".");return 4!==a.length?t:(t+=parseInt(a[0])<<24,t+=parseInt(a[1])<<16,t+=parseInt(a[2])<<8,t+=parseInt(a[3])<<0,t>>>=0)}function Nn(e){In({title:"\u662f\u5426\u8981\u5e94\u7528\uff1f",content:"\u6ce8\u610f\uff1a\u70b9\u51fb\u786e\u5b9a\u540e\uff0c\u7cfb\u7edf\u5c06\u8fdb\u884c\u8bbe\u7f6e\uff01",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){e()},onCancel:function(){}})}function Vn(e,t){In({title:"\u662f\u5426\u786e\u5b9a\u8981".concat(e,"?"),content:"\u6ce8\u610f\uff1a\u70b9\u51fb\u786e\u5b9a\u540e\uff0c\u7cfb\u7edf\u5c06\u4f1a\u91cd\u542f\uff01",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){t()},onCancel:function(){}})}function Fn(e){var t=this,a=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=e,r=e,l=setInterval(function(){r-=1,t.setState({secondsToGo:r,percent:parseInt((n-r)/n*100)})},1e3);setTimeout(function(){!0===a?window.location.hash="#/status":(sessionStorage.clear(),window.location.hash="#/login",window.location.reload(!0)),clearInterval(l)},1e3*r)}function Un(e){var t=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=e,r=e,l=setInterval(function(){r-=1,t.setState({secondsToGo:r,percent:parseInt((n-r)/n*100)})},1e3);setTimeout(function(){var e=window.location.host;""!==a&&a!==e?(sessionStorage.clear(),window.location.href="http://"+a+"#/login"):window.location.reload(!0),clearInterval(l)},1e3*r)}a(917);var Gn=a(919),Wn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={secondsToGo:"",percent:0,company_website:"",logolink:""},a.getEnterpiseInfo=function(){var e=Object(m.a)({},Nt);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({logolink:e.result.company_website})})},a.handleRestart=function(){var e=Object(m.a)({},Q);kn.ajax_post({data:e}).then(function(e){2e3===e.restcode&&(a.setState({secondsToGo:e.locktime,visible:!0}),Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(e.locktime))})},a.getSystemInfo=function(){var e=Object(m.a)({},Et);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({company_website:e.result.company_website})})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getSystemInfo(),this.getEnterpiseInfo()}},{key:"render",value:function(){var e=this,t=this.props,a=t.login,n=t.logout;return d.a.createElement("div",{className:"header"},d.a.createElement("div",{className:"logo-position"},d.a.createElement("div",{className:"logo"},d.a.createElement("a",{href:"http://".concat(this.state.logolink),target:"blank"},d.a.createElement("img",{src:"/assets/logo.png",alt:"logo"})),a?d.a.createElement("div",{className:"logout-right"},d.a.createElement(Gn.a,{to:"/login",onClick:n},d.a.createElement("span",{style:{color:"#fff"}},"\u9000\u51fa")),d.a.createElement(hn.a,{style:{marginLeft:15},icon:"poweroff",type:"danger",shape:"circle",onClick:function(){return Vn("\u91cd\u542f",e.handleRestart)}})):d.a.createElement("span",{className:"login-right"},"\u60a8\u597d\uff0c\u8bf7\u767b\u9646"))),d.a.createElement(R.a,{title:"\u91cd\u542f\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),qn=Object(O.b)(function(e){return{username:e.getIn(["header","username"]),login:e.getIn(["login","loginState"])}},function(e){return{logout:function(){console.log("a"),e(n.logout())}}})(Wn),zn=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||(console.log("Received values of form: ",t),a.props.login(t))})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return this.props.loginState?1==this.props.first_boot?d.a.createElement(w.a,{to:"/wizard"}):d.a.createElement(w.a,{to:"/"}):d.a.createElement("div",null,d.a.createElement(qn,null),d.a.createElement("div",{id:"components-form-demo-normal-login"},d.a.createElement(fn.a,{onSubmit:this.handleSubmit,className:"login-form"},d.a.createElement(fn.a.Item,null,e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d!"}]})(d.a.createElement(_n.a,{prefix:d.a.createElement(vn.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}))),d.a.createElement(fn.a.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(d.a.createElement(_n.a,{prefix:d.a.createElement(vn.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",autoComplete:"new-password",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),d.a.createElement(fn.a.Item,null,d.a.createElement(hn.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u9646")))))}}]),t}(d.a.Component),$n=fn.a.create()(zn),Bn=Object(O.b)(function(e){return{loginState:e.getIn(["login","loginState"]),first_boot:e.getIn(["login","first_boot"])}},function(e){return{login:function(t){e(n.login(t))}}})($n),Kn=(a(260),a(50)),Hn=a.n(Kn),Jn=(a(979),function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement("div",{className:"footer"})}}]),t}(d.a.Component)),Yn=(a(981),a(228)),Qn=a.n(Yn),Zn=a(1493),Xn=[{title:"\u7cfb\u7edf\u72b6\u6001",key:"/status",type:""},{title:"\u7f51\u7edc\u8bbe\u7f6e",key:"/network",type:"",children:[{title:"\u5916\u7f51\u8bbe\u7f6e",key:"/network/wan",type:""},{title:"\u5c40\u57df\u7f51\u8bbe\u7f6e",key:"/network/lan",type:""},{title:"DHCP\u8bbe\u7f6e",key:"/network/dhcp",type:""}]},{title:"QOS\u8bbe\u7f6e",key:"/qos",type:""},{title:"\u4e0a\u7f51\u884c\u4e3a\u7ba1\u7406",key:"/behavior",type:"",children:[{title:"\u5e94\u7528\u8fc7\u6ee4",key:"/behavior/appFilter",type:""},{title:"MAC\u8bbf\u95ee\u63a7\u5236",key:"/behavior/macFilter",type:""},{title:"\u81ea\u5b9a\u4e49\u7f51\u7ad9\u8fc7\u6ee4",key:"/behavior/urlFilter",type:""},{title:"IP/\u7aef\u53e3\u8fc7\u6ee4",key:"/behavior/ipfilter",type:""},{title:"\u7ec8\u7aef\u8fde\u63a5\u6570\u63a7\u5236",key:"/behavior/connectNumber",type:""}]},{title:"AP\u96c6\u4e2d\u7ba1\u7406",key:"/apManagement",type:"",children:[{title:"AP\u72b6\u6001",key:"/apManagement/status",type:""},{title:"AP\u7fa4\u7ec4\u8bbe\u7f6e",key:"/apManagement/groupUnified",type:""},{title:"AP\u5347\u7ea7\u8bbe\u7f6e",key:"/apManagement/upgrade",type:""},{title:"\u9ad8\u7ea7\u914d\u7f6e",key:"/apManagement/advanceconfig",type:""},{title:"\u6570\u636e\u5e93\u7ba1\u7406",key:"/apManagement/databasemanage",type:""}]},{title:"\u8ba4\u8bc1\u8bbe\u7f6e",key:"/captive_portal",type:"",children:[{title:"PORTAL\u8bbe\u7f6e",key:"/captive_portal/setting",type:""},{title:"PORTAL\u767d\u540d\u5355",key:"/captive_portal/garden",type:""}]},{title:"\u9ad8\u7ea7\u529f\u80fd",key:"/advanced",type:"",children:[{title:"\u7aef\u53e3\u6620\u5c04",key:"/advance/portForward",type:""},{title:"DMZ\u8bbe\u7f6e",key:"/advance/dmz",type:""},{title:"DDNS\u8bbe\u7f6e",key:"/advance/ddns",type:""},{title:"UPNP\u8bbe\u7f6e",key:"/advance/upnp",type:""},{title:"\u9759\u6001\u8def\u7531",key:"/advance/staticRouter",type:""},{title:"\u7b56\u7565\u8def\u7531",key:"/advance/dynamicRouter",type:""}]},{title:"\u5b89\u5168\u8bbe\u7f6e",key:"/security",type:"",children:[{title:"ARP\u5217\u8868",key:"/security/ARPlist",type:""},{title:"ARP\u7ed1\u5b9a\u8bbe\u7f6e",key:"/security/ARPbind",type:""},{title:"WanPing\u8bbe\u7f6e",key:"/security/wanping",type:""}]},{title:"\u7cfb\u7edf\u5de5\u5177",key:"/tools",type:"",children:[{title:"Ping\u6d4b\u8bd5",key:"/tools/ping",type:""},{title:"\u8def\u7531\u8ddf\u8e2a",key:"/tools/routeTrack",type:""},{title:"DHCP\u68c0\u6d4b",key:"/tools/dhcptest",type:""}]},{title:"\u7cfb\u7edf\u8bbe\u7f6e",key:"/setup",type:"",children:[{title:"\u8fdc\u7a0b\u7ba1\u7406",key:"/setup/remote",type:""},{title:"\u4fee\u6539\u5bc6\u7801",key:"/setup/password",type:""},{title:"\u7cfb\u7edf\u65e5\u5fd7",key:"/setup/log",type:""},{title:"\u7cfb\u7edf\u65f6\u95f4",key:"/systime",type:""},{title:"\u7cfb\u7edf\u5347\u7ea7",key:"/setup/upgrade",type:""},{title:"\u7cfb\u7edf\u6062\u590d/\u5907\u4efd/\u91cd\u542f",key:"/setup/administration",type:""},{title:"\u5b9a\u65f6\u91cd\u542f",key:"/sche_reboot",type:""}]},{title:"\u8bbe\u7f6e\u5f15\u5bfc\u9879",key:"/wizard"}],er=Qn.a.SubMenu,tr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={openKeys:["/status"]},a.onOpenChange=function(e){var t=e.find(function(e){return-1===a.state.openKeys.indexOf(e)});a.setState({openKeys:t?[t]:[]})},a.renderMenu=function(e){return e.map(function(e){return e.children?d.a.createElement(er,{key:e.key,title:e.title},a.renderMenu(e.children)):d.a.createElement(Qn.a.Item,{key:e.key},d.a.createElement(Zn.a,{to:e.key},e.title))})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){var e=this.renderMenu(Xn);this.setState({menuTreeNode:e}),this.selectKey=0<window.location.hash.length?window.location.hash.substring(1):"",this.openKeys=this.selectKey.split("/")[1],this.setState({openKeys:["/"+this.openKeys]})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(Qn.a,{theme:"white",defaultSelectedKeys:[this.selectKey],mode:"inline",openKeys:this.state.openKeys,onOpenChange:this.onOpenChange},this.state.menuTreeNode))}}]),t}(d.a.Component),ar=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.loginState,t=sessionStorage.getItem("loginState");return d.a.createElement("div",null,"1"===t||e?d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement(qn,null)),d.a.createElement(S.a,{className:"container"},d.a.createElement(Hn.a,{span:3,className:"nav-left"},d.a.createElement(tr,null)),d.a.createElement(Hn.a,{span:21,className:"main"},d.a.createElement(S.a,{className:"content"},this.props.children),d.a.createElement(Jn,null)))):"#/login"===window.location.hash?null:d.a.createElement(w.a,{to:"/login"}))}}]),t}(d.a.Component),nr=Object(O.b)(function(e){return{loginState:e.getIn(["login","loginState"])}},null)(ar),rr=(a(78),a(43)),lr=a.n(rr),ir=(c.PureComponent,[{key:"1",name:"John Brown",age:32,address:"New York No. 1 Lake Park"},{key:"2",name:"Jim Green",age:42,address:"London No. 1 Lake Park"},{key:"3",name:"Joe Black",age:32,address:"Sidney No. 1 Lake Park"},{key:"4",name:"Jim Red",age:32,address:"London No. 2 Lake Park"}]),sr=(function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={filteredInfo:null,sortedInfo:null},a.handleChange=function(e,t,n){console.log("Various parameters",e,t,n),a.setState({filteredInfo:t,sortedInfo:n})},a.clearFilters=function(){a.setState({filteredInfo:null})},a.clearAll=function(){a.setState({filteredInfo:null,sortedInfo:null})},a.setAgeSort=function(){a.setState({sortedInfo:{order:"descend",columnKey:"age"}})},a}Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.sortedInfo,a=e.filteredInfo;t=t||{};var n=[{title:"Name",dataIndex:"name",key:"name",filters:[{text:"Joe",value:"Joe"},{text:"Jim",value:"Jim"}],filteredValue:(a=a||{}).name||null,onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===t.columnKey&&t.order},{title:"Age",dataIndex:"age",key:"age",sorter:function(e,t){return e.age-t.age},sortOrder:"age"===t.columnKey&&t.order},{title:"Address",dataIndex:"address",key:"address",filters:[{text:"London",value:"London"},{text:"New York",value:"New York"}],filteredValue:a.address||null,onFilter:function(e,t){return t.address.includes(e)},sorter:function(e,t){return e.address.length-t.address.length},sortOrder:"address"===t.columnKey&&t.order}];return d.a.createElement("div",null,d.a.createElement("div",{className:"table-operations"},d.a.createElement(hn.a,{onClick:this.setAgeSort},"Sort age"),d.a.createElement(hn.a,{onClick:this.clearFilters},"Clear filters"),d.a.createElement(hn.a,{onClick:this.clearAll},"Clear filters and sorters")),d.a.createElement(lr.a,{columns:n,dataSource:ir,onChange:this.handleChange}))}}])}(d.a.Component),a(33),a(20)),or=a.n(sr),cr=(a(481),a(172)),dr=a.n(cr),ur=(a(1079),hn.a.Group),pr=_n.a.Search,mr=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={sortedInfo:null,visible:!1,showAcl:!1,client_list:[],conntrack_counts:0,conntrack_list:[],acl_list:[]},a.handleChange=function(e,t,n){a.setState({sortedInfo:n})},a.getBreafClientInfo=function(){var e=Object(m.a)({},yt);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({client_list:e.result.client_list,client_list_src:e.result.client_list})})},a.getBreafConntrackInfo=function(e){var t=Object(m.a)({},wt,{ip_address:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.setState({conntrack_counts:e.result.conntrack_counts,conntrack_list:e.result.conntrack_list})}).then(function(e){a.setState({visible:!0})})},a.getAclList=function(){var e=Object(m.a)({},Ct);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({acl_list:e.result.acl_list})})},a.addAclList=function(e){var t=Object(m.a)({},St,{acl_mac:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.getBreafClientInfo()})},a.deleteAclList=function(e){var t=Object(m.a)({},Ot,{acl_mac:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.getAclList()})},a.hideModal=function(){a.setState({visible:!1})},a.showAclList=function(){a.setState({showAcl:!0})},a.showClientInfo=function(){a.setState({showAcl:!1})},a.goback=function(){clearInterval(a.intervalId),a.props.goback()},a.handleFilterList=function(e,t){if(t){var n=a.state.client_list_src;a.setState({client_list:n})}else a.setState({client_list:e})},a.handleSearch=function(e){var t=a.state.client_list,n=[];""==e?a.handleFilterList(null,!0):(t.forEach(function(t,a){-1==t.mac_address.indexOf(e)&&-1==t.ip_address.indexOf(e)||n.push(t)}),a.handleFilterList(n,!1))},a.aclColumns=[{title:"MAC\u5730\u5740",dataIndex:"acl_mac",key:"1"},{title:"\u89e3\u9664\u5c01\u9501",dataIndex:"acl_mac",key:"2",render:function(e,t){return d.a.createElement("a",null,d.a.createElement(vn.a,{type:"unlock",style:{color:"green"},onClick:function(){return a.deleteAclList(e)}}))}}],a.conntrackColumns=[{title:"\u76ee\u7684\u7aef\u53e3",dataIndex:"dst_port",width:100,key:"1"},{title:"\u76ee\u7684\u5730\u5740",dataIndex:"dst",width:150,key:"2"},{title:"\u534f\u8bae",dataIndex:"protocol",width:80,key:"3"},{title:"\u6e90\u7aef\u53e3",dataIndex:"sport",width:80,key:"4"},{title:"\u6e90\u5730\u5740",dataIndex:"src",width:150,key:"5"},{title:"\u8fde\u63a5\u65f6\u95f4",dataIndex:"time",key:"6"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getBreafClientInfo(),this.getAclList(),this.intervalId=setInterval(function(){e.getBreafClientInfo(),e.getAclList()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e=this,t=this.state.sortedInfo,a=[{title:"MAC\u5730\u5740",dataIndex:"mac_address",key:"1"},{title:"IP\u5730\u5740",dataIndex:"ip_address",key:"ip_address",sorter:function(e,t){return Rn(e.ip_address)-Rn(t.ip_address)},sortOrder:"ip_address"===(t=t||{}).columnKey&&t.order},{title:"\u7d2f\u8ba1\u4e0a\u4f20",dataIndex:"up_byte",key:"up_byte",sorter:function(e,t){return e.up_byte-t.up_byte},sortOrder:"up_byte"===t.columnKey&&t.order,render:function(e,t){return d.a.createElement("span",null,Mn(e))}},{title:"\u7d2f\u8ba1\u4e0b\u8f7d",dataIndex:"down_byte",key:"down_byte",sorter:function(e,t){return e.down_byte-t.down_byte},sortOrder:"down_byte"===t.columnKey&&t.order,render:function(e,t){return d.a.createElement("span",null,Mn(e))}},{title:"\u4e0a\u4f20\u901f\u5ea6",dataIndex:"up_rate",key:"up_rate",sorter:function(e,t){return e.up_rate-t.up_rate},sortOrder:"up_rate"===t.columnKey&&t.order,render:function(e,t){return d.a.createElement("span",null,Ln(e))}},{title:"\u4e0b\u8f7d\u901f\u5ea6",dataIndex:"down_rate",key:"down_rate",sorter:function(e,t){return e.down_rate-t.down_rate},sortOrder:"down_rate"===t.columnKey&&t.order,render:function(e,t){return d.a.createElement("span",null,Ln(e))}},{title:"\u8fde\u63a5\u6570",dataIndex:"ip_address",key:"7",render:function(t,a){return d.a.createElement("a",{onClick:function(){return e.getBreafConntrackInfo(t)}},"\u67e5\u770b")}},{title:"\u963b\u6b62\u4e0a\u7f51",dataIndex:"mac_address",key:"8",render:function(t,a){return d.a.createElement("a",null,d.a.createElement(vn.a,{type:"lock",style:{color:"red"},onClick:function(){return e.addAclList(t)}}))}}];return d.a.createElement("div",null,d.a.createElement(or.a,null,d.a.createElement(ur,null,d.a.createElement(hn.a,{type:"primary",ghost:!0,onClick:this.goback},d.a.createElement(vn.a,{type:"left"}),"\u8fd4\u56de"),d.a.createElement(hn.a,{type:"primary",style:{marginBottom:20},onClick:this.showClientInfo},"\u5728\u7ebf\u5217\u8868"),d.a.createElement(hn.a,{type:"primary",onClick:this.showAclList},"ACL\u5217\u8868")),d.a.createElement(pr,{enterButton:!0,placeholder:"MAC/IP\u5730\u5740",onSearch:this.handleSearch,style:{width:200,marginLeft:20}}),0==this.state.showAcl?d.a.createElement(lr.a,{bordered:!0,columns:a,dataSource:this.state.client_list,onChange:this.handleChange}):d.a.createElement(lr.a,{bordered:!0,columns:this.aclColumns,dataSource:this.state.acl_list}),d.a.createElement(R.a,{title:"\u8fde\u63a5\u6570(".concat(this.state.conntrack_counts,")"),visible:this.state.visible,footer:null,onCancel:this.hideModal,destroyOnClose:!0,maskClosable:!0,width:800},d.a.createElement(lr.a,{bordered:!0,columns:this.conntrackColumns,dataSource:this.state.conntrack_list,pagination:!1,scroll:{y:600}}))))}}]),t}(d.a.Component),hr=a(383),gr=a.n(hr),fr={color:["#c38e93","#43a4d7","#ffc100","#91d950","#3e4cb7","#eb1361","#9c1ab2","#cc7e63","#724e58","#4b565b"],backgroundColor:"#ffffff",textStyle:{},title:{textStyle:{color:"#cccccc"},subtextStyle:{color:"#cccccc"}},line:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:"10",symbol:"emptyCircle",smooth:!1},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#f1f3f5"}},axisTick:{show:!0,lineStyle:{color:"#f1f3f5"}},axisLabel:{show:!0,textStyle:{color:"#999999",fontSize:"14"}},splitLine:{show:!0,lineStyle:{color:["#f1f3f5"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#f1f3f5"}},axisTick:{show:!0,lineStyle:{color:"#f1f3f5"}},axisLabel:{show:!0,textStyle:{color:"#999999",fontSize:"14"}},splitLine:{show:!0,lineStyle:{color:["#f1f3f5"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#333333"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#293c55",width:1},itemStyle:{normal:{color:"#293c55",borderWidth:1},emphasis:{color:"#a9334c"}},controlStyle:{normal:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},emphasis:{color:"#293c55",borderColor:"#293c55",borderWidth:.5}},checkpointStyle:{color:"#e43c59",borderColor:"rgba(194,53,49,0.5)"},label:{normal:{textStyle:{color:"#293c55"}},emphasis:{textStyle:{color:"#293c55"}}}},markPoint:{label:{normal:{textStyle:{color:"#ffffff"}},emphasis:{textStyle:{color:"#ffffff"}}}}},br=a(18),_r=a.n(br),Er=(a(518),a(547),a(549),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={showClient:!1,systemInfo:{total_wtp:0,online_wtp:0,product_name:"",fw_version:0,buildtime:"",company_website:"",time_of_day:0,uptime:0,cpu_rt_usage:0,mem_rt_usage:0,flash_usage:0},total_rx_bytes:0,total_tx_bytes:0,network_info:[],classNet:["iconfont net-nolink","iconfont net-nolink","iconfont net-nolink","iconfont net-nolink","iconfont net-nolink"],classSpan:["LAN1","LAN2","LAN3","WAN2","WAN1"]},a.getSystemInfo=function(){var e=Object(m.a)({},Et);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({systemInfo:e.result})})},a.getNetworkInfo=function(){var e=Object(m.a)({},vt);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){var t=e.result.network_info,n=[],r=[],l=1;for(0==t[0].link?n[0]="iconfont net-nolink":n[0]="iconfont net-lan",r[0]="LAN1";l<t.length;l++)0==t[l].link?(n[l]="iconfont net-nolink",0==t[l].network_type?r[l]="LAN".concat(l+1):r[l]="WAN".concat(Math.abs(l-t.length))):1==t[l].link&&0==t[l].network_type?(n[l]="iconfont net-lan",r[l]="LAN".concat(l+1)):1==t[l].link&&1==t[l].network_type&&(n[l]="iconfont net-wan",r[l]="WAN".concat(Math.abs(l-t.length)));a.setState({classNet:n,classSpan:r}),a.setState({network_info:e.result.network_info,total_rx_bytes:e.result.total_rx_bytes,total_tx_bytes:e.result.total_tx_bytes,classNet:n,classSpan:r})}})},a.getApPie=function(){var e=a.state.systemInfo.total_wtp,t=a.state.systemInfo.online_wtp;return{title:{text:"AP\u6570\u76ee",x:"center",textStyle:{color:"#CCC"}},legend:{top:30,data:["\u5728\u7ebf","\u79bb\u7ebf"]},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"AP\u6570\u76ee",type:"pie",avoidLabelOverlap:!1,radius:["40%","70%"],label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"20",fontWeight:"bold"}}},data:[{value:t,name:"\u5728\u7ebf"},{value:e-t,name:"\u79bb\u7ebf"}]}]}},a.getBar=function(){var e=a.state.systemInfo.cpu_rt_usage;return{title:{text:"\u8bbe\u5907\u5229\u7528\u7387",subtext:""},tooltip:{trigger:"axis",formatter:"{a} <br/>{b} : {c}%"},legend:{data:["\u5229\u7528\u7387"]},calculable:!0,xAxis:[{type:"value",max:100,axisLabel:{formatter:"{value} %"}}],yAxis:[{type:"category",data:["\u5185\u5b58","CPU","Flash"]}],series:[{name:"\u5229\u7528\u7387",type:"bar",data:[a.state.systemInfo.mem_rt_usage,e,a.state.systemInfo.flash_usage]}]}},a.renderDns=function(e){return e&&0!=e.length?e.map(function(e,t){return d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"DNS",t+1," :"),d.a.createElement("div",{className:"detail-form-content"},e))}):void 0},a.renderLanUI=function(e){return e.map(function(e,t){return d.a.createElement("i",null,d.a.createElement("i",{className:a.state.classNet[t]},"\ue86f"),100==e.speed?d.a.createElement("sup",{className:"suplan-Qcolor"},e.speed,"M"):1e3==e.speed?d.a.createElement("sup",{className:"suplan-Bcolor"},e.speed,"M"):null)})},a.renderWanMsg=function(e){return e.map(function(t,n){return 0!=n&&1==t.network_type?1===t.link?d.a.createElement(Hn.a,{span:5},d.a.createElement(or.a,{bordered:!1},d.a.createElement("h4",null,a.state.classSpan[n]),d.a.createElement("div",{className:"sys-detail-items"},d.a.createElement("ul",{className:"detail-form"},d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"MAC\u5730\u5740:"),d.a.createElement("div",{className:"detail-form-content"},e[n].mac_address)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"IP\u5730\u5740:"),d.a.createElement("div",{className:"detail-form-content"},e[n].ip_address)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u5b50\u7f51\u63a9\u7801:"),d.a.createElement("div",{className:"detail-form-content"},e[n].netmask)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u7f51\u5173:"),d.a.createElement("div",{className:"detail-form-content"},e[n].gateway)),a.renderDns(e[n].dns_server))),d.a.createElement(S.a,{gutter:16},d.a.createElement(Hn.a,{span:8},d.a.createElement(dr.a,{title:"\u4e0a\u884c\u901f\u7387",value:Ln(e[n].tx_bps),valueStyle:{color:"#3f8600",fontSize:14},prefix:d.a.createElement(vn.a,{type:"arrow-up"}),suffix:""})),d.a.createElement(Hn.a,{span:8},d.a.createElement(dr.a,{title:"\u4e0b\u884c\u901f\u7387",value:Ln(e[n].rx_bps),valueStyle:{color:"#cf1322",fontSize:14},prefix:d.a.createElement(vn.a,{type:"arrow-down"}),suffix:""}))))):d.a.createElement(Hn.a,{span:5},d.a.createElement(or.a,{bordered:!1},d.a.createElement("h4",null,a.state.classSpan[n]),d.a.createElement("div",{className:"sys-detail-items"},d.a.createElement("ul",{className:"detail-form"},d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"MAC\u5730\u5740:"),d.a.createElement("div",{className:"detail-form-content"},e[n].mac_address)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u7f51\u7edc\u672a\u8fde\u63a5")))))):0!=n&&1!==t.network_type?d.a.createElement(Hn.a,{span:3},d.a.createElement(or.a,{bordered:!1})):void 0})},a.showClientDetail=function(){clearInterval(a.intervalId),a.setState({showClient:!0})},a.goback=function(){a.intervalId=setInterval(function(){a.getSystemInfo(),a.getNetworkInfo()},5e3),a.setState({showClient:!1})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){_r.a.registerTheme("myecharts",fr)}},{key:"componentDidMount",value:function(){var e=this;this.getSystemInfo(),this.getNetworkInfo(),this.intervalId=setInterval(function(){e.getSystemInfo(),e.getNetworkInfo()},5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalId)}},{key:"render",value:function(){var e,t=this.state,a=t.systemInfo,n=t.network_info,r=(t.classNet,t.classSpan);return d.a.createElement("div",null,0==this.state.showClient?d.a.createElement("div",null,d.a.createElement(or.a,null,d.a.createElement("h2",null,"\u7cfb\u7edf\u72b6\u6001"),d.a.createElement(S.a,{gutter:16},d.a.createElement(Hn.a,{span:5},d.a.createElement("div",{className:"sys-detail-items"},d.a.createElement("ul",{className:"detail-form"},d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u4ea7\u54c1\u540d\u79f0:"),d.a.createElement("div",{className:"detail-form-content"},a.product_name)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u8f6f\u4ef6\u7248\u672c:"),d.a.createElement("div",{className:"detail-form-content"},a.fw_version)),d.a.createElement("li",null,d.a.createElement("a",{href:"http://".concat(a.company_website),target:"blank"},d.a.createElement("div",{className:"detail-form-left"},"\u5b98\u7f51\u5730\u5740:"),d.a.createElement("div",{className:"detail-form-content"},a.company_website))),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u53d1\u5e03\u65f6\u95f4:"),d.a.createElement("div",{className:"detail-form-content"},a.buildtime)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u5f53\u524d\u65f6\u95f4:"),d.a.createElement("div",{className:"detail-form-content"},(e=a.time_of_day,ja()(new Date(1e3*e)).format("YYYY-MM-DD HH:mm:ss")))),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u8fd0\u884c\u65f6\u95f4:"),d.a.createElement("div",{className:"detail-form-content"},Dn(a.uptime)))))),d.a.createElement(Hn.a,{span:14,style:{height:250}},d.a.createElement(Hn.a,{span:6},d.a.createElement(gr.a,{style:{height:260},option:this.getApPie(),theme:"myecharts"})),d.a.createElement(Hn.a,{span:2}),d.a.createElement(Hn.a,{span:16},d.a.createElement(gr.a,{style:{height:260,width:600},option:this.getBar(),theme:"myecharts"}))))),d.a.createElement("br",null),d.a.createElement(S.a,{gutter:16},d.a.createElement(Hn.a,{span:1}),d.a.createElement(Hn.a,{span:15},this.renderLanUI(n),d.a.createElement("br",null),d.a.createElement("span",{style:{paddingRight:8}}),d.a.createElement("span",{className:"net-span"},r[0]),d.a.createElement("span",{className:"net-span"},r[1]),d.a.createElement("span",{className:"net-span"},r[2]),d.a.createElement("span",{className:"net-span"},r[3]),d.a.createElement("span",{className:"net-span"},r[4])),d.a.createElement(Hn.a,{span:8},d.a.createElement(S.a,{gutter:20},d.a.createElement(Hn.a,{span:10},d.a.createElement(dr.a,{title:"\u4e0a\u884c\u603b\u6d41\u91cf",value:Mn(this.state.total_tx_bytes),valueStyle:{color:"#43a4d7"},prefix:d.a.createElement(vn.a,{type:"arrow-up"}),suffix:""})),d.a.createElement(Hn.a,{span:10},d.a.createElement(dr.a,{title:"\u4e0b\u884c\u603b\u6d41\u91cf",value:Mn(this.state.total_rx_bytes),valueStyle:{color:"#c38e93"},prefix:d.a.createElement(vn.a,{type:"arrow-down"}),suffix:""}))))),d.a.createElement(or.a,null,d.a.createElement("h2",null,"\u7f51\u7edc\u4fe1\u606f"),d.a.createElement(S.a,{gutter:24},d.a.createElement(Hn.a,{span:5},d.a.createElement(or.a,{bordered:!1},d.a.createElement("h4",null,"\u5185\u7f51\u4fe1\u606f"),d.a.createElement("div",{className:"sys-detail-items"},d.a.createElement("ul",{className:"detail-form"},d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"MAC\u5730\u5740:"),d.a.createElement("div",{className:"detail-form-content"},0<n.length?n[0].mac_address:null)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"IP\u5730\u5740:"),d.a.createElement("div",{className:"detail-form-content"},0<n.length?n[0].ip_address:null)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u5b50\u7f51\u63a9\u7801:"),d.a.createElement("div",{className:"detail-form-content"},0<n.length?n[0].netmask:null)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u5728\u7ebf\u5ba2\u6237\u7aef:"),d.a.createElement("div",{className:"detail-form-content"},0<n.length?n[0].client_num:null,d.a.createElement("a",{onClick:this.showClientDetail},"  \u67e5\u770b"))))))),this.renderWanMsg(n)))):d.a.createElement("div",null,d.a.createElement(mr,{goback:this.goback.bind(this)})))}}]),t}(d.a.Component)),vr=(a(63),a(29)),yr=a.n(vr),wr=(a(73),a(24)),Cr=a.n(wr),Sr={labelCol:{xs:24,sm:24,md:8},wrapperCol:{xs:24,sm:24,md:8}},Or={wrapperCol:{xs:24,sm:24,md:{span:22,offset:8}}},jr=Cr.a.Option,kr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={remote_enable:!1,wanid:1,port:8080,multiwan_list:[{wanid:0,interface:"all"},{wanid:1,interface:"wan1"}]},a.getRemoteManageConfig=function(){var e=Object(m.a)({},qe);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){var t=1;1==e.result.multiwan_list.some(function(t){return t.wanid==e.result.wanid})&&(t=e.result.wanid),a.setState({remote_enable:e.result.remote_enable,wanid:t,port:e.result.port,multiwan_list:e.result.multiwan_list})}})},a.setRemoteManageConfig=function(e){var t=Object(m.a)({},ze,e);kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f")})},a.handleSetRemoteManageConfig=function(){a.props.form.validateFields(function(e,t){if(!e){a.setState({wanid:t.wanid,port:t.port});var n=Object(m.a)({remote_enable:a.state.remote_enable},t);a.setRemoteManageConfig(n)}})},a.renderMulitiWan=function(e){return e.map(function(e){return d.a.createElement(jr,{value:e.wanid},e.interface.toUpperCase())})},a.handleSwitch=function(e){a.setState({remote_enable:e});var t={remote_enable:e,wanid:a.state.wanid,port:a.state.port};a.setRemoteManageConfig(t)},a.handleChangeWanid=function(e){a.setState({wanid:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getRemoteManageConfig(),this.state.multiwan_list.some(function(t){return t.wanid==e.state.wanid})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(or.a,{title:"\u8fdc\u7a0b\u7ba1\u7406"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5f00\u5173"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:this.state.remote_enable,onChange:this.handleSwitch})),0==this.state.remote_enable?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6307\u5b9a\u63a5\u53e3"}),e("wanid",{initialValue:this.state.wanid})(d.a.createElement(Cr.a,{onChange:this.handleChangeWanid},this.renderMulitiWan(this.state.multiwan_list)))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u7aef\u53e3"}),e("port",{rules:[{pattern:new RegExp("^([8-9]\\d|\\d{3,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u63a5\u53e3\u53ea\u80fd\u4e3a80-65535\uff01"}],initialValue:this.state.port})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetRemoteManageConfig},"\u5e94\u7528")))))}}]),t}(d.a.Component),Ir=fn.a.create()(kr),Ar=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1},a.request=function(e){kn.ajax_post({data:e}).then(function(e){2e3===e.restcode&&(a.setState({dataSource:[e.result]}),zt.a.success("\u8bbe\u7f6e\u6210\u529f"),sessionStorage.clear(),window.location.reload(!0))})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e){if(t.prepassword==t.newpassword)return zt.a.error("\u65b0\u5bc6\u7801\u4e0e\u65e7\u5bc6\u7801\u4e0d\u80fd\u76f8\u540c\uff01"),!1;var n=Object(m.a)({},G,{prepassword:t.prepassword,newpassword:t.newpassword});a.request(n)}})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.compareToFirstPassword=function(e,t,n){var r=a.props.form;t&&t!==r.getFieldValue("newpassword")?n("\u4e24\u6b21\u8f93\u5165\u5bc6\u7801\u4e0d\u4e00\u81f4!"):n()},a.validateToNextPassword=function(e,t,n){var r=a.props.form;t&&a.state.confirmDirty&&r.validateFields(["confirmpassword"],{force:!0}),n()},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(or.a,{title:"\u4fee\u6539\u5bc6\u7801"},d.a.createElement(fn.a,{onSubmit:this.handleSubmit},d.a.createElement(fn.a.Item,Object.assign({label:"\u65e7\u5bc6\u7801\uff1a"},Sr),e("prepassword",{initialValue:"",rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(.{5,32})$"),message:"\u8bf7\u8f93\u51655-32\u4f4d\u7684\u5bc6\u7801\uff01"}]})(d.a.createElement(_n.a.Password,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u65b0\u5bc6\u7801\uff1a"}),e("newpassword",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(.{5,32})$"),message:"\u8bf7\u8f93\u51655-32\u4f4d\u7684\u5bc6\u7801\uff01"},{validator:this.validateToNextPassword}]})(d.a.createElement(_n.a.Password,{type:"password",placeholder:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u786e\u8ba4\u5bc6\u7801\uff1a"}),e("confirmpassword",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(.{5,32})$"),message:"\u8bf7\u8f93\u51655-32\u4f4d\u7684\u5bc6\u7801\uff01"},{validator:this.compareToFirstPassword}]})(d.a.createElement(_n.a.Password,{type:"password",placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801",onBlur:this.handleConfirmBlur}))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",htmlType:"submit"},"\u5e94\u7528"))))}}]),t}(d.a.Component),xr=fn.a.create({name:"register"})(Ar),Dr=[{label:"(UTC-12:00) International Date Line West",value:"<+12>-12"},{label:"(UTC-11:00) Midway Islands",value:"SST11"},{label:"(UTC-10:00) Hawaii",value:"HST10"},{label:"(UTC-09:00) Alaska",value:"AKST9AKDT,M3.2.0,M11.1.0"},{label:"(UTC-08:00) Pacific Time (US &amp; Canada)",value:"PST8PDT,M3.2.0,M11.1.0"},{label:"(UTC-07:00) Arizona",value:"MST7"},{label:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",value:"MST7MDT,M4.1.0,M10.5.0"},{label:"(UTC-07:00) Mountain Time (US &amp; Canada)",value:"MST7MDT,M3.2.0,M11.1.0"},{label:"(UTC-06:00) Central America",value:"CST6"},{label:"(UTC-06:00) Central Time (US &amp; Canada)",value:"CST6CDT,M3.2.0,M11.1.0"},{label:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",value:"CST6CDT,M4.1.0,M10.5.0"},{label:"(UTC-05:00) Bogota, Lima, Quito",value:"<-05>5"},{label:"(UTC-05:00) Indiana (East)",value:"EST5EDT,M3.2.0,M11.1.0"},{label:"(UTC-04:00) Asuncion",value:"<-04>4<-03>,M10.1.0/0,M3.4.0/0"},{label:"(UTC-04:00) Atlantic Time (Canada)",value:"AST4ADT,M3.2.0,M11.1.0"},{label:"(UTC-04:00) Cuiaba",value:"<-04>4<-03>,M11.1.0/0,M2.3.0/0"},{label:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",value:"<-04>4"},{label:"(UTC-03:00) Brasilia, Sao Paulo",value:"<-03>3<-02>,M11.1.0/0,M2.3.0/0"},{label:"(UTC-03:00) Cayenne, Fortaleza, Salvador",value:"<-03>3"},{label:"(UTC-03:00) Greenland",value:"<-03>3<-02>,M3.5.0/-2,M10.5.0/-1"},{label:"(UTC-03:00) Santiago",value:"<-04>4<-03>,M9.1.6/24,M4.1.6/24"},{label:"(UTC-02:00) Mid-Atlantic",value:"<-02>2"},{label:"(UTC-01:00) Azores",value:"<-01>1<+00>,M3.5.0/0,M10.5.0/1"},{label:"(UTC-01:00) Cape Verde Is.",value:"<-01>1"},{label:"(UTC) Dublin, Edinburgh, Lisbon, London",value:"GMT0BST,M3.5.0/1,M10.5.0"},{label:"(UTC) Monrovia, Reykjavik",value:"GMT0"},{label:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",value:"CET-1CEST,M3.5.0,M10.5.0/3"},{label:"(UTC+01:00) West Central Africa",value:"CET-1"},{label:"(UTC+02:00) Beirut",value:"EET-2EEST,M3.5.0/0,M10.5.0/0"},{label:"(UTC+02:00) Cairo",value:"EET-2"},{label:"(UTC+02:00) Damascus",value:"EET-2EEST,M3.5.5/0,M10.5.5/0"},{label:"(UTC+02:00) Harare, Pretoria",value:"CAT-2"},{label:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",value:"EET-2EEST,M3.5.0/3,M10.5.0/4"},{label:"(UTC+02:00) Jerusalem ",value:"IST-2IDT,M3.4.4/26,M10.5.0"},{label:"(UTC+03:00) Amman",value:"EET-2EEST,M3.5.4/24,M10.5.5/1"},{label:"(UTC+03:00) Baghdad",value:"<+03>-3"},{label:"(UTC+03:00) Moscow, St. Petersburg, Volgograd",value:"MSK-3"},{label:"(UTC+03:00) Nairobi",value:"EAT-3"},{label:"(UTC+03:30) Tehran",value:"<+0330>-3:30<+0430>,J79/24,J263/24"},{label:"(UTC+04:00) Yerevan",value:"<+04>-4"},{label:"(UTC+04:30) Kabul",value:"<+0430>-4:30"},{label:"(UTC+05:00) Islamabad, Karachi",value:"PKT-5"},{label:"(UTC+05:00) Tashkent",value:"<+05>-5"},{label:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",value:"IST-5:30"},{label:"(UTC+05:30) Sri Jayawardenepura",value:"<+0530>-5:30"},{label:"(UTC+06:00) Astana, Dhaka",value:"<+06>-6"},{label:"(UTC+07:00) Bangkok, Hanoi, Jakarta",value:"<+07>-7"},{label:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",value:"HKT-8"},{label:"(UTC+08:00) Kuala Lumpur, Singapore",value:"<+08>-8"},{label:"(UTC+08:00) Perth",value:"AWST-8"},{label:"(UTC+09:00) Seoul",value:"KST-9"},{label:"(UTC+09:30) Adelaide",value:"ACST-9:30ACDT,M10.1.0,M4.1.0/3"},{label:"(UTC+09:30) Darwin",value:"ACST-9:30"},{label:"(UTC+10:00) Brisbane",value:"AEST-10"},{label:"(UTC+08:00) Asia/Shanghai",value:"CST-8"},{label:"(UTC+09:00) Osaka, Sapporo, Tokyo",value:"JST-9"},{label:"(UTC+10:00) Guam, Port Moresby",value:"ChST-10"},{label:"(UTC+11:00) Solomon Is., New Caledonia",value:"<+11>-11"},{label:"(UTC+12:00) Fiji",value:"<+12>-12<+13>,M11.1.0,M1.2.2/123"}],Mr=Cr.a.Option,Lr=fn.a.Item,Tr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={submitDisable:!1},a.handleSwitchChange=function(e){a.setState({submitDisable:!0}),console.log(a.state.submitDisable),a.props.handleSwitchChange(e)},a.handleSetNtpData=function(){var e=a.props.form.getFieldsValue();console.log(e);var t=[e.ntp_server1,e.ntp_server2,e.ntp_server3];JSON.stringify(t)!==JSON.stringify(a.props.ntp_server)||!0===a.state.submitDisable?(a.setState({submitDisable:!1}),a.props.handleSetNtpData(a.props.ntp_enable,t,a.props.time_zone)):(zt.a.error("\u6570\u636e\u6ca1\u6709\u6539\u53d8\uff0c\u65e0\u6cd5\u63d0\u4ea4\uff01"),a.setState({submitDisable:!1}))},a.handleSelectChange=function(e){a.setState({submitDisable:!0}),a.props.handleSelectChange(e)},a.renderOptionTime=function(){return Dr.map(function(e,t){return d.a.createElement(Mr,{value:e.value,key:e.value}," ",e.label)})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.initNtpData(),this.interval=setInterval(function(){e.props.handleSysTime(e.props.time_of_day+1e3)},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.ntp_enable,a=e.show_time,n=e.ntp_server,r=e.handleLocalTime,l=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(or.a,{title:"\u7cfb\u7edf\u65f6\u95f4"},d.a.createElement(fn.a,null,d.a.createElement(Lr,Object.assign({label:"\u663e\u793a\u7cfb\u7edf\u65f6\u95f4"},Sr),d.a.createElement(_n.a,{value:a,readOnly:!0})),d.a.createElement(Lr,Or,d.a.createElement(hn.a,{type:"primary",onClick:r},"\u4f7f\u7528\u672c\u673a\u65f6\u95f4 ")),d.a.createElement(Lr,Object.assign({label:"\u65f6\u533a\u9009\u62e9"},Sr),d.a.createElement(Cr.a,{onChange:this.handleSelectChange,value:this.props.time_zone||"CST-8"},this.renderOptionTime())),d.a.createElement(Lr,Object.assign({label:"\u5f00\u542fNTP\u670d\u52a1\u5668"},Sr),d.a.createElement(yr.a,{onClick:this.handleSwitchChange,defaultChecked:t,checked:t})),d.a.createElement(Lr,Object.assign({label:"NTP\u670d\u52a1\u56681"},Sr),l("ntp_server1",{initialValue:n[0],rules:[{required:!0}]})(d.a.createElement(_n.a,{disabled:!t}))),d.a.createElement(Lr,Object.assign({label:"NTP\u670d\u52a1\u56682"},Sr),l("ntp_server2",{initialValue:n[1]})(d.a.createElement(_n.a,{disabled:!t}))),d.a.createElement(Lr,Object.assign({label:"NTP\u670d\u52a1\u56683"},Sr),l("ntp_server3",{initialValue:n[2]})(d.a.createElement(_n.a,{disabled:!t}))),d.a.createElement(Lr,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetNtpData},"\u5e94\u7528")))))}}]),t}(d.a.Component),Pr=fn.a.create()(Tr),Rr=Object(O.b)(function(e){return{ntp_enable:e.getIn(["settime","ntp_enable"]),ntp_server:e.getIn(["settime","ntp_server"]),time_of_day:e.getIn(["settime","time_of_day"]),show_time:e.getIn(["settime","show_time"]),time_zone:e.getIn(["settime","time_zone"])}},function(e){return{initNtpData:function(){e(s.initNtpData())},handleSysTime:function(t){e(s.handleSysTime(t))},handleLocalTime:function(){var t=(new Date).getTime();e(s.handleLocalTime(t))},handleSelectChange:function(t){e(s.setTimeZone(t))},handleSwitchChange:function(t){e(s.changeNtpEnable(t))},handleSetNtpData:function(t,a,n){e(s.handleSetNtpData(t,a,n))}}})(Pr),Nr=(a(191),a(97)),Vr=a.n(Nr),Fr=a(96),Ur=a.n(Fr),Gr=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(or.a,{title:"\u91cd\u542f"},d.a.createElement(qr,null)),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u6062\u590d\u51fa\u5382\u8bbe\u7f6e"},d.a.createElement(Wr,null)),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u4e0b\u8f7d\u6587\u4ef6\u5907\u4efd"},d.a.createElement(zr,null)),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u4e0a\u4f20\u914d\u7f6e\u6587\u4ef6"},d.a.createElement($r,null)))}}]),t}(d.a.Component),Wr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={secondsToGo:"",percent:0},a.handleReset=function(){var e=Object(m.a)({},Z);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&(a.setState({secondsToGo:e.locktime,visible:!0}),Un.bind(Object(Cn.a)(Object(Cn.a)(a)))(e.locktime,e.redir_ip))})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(hn.a,{onClick:function(){return Vn("\u91cd\u7f6e",e.handleReset)},type:"primary"},"\u6062\u590d\u51fa\u5382\u8bbe\u7f6e"),d.a.createElement(R.a,{title:"\u91cd\u7f6e\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),qr=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={secondsToGo:"",percent:0},a.handleRestart=function(){var e=Object(m.a)({},Q);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&(a.setState({secondsToGo:e.locktime,visible:!0}),Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(e.locktime))})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(hn.a,{onClick:function(){return Vn("\u91cd\u542f",e.handleRestart)},type:"primary"},"\u91cd\u542f"),d.a.createElement(R.a,{title:"\u91cd\u542f\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),zr=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement("a",{href:"cgi-bin/cgi_stream.cgi?streamid=2",download:"\u5907\u4efd\u6587\u4ef6"},d.a.createElement(hn.a,{type:"primary"},d.a.createElement(vn.a,{type:"download"})," \u4e0b\u8f7d\u6587\u4ef6"))}}]),t}(d.a.Component),$r=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1,secondsToGo:"",percent:0},a.handleUpload=function(){var e=a.state.fileList,t=new FormData;e.forEach(function(e){t.append("files[]",e)}),a.setState({uploading:!0}),Ur()({url:"cgi-bin/cgi_stream.cgi?streamid=3",method:"post",processData:!1,data:t,success:function(e){a.setState({fileList:[],uploading:!1,visible:!0,secondsToGo:JSON.parse(e).locktime});var t=JSON.parse(e);2e3===t.restcode?Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(t.locktime):4008==t.restcode&&zt.a.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef.")},error:function(){a.setState({uploading:!1}),zt.a.error("\u4e0a\u4f20\u5931\u8d25")}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,r={onRemove:function(t){e.setState(function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(t){return e.setState(function(e){return{fileList:[t]}}),!1},fileList:n,accept:".tar.gz",onChange:function(e){}};return d.a.createElement("div",null,d.a.createElement(Vr.a,r,d.a.createElement(hn.a,{type:"primary"},d.a.createElement(vn.a,{type:"upload"})," \u4e0a\u4f20\u914d\u7f6e\u6587\u4ef6")),d.a.createElement(hn.a,{type:"primary",onClick:function(){return Vn("\u91cd\u542f",e.handleUpload)},disabled:0===n.length,loading:a,style:{marginTop:16}},a?"\u4e0a\u4f20\u4e2d":"\u5f00\u59cb\u4e0a\u4f20"),d.a.createElement(R.a,{title:"\u5347\u7ea7\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),Br=(a(378),a(99)),Kr=a.n(Br),Hr=(a(139),a(47)),Jr=a.n(Hr),Yr=Cr.a.Option,Qr=Jr.a.Group,Zr=dr.a.Countdown,Xr=[{label:"\u5468\u4e00",value:2},{label:"\u5468\u4e8c",value:4},{label:"\u5468\u4e09",value:8},{label:"\u5468\u56db",value:16},{label:"\u5468\u4e94",value:32},{label:"\u5468\u516d",value:64},{label:"\u5468\u65e5",value:1}],el=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSendMode1Data=function(e,t,n){var r=3600*t+60*n;r<600?zt.a.error("\u5012\u8ba1\u65f6\u65f6\u95f4\u4e0d\u80fd\u4f4e\u4e8e10\u5206\u949f\uff01"):a.props.handleSendMode1Data(e,r)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.initTickData(),this.interval=setInterval(function(){e.props.handleSysTime(e.props.time_of_day+1e3)},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this,t=this.props,a=t.show_time,n=t.remaining_time,r=t.checkedList,l=t.checkAll,i=t.sche_reboot_mode,s=t.weeks,o=t.rectime,c=t.show_t1hour,u=t.show_t1minute,p=t.hour,m=t.minute,h=t.handleSelectChange,g=t.onCheckAllChange,f=t.onCheckChange,b=t.handleSendMode2Data,_=t.onChange2hour,E=t.onChange2minute,v=t.onChange1hour,y=t.onChange1minute;return d.a.createElement("div",null,d.a.createElement(or.a,{title:"\u5b9a\u65f6\u91cd\u542f"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({label:"\u6a21\u5f0f"},Sr),d.a.createElement(Cr.a,{style:{width:200},defaultValue:"0",value:String(i),onChange:h},d.a.createElement(Yr,{value:"0"},"\u5173\u95ed"),d.a.createElement(Yr,{value:"1"},"\u5012\u8ba1\u65f6"),d.a.createElement(Yr,{value:"2"},"\u6307\u5b9a\u65f6\u95f4\u91cd\u542f"))),0==i?null:1==i?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({label:"\u8bbe\u7f6e\u91cd\u542f\u65f6\u95f4(\u65f6:\u5206)"},Sr),d.a.createElement(Kr.a,{min:0,max:23,value:c,onChange:v}),":",d.a.createElement(Kr.a,{min:0,max:59,value:u,onChange:y}))):d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({label:"\u6307\u5b9a\u661f\u671f"},Sr),d.a.createElement(Jr.a,{onChange:g,checked:l},"\u5168\u9009"),d.a.createElement(Qr,{options:Xr,value:r,onChange:f})),d.a.createElement(fn.a.Item,Object.assign({label:"\u8bbe\u7f6e\u91cd\u542f\u65f6\u95f4(\u65f6:\u5206)"},Sr),d.a.createElement(Kr.a,{min:0,max:59,value:p,onChange:_}),":",d.a.createElement(Kr.a,{min:0,max:59,value:m,onChange:E}))),0===i?null:d.a.createElement(fn.a.Item,Object.assign({label:"\u8bbe\u5907\u7cfb\u7edf\u65f6\u95f4"},Sr),d.a.createElement(_n.a,{value:a,readOnly:!0})),0<n?d.a.createElement(fn.a.Item,Object.assign({label:"\u91cd\u542f\u5012\u8ba1\u65f6"},Sr),d.a.createElement(Zr,{valueStyle:{},value:n,format:" D \u5929 H \u65f6 m \u5206 s \u79d2"})):null,1===i?d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{onClick:function(){return e.handleSendMode1Data(i,c,u)},type:"primary"},"\u5e94\u7528 ")):2===i?d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{onClick:function(){return b(i,o,s,p,m)},type:"primary"},"\u5e94\u7528 ")):null)))}}]),t}(d.a.Component),tl=fn.a.create()(el),al=Object(O.b)(function(e){return{sche_reboot_mode:e.getIn(["tickreboot","sche_reboot_mode"]),rectime:e.getIn(["tickreboot","rectime"]),weeks:e.getIn(["tickreboot","weeks"]),hour:e.getIn(["tickreboot","hour"]),minute:e.getIn(["tickreboot","minute"]),show_t1hour:e.getIn(["tickreboot","show_t1hour"]),show_t1minute:e.getIn(["tickreboot","show_t1minute"]),checkedList:e.getIn(["tickreboot","checkedList"]),checkAll:e.getIn(["tickreboot","checkAll"]),remaining_time:e.getIn(["tickreboot","remaining_time"]),time_of_day:e.getIn(["tickreboot","time_of_day"]),show_time:e.getIn(["tickreboot","show_time"])}},function(e){return{handleSysTime:function(t){e(o.handleSysTime(t))},onChange1hour:function(t){e(o.show_t1hour(t))},onChange1minute:function(t){e(o.show_t1minute(t))},onChange2hour:function(t){e(o.show_t2hour(t))},onChange2minute:function(t){e(o.show_t2minute(t))},initTickData:function(){e(o.initTickData())},handleSendMode1Data:function(t,a){e(o.handleSendMode1Data(t,a))},handleSendMode2Data:function(t,a,n,r,l){0!==n?e(o.handleSendMode2Data(t,a,n,r,l)):zt.a.error("\u8bf7\u9009\u62e9\u9700\u8981\u91cd\u542f\u7684\u661f\u671f\uff01")},handleSelectChange:function(t){e(o.handleRebootMode(t))},onCheckChange:function(t){var a=0;t.map(function(e,t){127==(a+=e)&&(a=255)});var n=t.length===Xr.length;e(o.changeCheckedData(n,t,a))},onCheckAllChange:function(t){var a=t.target.checked?255:0,n=Xr.map(function(e,t){return e.value}),r=t.target.checked?n:[],l=t.target.checked;e(o.changeCheckedData(l,r,a))}}})(tl),nl=(a(1462),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={product_model:"",fw_version:"",buildtime:""},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Object(m.a)({},X);kn.ajax_post({data:t}).then(function(t){console.log(t.result),2e3==t.restcode&&e.setState({product_model:t.result.product_model,fw_version:t.result.fw_version,buildtime:t.result.buildtime})})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(or.a,{title:"\u7248\u672c\u4fe1\u606f"},d.a.createElement("div",{className:"detail-items"},d.a.createElement("ul",{className:"detail-form"},d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u4ea7\u54c1\u578b\u53f7:"),d.a.createElement("div",{className:"detail-form-content"},this.state.product_model)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u56fa\u4ef6\u7248\u672c:"),d.a.createElement("div",{className:"detail-form-content"},this.state.fw_version)),d.a.createElement("li",null,d.a.createElement("div",{className:"detail-form-left"},"\u53d1\u5e03\u65f6\u95f4:"),d.a.createElement("div",{className:"detail-form-content"},this.state.buildtime))))),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u56fa\u4ef6\u5347\u7ea7"},d.a.createElement(rl,null)))}}]),t}(d.a.Component)),rl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1,secondsToGo:"",percent:0,upgradeurl:"cgi-bin/cgi_stream.cgi?streamid=4&keep_setting=1"},a.onChange=function(e){1==e.target.checked?a.setState({upgradeurl:"cgi-bin/cgi_stream.cgi?streamid=4&keep_setting=1"}):a.setState({upgradeurl:"cgi-bin/cgi_stream.cgi?streamid=4&keep_setting=0"})},a.handleUpload=function(){var e=a.state.fileList,t=new FormData;e.forEach(function(e){t.append("files[]",e)}),a.setState({uploading:!0});var n=a.state.upgradeurl;Ur()({url:n,method:"post",processData:!1,data:t,success:function(e){a.setState({fileList:[],uploading:!1});var t=JSON.parse(e);2e3===t.restcode?(a.setState({secondsToGo:t.locktime,visible:!0}),Un.bind(Object(Cn.a)(Object(Cn.a)(a)))(t.locktime,t.redir_ip)):4008==t.restcode&&zt.a.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef.")},error:function(){a.setState({uploading:!1}),zt.a.error("upload failed.")}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,r={onRemove:function(t){e.setState(function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(t){return e.setState(function(e){return{fileList:[t]}}),!1},fileList:n,accept:".bin",onChange:function(e){}};return d.a.createElement("div",null,d.a.createElement(Jr.a,{onChange:this.onChange,defaultChecked:!0},"\u4fdd\u7559\u914d\u7f6e"),d.a.createElement(Vr.a,r,d.a.createElement(hn.a,{type:"primary"},d.a.createElement(vn.a,{type:"upload"})," \u4e0a\u4f20\u56fa\u4ef6")),d.a.createElement(hn.a,{type:"primary",onClick:function(){return Vn("\u91cd\u542f",e.handleUpload)},disabled:0===n.length,loading:a,style:{marginLeft:88,marginTop:12,width:112}},a?"\u4e0a\u4f20\u4e2d":"\u5f00\u59cb\u5347\u7ea7"),d.a.createElement(R.a,{title:"\u5347\u7ea7\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),ll=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getLogCfg()}},{key:"render",value:function(){var e=this.props,t=e.syslog_enable,a=e.log_size,n=e.syslog,r=e.handleSwitchChange,l=e.handleSetSize,i=e.handleSizeChange,s=e.handleLogClear,o=e.handleRefresh;return d.a.createElement("div",null,d.a.createElement(or.a,{title:"\u7cfb\u7edf\u65e5\u5fd7"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u7cfb\u7edf\u65e5\u5fd7"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:t,onChange:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.apply(void 0,t.concat([a]))}})),d.a.createElement("div",{id:"show",style:t?{display:"block"}:{display:"none"}},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u65e5\u5fd7\u5927\u5c0f"}),d.a.createElement(Kr.a,{style:{margin:"0 15px 0 0"},min:1,max:128,value:a,onChange:i}),d.a.createElement(hn.a,{type:"primary",onClick:function(){return l(t,a)}},"\u5e94\u7528")),d.a.createElement(fn.a.Item,Or,d.a.createElement("a",{href:"cgi-bin/cgi_stream.cgi?streamid=1",download:"\u7cfb\u7edf\u65e5\u5fd7"},d.a.createElement(hn.a,{type:"primary"},"\u4fdd\u5b58")),d.a.createElement(hn.a,{style:{margin:"0 15px 0 15px"},type:"primary",onClick:s},"\u6e05\u9664"),d.a.createElement(hn.a,{onClick:o},"\u5237\u65b0")),d.a.createElement("textarea",{placeholder:"\u6ca1\u6709\u6570\u636e\uff1f\u70b9\u5237\u65b0\u8bd5\u8bd5\uff01",value:n,style:{width:"65%",height:"380px",marginLeft:"15%"}}))))}}]),t}(d.a.Component),il=Object(O.b)(function(e){return{syslog_enable:e.getIn(["setlog","syslog_enable"]),log_size:e.getIn(["setlog","log_size"]),syslog:e.getIn(["setlog","syslog"])}},function(e){return{getLogCfg:function(){e(i.initLogData())},handleSwitchChange:function(t,a,n){e(i.switchChange(t,n))},handleSizeChange:function(t){128<t&&(t=128),t<1&&(t=1),e(i.changeLogSize(t))},handleSetSize:function(t,a){var n={syslog_enable:t,log_size:a};e(i.setSize(n))},handleLogClear:function(){e(i.clearLog())},handleRefresh:function(){e(i.handleRefreshLog())}}})(ll),sl=(a(206),a(86)),ol=a.n(sl),cl=Cr.a.Option,dl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={temproto:a.props.wan_content.proto,section:a.props.section,tabpane:a.props.tabpane,wan_content:a.props.wan_content,showAdvanced:!1,cloneCheck:a.props.wan_content.macaddr!==a.props.wan_content.def_macaddr},a.getCloneMacInfo=function(){var e=Object(m.a)({},ee);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){var t=a.state.wan_content;t.macaddr=e.result.user_mac,a.props.form.resetFields("macaddr",[]),a.setState({wan_content:t,cloneCheck:!0})}})},a.handleCloneMac=function(e){if(!0===e.target.checked)a.getCloneMacInfo();else{var t=a.state.wan_content;t.macaddr=t.def_macaddr,a.props.form.resetFields("macaddr",[]),a.setState({wan_content:t,cloneCheck:!1})}},a.handleApplyData=function(e){Nn(function(){return a.handlechangeBaseData(e)})},a.handlechangeBaseData=function(e){a.props.form.validateFields(function(t,n){if(!t){var r=a.state.section;if(n.dns1||n.dns2){var l=[n.dns1,n.dns2];delete n.dns1,delete n.dns2,n=Object(m.a)({},n,{section:r,dns:l})}else n=Object(m.a)({},n,{section:r});a.props.handlechangeBaseData(n,a.state.tabpane,e)}})},a.handleChangeProto=function(e){a.setState({temproto:e})},a.handleShowAdvanced=function(e){1==e.target.checked?a.setState({showAdvanced:!0}):a.setState({showAdvanced:!1})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state,a=t.wan_content,n=t.showAdvanced,r=t.cloneCheck,l=t.temproto;this.props!=e&&(a=e.wan_content,this.props.tabpane!=e.tabpane&&(this.props.form.resetFields(),n=!1),e.wan_content.macaddr!==e.wan_content.def_macaddr&&(r=!0),this.props.wan_content.proto!==e.wan_content.proto&&this.props.tabpane==e.tabpane&&(l=e.wan_content.proto,this.setState({temproto:l})),this.setState({wan_content:a,showAdvanced:n,cloneCheck:r}))}},{key:"render",value:function(){var e=this,t=this.state.wan_content,a=t.hostname,n=t.ipaddr,r=t.netmask,l=t.gateway,i=t.dns,s=t.username,o=t.password,c=t.ac,u=t.service,p=(t.def_macaddr,t.macaddr),m=(t.mtu,t.upbandw),h=t.downbandw,g=(t.proto,t.cc_mtu),f=t.ppp_mtu;console.log(v);var b=this.state,_=b.tabpane,E=b.showAdvanced,v=b.temproto,y=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4e0a\u7f51\u65b9\u5f0f"}),y("proto",{initialValue:v})(d.a.createElement(Cr.a,{onChange:this.handleChangeProto},"1"===_?null:d.a.createElement(cl,{value:"disable"},"\u5173\u95ed"),d.a.createElement(cl,{value:"static"},"\u9759\u6001IP"),d.a.createElement(cl,{value:"dhcp"},"DHCP"),d.a.createElement(cl,{value:"pppoe"},"PPPoE"),"1"===_?d.a.createElement(cl,{value:"usb-net"},"USB-NET"):null))),"static"!=v?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"IP\u5730\u5740"}),y("ipaddr",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:n})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5b50\u7f51\u63a9\u7801"}),y("netmask",{rules:[{required:!0,message:"\u5b50\u7f51\u63a9\u7801\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(254|252|248|240|224|192|128|0)\\.0\\.0\\.0$|^(255\\.(254|252|248|240|224|192|128|0)\\.0\\.0)$|^(255\\.255\\.(254|252|248|240|224|192|128|0)\\.0)$|^(255\\.255\\.255\\.(254|252|248|240|224|192|128|0))$"),message:"\u5b50\u7f51\u63a9\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:r})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9ed8\u8ba4\u7f51\u5173"}),y("gateway",{rules:[{required:!0,message:"\u9ed8\u8ba4\u7f51\u5173\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u7f51\u5173\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:l})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9996\u9009DNS"}),y("dns1",{rules:[{required:!0,message:"\u9996\u9009DNS\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"DNS\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:i?i[0]:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5907\u9009DNS"}),y("dns2",{rules:[{required:!0,message:"\u5907\u9009DNS\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"DNS\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:i?i[1]:""})(d.a.createElement(_n.a,null)))),"dhcp"!=v?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4e3b\u673a\u540d"}),y("hostname",{initialValue:a})(d.a.createElement(_n.a,null))),"pppoe"!=v?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u8d26\u53f7"}),y("username",{rules:[{required:!0,message:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"}],initialValue:s})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5bc6\u7801"}),y("password",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"}],initialValue:o})(d.a.createElement(_n.a.Password,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"AC"}),y("ac",{initialValue:null==c?"":c})(d.a.createElement(_n.a,{placeholder:"AUTO  \u7559\u7a7a\u4ee5\u81ea\u52a8\u68c0\u6d4b"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u670d\u52a1\u5668"}),y("service",{initialValue:null==u?"":u})(d.a.createElement(_n.a,{placeholder:"AUTO \u7559\u7a7a\u4ee5\u81ea\u52a8\u68c0\u6d4b"})))),"disable"===v||"usb-net"===v?null:d.a.createElement(fn.a.Item,Or,d.a.createElement(Jr.a,{checked:E,onChange:this.handleShowAdvanced},"\u663e\u793a\u9ad8\u7ea7\u53c2\u6570")),d.a.createElement("div",{style:{display:E?"block":"none"}},d.a.createElement(fn.a.Item,Object.assign({},Sr,{style:{display:"block"},label:"\u7ebf\u8def\u5e26\u5bbd"}),y("upbandw",{initialValue:m})(d.a.createElement(Kr.a,null)),"                (\u4e0a\u884c\uff0c\u5355\u4f4d\uff1aMbps\uff09"),d.a.createElement(fn.a.Item,Object.assign({},Or,{style:{display:"block"}}),y("downbandw",{initialValue:h})(d.a.createElement(Kr.a,null)),"                 (\u4e0b\u884c\uff0c\u5355\u4f4d\uff1aMbps\uff09"),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"MTU",style:"pppoe"===v?{display:"block"}:{display:"none"}}),y("ppp_mtu",{rules:[{pattern:new RegExp("^(5[7-9][6-9]|[6-9]\\d\\d|1[0-4][0-8]\\d|149[0-2])$"),message:"MTU\u53ea\u80fd\u4e3a576-1492\uff01"}],initialValue:f})(d.a.createElement(Kr.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"MTU",style:"pppoe"===v?{display:"none"}:{display:"block"}}),y("cc_mtu",{rules:[{pattern:new RegExp("^(5[7-9][6-9]|[6-9]\\d\\d|1[0-4]\\d\\d|1500)$"),message:"MTU\u53ea\u80fd\u4e3a576-1500\uff01"}],initialValue:g})(d.a.createElement(Kr.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"MAC\u5730\u5740"}),y("macaddr",{rules:[{required:!0,message:"MAC\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^[0-9a-fA-F]{2}(:[0-9a-fA-F]{2}){5}$"),message:"\u5b50\u7f51\u63a9\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:p})(d.a.createElement(_n.a,{disabled:!this.state.cloneCheck}))),d.a.createElement(fn.a.Item,Or,d.a.createElement(Jr.a,{onChange:this.handleCloneMac,checked:this.state.cloneCheck},"\u514b\u9686MAC\u5730\u5740"))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:function(){return e.handleApplyData(!0)}},"\u5e94\u7528"))))}}]),t}(d.a.Component),ul=fn.a.create()(dl),pl=ol.a.TabPane,ml=(R.a.confirm,function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={tabpane:"1",secondsToGo:"",visible:!1,percent:0,multiwan:[{section:"wan1",proto:"",hostname:"",def_macaddr:"",macaddr:"",ppp_mtu:1492,cc_mtu:1500,upbandw:0,downbandw:0},{section:"wan2",proto:"",ipaddr:"",netmask:"",gateway:"",dns:[],def_macaddr:"",macaddr:"",ppp_mtu:1492,cc_mtu:1500,upbandw:0,downbandw:0},{section:"wan3",proto:"",def_macaddr:"",macaddr:"",ppp_mtu:1492,cc_mtu:1500,upbandw:0,downbandw:0},{section:"wan4",proto:"",username:"",password:"",ac:"",service:"",def_macaddr:"",macaddr:"",ppp_mtu:1492,cc_mtu:1500,upbandw:0,downbandw:0}]},a.getWanmsg=function(){var e=Object(m.a)({},te);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({multiwan:e.result.multiwan})})},a.handlechangeBaseData=function(e,t,n){e.macaddr=e.macaddr.toUpperCase();var r=a.state.multiwan;if(r[t-1]=e,a.setState({multiwan:r}),n){var l=Object(m.a)({},ae,{multiwan:r});kn.ajax_post({data:l}).then(function(e){2e3==e.restcode&&(a.setState({visible:!0,secondsToGo:e.locktime}),0!=e.locktime&&Un.bind(Object(Cn.a)(Object(Cn.a)(a)))(e.locktime))})}},a.callback=function(e){return a.setState({tabpane:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getWanmsg()}},{key:"render",value:function(){return d.a.createElement(or.a,{title:"\u5916\u7f51\u8bbe\u7f6e"},d.a.createElement(ol.a,{onChange:this.callback,animated:!1,defaultActiveKey:"1"},d.a.createElement(pl,{tab:"WAN4",key:"4"},d.a.createElement(ul,{tabpane:this.state.tabpane,section:"wan4",wan_content:this.state.multiwan[3],handlechangeBaseData:this.handlechangeBaseData})),d.a.createElement(pl,{tab:"WAN3",key:"3"},d.a.createElement(ul,{tabpane:this.state.tabpane,section:"wan3",wan_content:this.state.multiwan[2],handlechangeBaseData:this.handlechangeBaseData})),d.a.createElement(pl,{tab:"WAN2",key:"2"},d.a.createElement(ul,{tabpane:this.state.tabpane,section:"wan2",wan_content:this.state.multiwan[1],handlechangeBaseData:this.handlechangeBaseData})),d.a.createElement(pl,{tab:"WAN1",key:"1"},d.a.createElement(ul,{tabpane:this.state.tabpane,section:"wan1",wan_content:this.state.multiwan[0],handlechangeBaseData:this.handlechangeBaseData}))),d.a.createElement(R.a,{title:"\u8bbe\u7f6e\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u7f6e\u4e2d\uff0c\u8bf7\u7a0d\u540e\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u8bbe\u7f6e\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component)),hl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={secondsToGo:"",visible:!1,percent:0},a.handleApplyData=function(){Nn(a.handleSetLan)},a.handleSetLan=function(){a.props.form.validateFields(function(e,t){e||a.props.setLanmsg(t)})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getLanmsg()}},{key:"componentWillReceiveProps",value:function(e){1==e.showProgress&&(this.setState({visible:!0,secondsToGo:e.locktime}),Un.bind(this)(e.locktime,e.redir_ip))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,a=t.ipaddr,n=t.netmask;return d.a.createElement(or.a,{title:"\u5c40\u57df\u7f51\u8bbe\u7f6e"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"IP\u5730\u5740"}),e("ipaddr",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:a})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5b50\u7f51\u63a9\u7801"}),e("netmask",{rules:[{required:!0,message:"\u5b50\u7f51\u63a9\u7801\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(254|252|248|240|224|192|128|0)\\.0\\.0\\.0$|^(255\\.(254|252|248|240|224|192|128|0)\\.0\\.0)$|^(255\\.255\\.(254|252|248|240|224|192|128|0)\\.0)$|^(255\\.255\\.255\\.(254|252|248|240|224|192|128|0))$"),message:"\u5b50\u7f51\u63a9\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:n})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6ce8\u610f"}),d.a.createElement("span",null,"\u4fee\u6539\u5b50\u7f51\u63a9\u7801\u4f1a\u5f71\u54cdDHCP\u5730\u5740\u6c60\u8303\u56f4!")),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleApplyData},"\u5e94\u7528"))),d.a.createElement(R.a,{title:"\u8bbe\u7f6e\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u7f6e\u4e2d\uff0c\u8bf7\u7a0d\u540e\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u8bbe\u7f6e\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),gl=fn.a.create()(hl),fl=Object(O.b)(function(e){return{ipaddr:e.getIn(["lan","ipaddr"]),netmask:e.getIn(["lan","netmask"]),showProgress:e.getIn(["lan","showProgress"]),locktime:e.getIn(["lan","locktime"]),redir_ip:e.getIn(["lan","redir_ip"])}},function(e){return{getLanmsg:function(){e(r.getLanmsg())},setLanmsg:function(t){e(r.setLanmsg(t))}}})(gl),bl=[{title:"IP\u5730\u5740",dataIndex:"ip"},{title:"MAC\u5730\u5740",dataIndex:"mac"}],_l=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={selectedRowKeys:[],ipaddr:"",macaddr:""},a.handleDhcpDelete=function(e,t){R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){t=t.filter(function(t){return t.key!==e});var n=a.combindDataFormat(t);a.props.handleSetDhcpMsg(n),a.props.getDhcpmsg()},onCancel:function(){}})},a.handleDeleteDhcpSelectList=function(e){R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.state.selectedRowKeys.forEach(function(t,a){e=e.filter(function(e){return e.key!==t})}),a.setState({selectedRowKeys:[]});var t=a.combindDataFormat(e);a.props.handleSetDhcpMsg(t),a.props.getDhcpmsg()},onCancel:function(){}})},a.hideModal1=function(){a.setState({visible1:!1,ipaddr:"",macaddr:""})},a.handleSetDhcpItem=function(){var e=a.props.dhcpList,t={},n=!1;if(a.dchpItemForm.props.form.validateFields(function(e,a){n=!!e||(t=a,!1)}),n)return!1;if(e.length<1||e.every(function(e){return e.ip==t.ip?R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"IP \uff1a".concat(t.ip,"\u5df2\u7ecf\u5b58\u5728!")}):e.mac==t.mac&&R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"MAC \uff1a".concat(t.mac,"\u5df2\u7ecf\u5b58\u5728!")}),e.ip!=t.ip&&e.mac!=t.mac})){var r=Object(m.a)({},t,{key:e.length});e.push(r);var l=a.combindDataFormat(e);a.props.handleSetDhcpMsg(l),a.hideModal1()}},a.hideModal2=function(){a.setState({visible2:!1,visible1:!0})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleSetDhcpMsg=function(){a.props.form.validateFields(function(e,t){if(!e){if(!Pn(a.props.minip,a.props.maxip,t.startip,t.endip))return!1;var n=a.props.dhcpList,r=a.props.enable;t=Object(m.a)({enable:r},t,{static_dhcp:n}),a.props.handleSetDhcpMsg(t)}})},a.handleSwitchChange=function(e){var t={enable:e,startip:a.props.startip,endip:a.props.endip,leasetime:a.props.leasetime,static_dhcp:a.props.dhcpList};1==e?(a.props.handleSetDhcpMsg(t),a.props.handleSetSwitch(e)):0==e&&(a.props.handleSetDhcpMsg(t),a.props.handleSetSwitch(e))},a.handleAddList=function(){a.setState({visible1:!0})},a.handleScanArpList=function(){a.setState({visible2:!0,visible1:!1}),a.props.getArpListmsg()},a.onRowClick=function(e,t){a.setState({visible2:!1,visible1:!0,ipaddr:e.ip,macaddr:e.mac})},a.dhcpcolumns=[{title:"IP\u5730\u5740",dataIndex:"ip"},{title:"MAC\u5730\u5740",dataIndex:"mac"},{title:"\u4e3b\u673a\u540d",dataIndex:"name"},{title:"\u79df\u7ea6\u65f6\u95f4",dataIndex:"leasetime"},{title:"\u64cd\u4f5c",dataIndex:"action",render:function(e,t){return 1<=a.props.dhcpList.length?d.a.createElement(hn.a,{type:"danger",onClick:function(){return a.handleDhcpDelete(t.key,a.props.dhcpList)}},"\u5220\u9664"):null}}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"combindDataFormat",value:function(e){return{enable:this.props.enable,startip:this.props.startip,endip:this.props.endip,leasetime:this.props.leasetime,static_dhcp:e}}},{key:"componentDidMount",value:function(){this.props.getDhcpmsg()}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.props,n=a.enable,r=a.startip,l=a.endip,i=a.leasetime,s=a.dhcpList,o=a.arpList,c=a.minip,u=a.maxip,p=this.state.selectedRowKeys,m={selectedRowKeys:p,onChange:this.onSelectChange},h=0!=s.length&&0<p.length;return d.a.createElement("div",null,d.a.createElement(or.a,{title:"DHCP\u8bbe\u7f6e"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DHCP\u8bbe\u7f6e"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:n,onChange:this.handleSwitchChange})),0==n?null:d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6ce8\u610f"}),d.a.createElement("span",null,"DHCP\u6c60\u8303\u56f4\u4e3a",c,"~",u)),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DHCP\u8d77\u59cb\u5730\u5740"}),t("startip",{rules:[{required:!0,message:"DHCP\u8d77\u59cb\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"DHCP\u8d77\u59cb\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:r})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DHCP\u7ed3\u675f\u5730\u5740"}),t("endip",{rules:[{required:!0,message:"DHCP\u7ed3\u675f\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"DHCP\u7ed3\u675f\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:l})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DHCP\u79df\u7ea6\u65f6\u95f4(s)"}),t("leasetime",{rules:[{required:!0,message:"DHCP\u79df\u7ea6\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([6-9]\\d|\\d{3,4}|[1-7]\\d{4}|8[0-5]\\d\\d\\d|86[0-3]\\d\\d|86400)$"),message:"DHCP\u79df\u7ea6\u65f6\u95f4\u53ea\u80fd\u4e3a60-86400"}],initialValue:i})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetDhcpMsg},"\u5e94\u7528")))),0==n?null:d.a.createElement(or.a,{title:"DHCP\u9759\u6001\u5217\u8868"},d.a.createElement(lr.a,{bordered:!0,columns:this.dhcpcolumns,dataSource:s,rowSelection:m,pagination:!1,fixed:!1,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{style:{marginRight:20},onClick:e.handleAddList},"\u589e\u52a0\u6761\u76ee"),d.a.createElement(hn.a,{type:"danger",onClick:function(){return e.handleDeleteDhcpSelectList(s)},disabled:!h},"\u5220\u9664\u6240\u9009"))}}),d.a.createElement(R.a,{title:"\u589e\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.handleSetDhcpItem,onCancel:this.hideModal1,maskClosable:!1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(yl,{ipaddr:this.state.ipaddr,macaddr:this.state.macaddr,minip:this.props.minip,maxip:this.props.maxip,leasetime:this.props.leasetime,handleScanArpList:this.handleScanArpList.bind(this),wrappedComponentRef:function(t){e.dchpItemForm=t}})),d.a.createElement(R.a,{title:"ARP\u5217\u8868",visible:this.state.visible2,maskClosable:!1,onCancel:this.hideModal2,destroyOnClose:!0,footer:d.a.createElement(hn.a,{onClick:this.hideModal2},"\u5173\u95ed")},d.a.createElement(lr.a,{bordered:!0,columns:bl,dataSource:o,pagination:!1,onRowClick:this.onRowClick}))))}}]),t}(d.a.Component),El=fn.a.create()(_l),vl=Object(O.b)(function(e){var t=e.getIn(["dchp","dhcpList"]),a=e.getIn(["dchp","arpList"]);return 0==t.size&&(t=[]),0==a.size&&(a=[]),{enable:e.getIn(["dchp","enable"]),minip:e.getIn(["dchp","minip"]),maxip:e.getIn(["dchp","maxip"]),startip:e.getIn(["dchp","startip"]),endip:e.getIn(["dchp","endip"]),leasetime:e.getIn(["dchp","leasetime"]),dhcpList:t,arpList:a}},function(e){return{getDhcpmsg:function(){e(l.getDhcpmsg())},getArpListmsg:function(){e(l.getArpListmsg())},handleSetDhcpMsg:function(t){e(l.handleSetDhcpMsg(t))},handleSetSwitch:function(t){e(l.setSwitch(t))}}})(El),yl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={ipaddr:a.props.ipaddr,macaddr:a.props.macaddr,leasetime:a.props.leasetime},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({ipaddr:e.ipaddr,macaddr:e.macaddr})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"IP\u5730\u5740"}),e("ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.ipaddr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"MAC\u5730\u5740"}),e("mac",{rules:[{required:!0,message:"MAC\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([0-9a-fA-F]{2})(([/s:][0-9a-fA-F]{2}){5})$"),message:"MAC\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.macaddr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u4e3b\u673a\u540d"}),e("name",{rules:[{pattern:new RegExp("^.{0,32}$"),message:"\u8bf7\u8f93\u5165\u4e0d\u8d85\u8fc732\u4f4d\u7684\u5b57\u7b26\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u79df\u7ea6\u65f6\u95f4(s)"}),e("leasetime",{rules:[{required:!0,message:"\u79df\u7ea6\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([6-9]\\d|\\d{3,4}|[1-7]\\d{4}|8[0-5]\\d\\d\\d|86[0-3]\\d\\d|86400)$"),message:"DHCP\u79df\u7ea6\u65f6\u95f4\u53ea\u80fd\u4e3a60-86400"}],initialValue:this.state.leasetime})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(hn.a,{onClick:this.props.handleScanArpList},"\u626b\u63cf")))}}]),t}(d.a.Component);yl=fn.a.create({})(yl);var wl=[{title:"IP\u5730\u5740",dataIndex:"ip"},{title:"MAC\u5730\u5740",dataIndex:"mac"}],Cl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={arpList:[]},a.getArpListmsg=function(){var e=[],t=Object(m.a)({},se);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(e=t.result.arp_list.map(function(e,t){return e.key=t,e}),a.setState({arpList:e}))})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getArpListmsg()}},{key:"render",value:function(){return d.a.createElement(or.a,{title:"ARP\u5217\u8868"},d.a.createElement(lr.a,{bordered:!0,columns:wl,dataSource:this.state.arpList,pagination:!1}))}}]),t}(d.a.Component),Sl=[{title:"IP\u5730\u5740",dataIndex:"ip"},{title:"MAC\u5730\u5740",dataIndex:"mac"}],Ol=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={result:{enable:!1,arpbind_list:[]},arpList:[],selectedRowKeys:[],ipaddr:"",macaddr:""},a.getArpBindListmsg=function(){var e=a.state.result,t=[],n=Object(m.a)({},oe);kn.ajax_post({data:n}).then(function(n){2e3==n.restcode&&(t=n.result.arpbind_list.map(function(e,t){return e.key=t,e}),e.arpbind_list=t,e.enable=n.result.enable,a.setState({result:e}))})},a.getArpListmsg=function(){var e=[],t=Object(m.a)({},se);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(e=t.result.arp_list.map(function(e,t){return e.key=t,e}),a.setState({arpList:e}))})},a.sendArpBindMsg=function(e){a.setState({result:e});var t=Object(m.a)({},ce,e);kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f")}).then(function(e){a.getArpBindListmsg()})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a.handleAddList=function(){a.setState({visible1:!0})},a.hideModal1=function(){a.setState({visible1:!1,ipaddr:"",macaddr:""})},a.hideModal2=function(){a.setState({visible2:!1,visible1:!0})},a.handleScanArpList=function(){a.setState({visible2:!0,visible1:!1}),a.getArpListmsg()},a.onRowClick=function(e,t){a.setState({visible2:!1,visible1:!0,ipaddr:e.ip,macaddr:e.mac})},a.handleSwitchChange=function(e){var t=a.state.result;t.enable=e,a.sendArpBindMsg(t)},a.handleDeleteItem=function(e,t){R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){var n=a.state.result;t.splice(e,1),n.arpbind_list=t,a.sendArpBindMsg(n)},onCancel:function(){}})},a.handleDeleteDhcpSelectList=function(e){R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){var t=a.state.result;a.state.selectedRowKeys.forEach(function(t,a){e=e.filter(function(e){return e.key!==t})}),a.setState({selectedRowKeys:[]}),t.arpbind_list=e,a.sendArpBindMsg(t)},onCancel:function(){}})},a.addArpBindListItem=function(){var e=a.state.result,t=!1,n={};if(a.addArpItemForm.props.form.validateFields(function(e,a){t=!!e||(n=a,!1)}),t)return!1;if(e.arpbind_list.length<1||e.arpbind_list.every(function(e){return e.ipaddr===n.ip?(R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"IP \uff1a".concat(n.ip,"\u5df2\u7ecf\u5b58\u5728!")}),!1):e.macaddr.toUpperCase()!==n.mac.toUpperCase()||(R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"MAC \uff1a".concat(n.mac,"\u5df2\u7ecf\u5b58\u5728!")}),!1)})){var r={ipaddr:n.ip,macaddr:n.mac.toUpperCase()};e.arpbind_list.push(r),a.sendArpBindMsg(a.state.result),a.setState({visible1:!1,ipaddr:"",macaddr:""})}},a.arpBindcolumns=[{title:"IP\u5730\u5740",dataIndex:"ipaddr"},{title:"MAC\u5730\u5740",dataIndex:"macaddr"},{title:"\u64cd\u4f5c",dataIndex:"action",render:function(e,t){return 1<=a.state.result.arpbind_list.length?d.a.createElement(hn.a,{type:"danger",onClick:function(){return a.handleDeleteItem(t.key,a.state.result.arpbind_list)}},"\u5220\u9664"):null}}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getArpBindListmsg()}},{key:"render",value:function(){var e=this,t=this.state.selectedRowKeys,a={selectedRowKeys:t,onChange:this.onSelectChange},n=0!=this.state.result.arpbind_list.length&&0<t.length;return d.a.createElement(or.a,{title:"ARP\u7ed1\u5b9a\u5217\u8868"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"ARP\u7ed1\u5b9a\u8bbe\u7f6e"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.result.enable,onChange:this.handleSwitchChange})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6ce8\u610f"}),d.a.createElement("span",null,"\u5f00\u542f\u8be5\u529f\u80fd\u540e\uff0c\u5176\u4ed6MAC\u4f7f\u7528\u7ed1\u5b9a\u7684IP\u65e0\u6cd5\u4e0a\u7f51!")),0==this.state.result.enable?null:d.a.createElement("div",null,d.a.createElement(lr.a,{bordered:!0,columns:this.arpBindcolumns,dataSource:this.state.result.arpbind_list,rowSelection:a,pagination:!1,fixed:!1,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{style:{marginRight:20},onClick:e.handleAddList},"\u589e\u52a0\u6761\u76ee"),d.a.createElement(hn.a,{type:"danger",onClick:function(){return e.handleDeleteDhcpSelectList(e.state.result.arpbind_list)},disabled:!n},"\u5220\u9664\u6240\u9009"))}}),d.a.createElement(R.a,{title:"\u6dfb\u52a0ARP\u6761\u76ee",visible:this.state.visible1,onOk:this.addArpBindListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(jl,{ipaddr:this.state.ipaddr,macaddr:this.state.macaddr,handleScanArpList:this.handleScanArpList.bind(this),wrappedComponentRef:function(t){e.addArpItemForm=t}})),d.a.createElement(R.a,{title:"ARP\u5217\u8868",visible:this.state.visible2,maskClosable:!1,onCancel:this.hideModal2,destroyOnClose:!0,footer:d.a.createElement(hn.a,{onClick:this.hideModal2},"\u5173\u95ed")},d.a.createElement(lr.a,{bordered:!0,columns:Sl,dataSource:this.state.arpList,pagination:!1,onRowClick:this.onRowClick}))))}}]),t}(d.a.Component),jl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={ipaddr:a.props.ipaddr,macaddr:a.props.macaddr},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.ipaddr===this.props.ipaddr&&e.macaddr===this.props.macaddr||this.setState({ipaddr:e.ipaddr,macaddr:e.macaddr})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"IP\u5730\u5740"}),e("ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.ipaddr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"MAC\u5730\u5740"}),e("mac",{rules:[{required:!0,message:"MAC\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([0-9a-fA-F]{2})(([/s:][0-9a-fA-F]{2}){5})$"),message:"MAC\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.macaddr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(hn.a,{onClick:this.props.handleScanArpList},"\u626b\u63cf")))}}]),t}(d.a.Component);jl=fn.a.create({})(jl);var kl=Cr.a.Option,Il=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={wanping_en:!1,wanid:1,multiwan_list:[{wanid:0,interface:"all"},{wanid:1,interface:"wan1"}]},a.getWanPingConfig=function(){var e=Object(m.a)({},xt);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({wanping_en:e.result.wanping_en,wanping_en_src:e.result.wanping_en,wanid:e.result.wanid,multiwan_list:e.result.multiwan_list})})},a.handleSetWanPingConfig=function(){a.props.form.validateFields(function(e,t){e||a.setWanPingConfig(a.state.wanping_en,t.wanid)})},a.setWanPingConfig=function(e,t){var n=Object(m.a)({},Dt,{wanping_en:e,wanid:t});kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")}).then(function(e){a.getWanPingConfig()})},a.renderWanList=function(e){return e.map(function(e){return d.a.createElement(kl,{value:e.wanid},e.interface.toUpperCase())})},a.handleSwitchChange=function(e){a.setState({wanping_en:e}),1==a.state.wanping_en_src&&a.setWanPingConfig(e,a.state.wanid)},a.changeMulWan=function(e){a.setState({wanid:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getWanPingConfig()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(or.a,{title:"\u5141\u8bb8WanPing"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5141\u8bb8WanPing"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.wanping_en,onChange:this.handleSwitchChange})),0==this.state.wanping_en?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6307\u5b9a\u63a5\u53e3"}),e("wanid",{initialValue:1})(d.a.createElement(Cr.a,{onChange:this.changeMulWan},this.renderWanList(this.state.multiwan_list)))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetWanPingConfig},"\u5e94\u7528")))))}}]),t}(d.a.Component);Il=fn.a.create({})(Il),a(579);var Al=a(229),xl=a.n(Al),Dl=a(595),Ml=(a(184),a(45)),Ll=a.n(Ml),Tl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={addVisible:!1,editVisible:!1,deleteVisible:!1,group_info:a.props.group_info,gid:1==a.props.noHandle?"0":"1",groupname:1==a.props.noHandle?"ALL":"default",noHandle:a.props.noHandle,groupToDefalut:a.props.groupToDefalut},a.hideModal=function(){a.setState({addVisible:!1,editVisible:!1,deleteVisible:!1})},a.handleAddGroup=function(){a.setState({addVisible:!0})},a.handleEditGroup=function(){a.setState({editVisible:!0})},a.handleDelteGroup=function(){a.setState({deleteVisible:!0})},a.handleAddGroupItem=function(e){a.setState({addVisible:!1}),a.props.handleAddGroupItem(e)},a.handleEditGroupItem=function(e){a.setState({editVisible:!1}),a.props.handleEditGroupItem(e,a.state.gid)},a.handleDelteGroupItem=function(){a.props.handleDelteGroupItem(a.state.groupname,a.state.gid),1==a.props.noHandle?a.setState({editVisible:!1,deleteVisible:!1,gid:"0",groupname:"ALL"}):a.setState({editVisible:!1,deleteVisible:!1,gid:"1",groupname:"default"})},a.renderGroupMsg=function(e){return e.map(function(e){return d.a.createElement(Ll.a.Button,{value:e.gid,onClick:function(){return a.handleGroupRadio(e)}},e.groupname)})},a.handleGroupRadio=function(e){a.setState({gid:e.gid,groupname:e.groupname}),1==a.props.noHandle?a.props.getApListmsg(e.gid):a.props.getSSIDmsg(e.gid)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(this.setState({group_info:e.group_info}),e.groupToDefalut!==this.props.groupToDefalut&&this.setState({gid:1==this.props.noHandle?"0":"1"}))}},{key:"render",value:function(){var e=this,t=this.state.noHandle;return d.a.createElement("div",{className:"top_bar"},d.a.createElement("div",null,d.a.createElement("b",null,"\u5206\u7ec4\u4fe1\u606f\uff1a"),1==t?d.a.createElement(Ll.a.Group,{defaultValue:"0",value:this.state.gid,buttonStyle:"solid"},this.renderGroupMsg(this.state.group_info)):d.a.createElement(Ll.a.Group,{defaultValue:"1",value:this.state.gid,buttonStyle:"solid"},this.renderGroupMsg(this.state.group_info)),1==t?null:d.a.createElement(hn.a,{title:"\u6dfb\u52a0\u5206\u7ec4",icon:"plus",type:"primary",ghost:!0,style:{marginLeft:20},onClick:this.handleAddGroup}),d.a.createElement("br",null),1==t?null:d.a.createElement("div",null,d.a.createElement(hn.a,{title:"\u7f16\u8f91\u5206\u7ec4",icon:"edit",type:"primary",ghost:!0,style:{marginLeft:70,marginTop:20},disabled:"default"==this.state.groupname||"ALL"==this.state.groupname,onClick:this.handleEditGroup}),d.a.createElement(hn.a,{title:"\u5220\u9664\u5206\u7ec4",icon:"delete",type:"danger",ghost:!0,style:{marginLeft:20},disabled:"default"==this.state.groupname||"ALL"==this.state.groupname,onClick:this.handleDelteGroup}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u5206\u7ec4",visible:this.state.addVisible,onOk:function(){return e.handleAddGroupItem(e.groupname)},onCancel:this.hideModal,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement("p",null,"\u8bf7\u586b\u5165\u8981\u589e\u52a0\u7684\u5206\u7ec4\uff1a"),d.a.createElement(_n.a,{type:"text",style:{width:220},ref:function(t){e.groupname=t}})),d.a.createElement(R.a,{title:"\u4fee\u6539\u5206\u7ec4",visible:this.state.editVisible,onOk:function(){return e.handleEditGroupItem(e.groupname)},onCancel:this.hideModal,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement("p",null,"\u539f\u5206\u7ec4\uff1a",this.state.groupname),d.a.createElement("p",null,"\u65b0\u5206\u7ec4\uff1a"),d.a.createElement(_n.a,{type:"text",style:{width:220},ref:function(t){e.groupname=t}})),d.a.createElement(R.a,{title:"\u5220\u9664\u5206\u7ec4",visible:this.state.deleteVisible,onOk:this.handleDelteGroupItem,onCancel:this.hideModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement("p",null,"\u786e\u5b9a\u8981\u5220\u9664\u5206\u7ec4\uff1a'",this.state.groupname,"' \uff1f")))))}}]),t}(d.a.Component),Pl=_n.a.Search,Rl=R.a.confirm,Nl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={apid:a.props.apid,showUpgrade:a.props.showUpgrade,buttonDisable:a.props.buttonDisable,blink:!1,visibleLED:!1,visible:!1,confirmLoading:!1,breaf_apinfo:a.props.breaf_apinfo,breaf_apinfo_src:a.props.breaf_apinfo},a.warning=function(){R.a.warning({title:"\u8bf7\u9009\u62e9\u8981\u9009\u62e9\u7684\u9879\uff01",okText:"\u786e\u5b9a"})},a.showModal=function(){a.setState({visible:!0})},a.handleOk=function(){var e=Object(Cn.a)(Object(Cn.a)(a)),t=a.state.apid,n=Object(m.a)({apid:t},Ie);kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f"),a.props.getGroupMsg())}),a.setState({ModalText:"\u7a97\u53e3\u5c06\u57283\u79d2\u540e\u5173\u95ed...",confirmLoading:!0}),setTimeout(function(){a.setState({visible:!1,confirmLoading:!1}),e.props.getApListFromModel()},3e3)},a.handleCancel=function(){a.setState({visible:!1})},a.handleApUpdata=function(){if(""==a.state.apid)return a.warning(),!1;a.setState({visible:!0})},a.handleApReboot=function(){var e=a.state.apid,t=Object(m.a)({apid:e},ke);if(""==e)return a.warning(),!1;Rl({title:"\u662f\u5426\u9700\u8981\u91cd\u542f\u9009\u62e9\u7684AP?",content:"\u70b9\u51fb\u786e\u5b9a\uff0c\u9009\u4e2d\u7684AP\u5c06\u91cd\u542f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&(zt.a.success("\u914d\u7f6e\u4e0b\u53d1\u6210\u529f"),a.props.getGroupMsg())})}})},a.handleApReset=function(){var e=a.state.apid,t=Object(m.a)({apid:e},je);if(""==e)return a.warning(),!1;Rl({title:"\u662f\u5426\u9700\u8981\u91cd\u7f6e\u9009\u62e9\u7684AP?",content:"\u70b9\u51fb\u786e\u5b9a\uff0c\u8bbe\u5907\u5c06\u4f1a\u91cd\u542f",okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",onOk:function(){kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f"),a.props.getGroupMsg())})}})},a.handleApLedSetting=function(){var e=a.state.apid,t=a.state.blink,n=Object(m.a)({apid:e,blink:t},Ae);kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f"),a.props.getGroupMsg())}),a.setState({visibleLED:!1,blink:!1},function(){a.props.getGroupMsg()})},a.showLedModal=function(){if(""==a.state.apid)return a.warning(),!1;a.setState({visibleLED:!0})},a.hideLedModal=function(){a.setState({visibleLED:!1,blink:!1})},a.handleBlink=function(e){a.setState({blink:e})},a.handleSearch=function(e){var t=a.state.breaf_apinfo,n=[];""==e?a.props.handleFilterList(null,!0):(t.forEach(function(t,a){-1==t.apname.indexOf(e)&&-1==t.mac.indexOf(e)||n.push(t)}),a.props.handleFilterList(n,!1))},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({apid:e.apid,buttonDisable:e.buttonDisable,breaf_apinfo:e.breaf_apinfo,breaf_apinfo_src:e.breaf_apinfo})}},{key:"render",value:function(){return d.a.createElement("div",{className:"context"},d.a.createElement(Pl,{enterButton:!0,size:"small",placeholder:"\u5907\u6ce8\u540d\u79f0/MAC\u5730\u5740",onSearch:this.handleSearch,style:{width:200}}),1==this.state.showUpgrade?d.a.createElement("div",{style:{display:"inline-block"}},d.a.createElement(hn.a,{type:"primary",size:"small",style:{marginRight:20,marginLeft:20,marginBottom:20},onClick:this.handleApUpdata,disabled:this.state.buttonDisable},"\u5347\u7ea7"),d.a.createElement(hn.a,{type:"primary",size:"small",onClick:this.props.getGroupMsg},"\u5237\u65b0")):d.a.createElement("div",{style:{display:"inline-block"}},d.a.createElement(hn.a,{type:"primary",size:"small",style:{marginLeft:20,marginBottom:20},onClick:this.handleApReboot},"\u91cd\u542f"),d.a.createElement(hn.a,{type:"primary",size:"small",style:{marginRight:20,marginLeft:20},onClick:this.handleApReset},"\u590d\u4f4d"),d.a.createElement(hn.a,{type:"primary",size:"small",style:{marginRight:20},onClick:this.showLedModal},"LED\u8bbe\u7f6e"),d.a.createElement(hn.a,{type:"primary",size:"small",onClick:this.props.getGroupMsg},"\u5237\u65b0")),d.a.createElement(R.a,{title:"\u5347\u7ea7\u9009\u4e2dAP",visible:this.state.visible,onOk:this.handleOk,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",confirmLoading:this.state.confirmLoading,onCancel:this.handleCancel},d.a.createElement("p",null,"\u70b9\u51fb\u786e\u5b9a\uff0c\u9009\u4e2d\u7684AP\u5c06\u91cd\u542f\uff01")),d.a.createElement(R.a,{title:"LED\u8bbe\u7f6e",visible:this.state.visibleLED,onOk:this.handleApLedSetting,onCancel:this.hideLedModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",destroyOnClose:!0},d.a.createElement("span",{style:{color:"red"}},"\u8be5\u529f\u80fd\u7528\u4e8eAP\u5b9a\u4f4d\uff0c\u5f00\u542f\u540eLED\u5feb\u95ea\uff0c\u5173\u95ed\u540eLED\u6162\u95ea"),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("span",null,"LED\u95ea\u70c1\uff1a"),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:this.state.blink,onChange:this.handleBlink})))}}]),t}(d.a.Component),Vl=Cr.a.Option,Fl=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={sortedInfo:null,selectedRowKeys:[],apid:"1",apname:"",apid_forSelect:"",breaf_apinfo:a.props.breaf_apinfo,group_info:a.props.group_info,movegid:"",visible:!1},a.handleDeleteSelectList=function(){R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){var e=a.state.apid_forSelect;a.setState({selectedRowKeys:[]}),a.props.handleDeleteSelectAp(e)},onCancel:function(){}})},a.onRowClick=function(e,t){a.setState({apid:e.apid,apname:e.apname}),a.showDrawerFlag&&(a.props.showDetail(e.apid,e.apname),a.showDrawerFlag=!1)},a.handleMoveSelectAp=function(){var e=a.state.movegid,t=a.state.apid_forSelect;a.props.handleMoveSelectAp(e,t),a.setState({visible:!1})},a.showModal=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.handleChange=function(e,t,n){a.setState({sortedInfo:n})},a.renderGroupMsg=function(e){return e.map(function(e){return d.a.createElement(Vl,{value:e.gid},e.groupname)})},a.handleMoveGroupId=function(e){a.setState({movegid:e})},a.showDrawerFlag=!1,a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(this.setState({breaf_apinfo:e.breaf_apinfo,group_info:e.group_info}),this.props.breaf_apinfo!=e.breaf_apinfo&&this.setState({selectedRowKeys:[]}))}},{key:"render",value:function(){var e=this,t=this.state.selectedRowKeys,a={selectedRowKeys:t,onChange:function(t,a){var n=[];a.forEach(function(e,t){n.push(e.apid)}),e.setState({apid_forSelect:n.toString(),selectedRowKeys:t}),e.props.changeApidSelect(n.toString())}},n=0!=this.state.breaf_apinfo.length&&0<t.length,r=this.state.sortedInfo,l=[{title:"\u5907\u6ce8\u540d\u79f0",dataIndex:"apname",render:function(t){return d.a.createElement("a",{href:"javascript:;",onClick:function(){return e.showDrawerFlag=!0}},t)}},{title:"IP\u5730\u5740",dataIndex:"ipaddr",key:"ipaddr",sorter:function(e,t){return Rn(e.ipaddr)-Rn(t.ipaddr)},sortOrder:"ipaddr"===(r=r||{}).columnKey&&r.order,render:function(e){var t="http://"+e;return d.a.createElement("a",{href:t,target:"blank"},e)}},{title:"MAC\u5730\u5740",dataIndex:"mac"},{title:"\u63a5\u5165\u70b9\u578b\u53f7",dataIndex:"model"},{title:"\u8f6f\u4ef6\u7248\u672c\u53f7",dataIndex:"version"},{title:"\u8fd0\u884c\u65f6\u95f4",dataIndex:"uptime",render:function(e){return Dn(e)}},{title:"\u52a0\u5165\u65f6\u95f4",dataIndex:"jointime"},{title:"\u72b6\u6001",dataIndex:"runstate",key:"runstate",sorter:function(e,t){return e.runstate-t.runstate},sortOrder:"runstate"===r.columnKey&&r.order,render:function(e,t){switch(e){case"0":return d.a.createElement("span",null,"\u79bb\u7ebf");case"1":return d.a.createElement("span",null,"\u53d1\u73b0");case"2":return d.a.createElement("span",null,"\u8ba4\u8bc1");case"3":return d.a.createElement("span",null,"\u52a0\u5165");case"4":return d.a.createElement("span",null,"\u914d\u7f6e");case"5":return d.a.createElement("span",null,"\u6570\u636e\u68c0\u67e5");case"6":return d.a.createElement("span",{style:{color:"#40dc40"}},"\u8fd0\u884c");case"7":return d.a.createElement("span",{style:{color:"red"}},"\u5347\u7ea7\u4e2d");case"8":return d.a.createElement("span",{style:{color:"#ffc107"}},"\u91cd\u7f6e\u4e2d");case"9":return d.a.createElement("span",{style:{color:"#2d38bd"}},"\u91cd\u542f\u4e2d");default:return d.a.createElement("span",null,"\u672a\u77e5")}}}];return d.a.createElement(lr.a,{rowSelection:a,bordered:!0,onRowClick:this.onRowClick,columns:l,dataSource:this.state.breaf_apinfo,onChange:this.handleChange,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{type:"danger",style:{marginRight:20},onClick:e.handleDeleteSelectList,disabled:!n},"\u5220\u9664\u6240\u9009"),d.a.createElement(hn.a,{onClick:e.showModal,disabled:!n},"\u79fb\u52a8\u5230\u5206\u7ec4"),d.a.createElement(R.a,{title:"\u79fb\u52a8AP\u5230\u5206\u7ec4",visible:e.state.visible,onOk:e.handleMoveSelectAp,onCancel:e.hideModal,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",destroyOnClose:!0,maskClosable:!1},"\u8bf7\u9009\u62e9\u79fb\u52a8\u5230\u7684\u5206\u7ec4\uff1a",d.a.createElement(Cr.a,{defaultValue:"1",style:{width:180},onChange:e.handleMoveGroupId},e.renderGroupMsg(e.state.group_info))))}})}}]),t}(d.a.Component),Ul=(a(1466),a(593)),Gl=a.n(Ul),Wl=a(281),ql=(a(1469),a(287)),zl=a.n(ql),$l=Cr.a.Option,Bl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={showRadio0:a.props.showRadio0,radio_config:a.props.radio_config},a.changeWirelessmode=function(e){var t=a.state.radio_config;t.wirelessmode=e,a.setState({radio_config:t}),"1"!=e&&"2"!=e&&"4"!=e||a.changeHtmode("0"),"9"!=e&&"8"!=e||a.changeHtmode("1")},a.changeHtmode=function(e){var t=a.state.radio_config;t.htmode=e,a.setState({radio_config:t})},a.changeChannel=function(e){var t=a.state.radio_config;t.channel=e,a.setState({radio_config:t})},a.changeTxpower=function(e){var t=a.state.radio_config;t.txpower=e,a.setState({radio_config:t})},a.changeIfadmin=function(e){e=1==e?"1":"0";var t=a.state.radio_config;t.if_admin=e,a.setState({radio_config:t})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&e.radio_config!=this.props.radio_config&&(this.props.form.resetFields(),this.setState({showRadio0:e.showRadio0,radio_config:e.radio_config}))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.showRadio0,n=this.state.radio_config,r=n.if_admin,l=n.wirelessmode,i=n.htmode,s=n.channel,o=n.txpower,c=n.beacon;return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5c04\u9891"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:"1"==r,onChange:this.changeIfadmin})),"0"==r?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u65e0\u7ebf\u6a21\u5f0f"}),a?d.a.createElement(Cr.a,{defaultValue:"1",value:l,onChange:this.changeWirelessmode},d.a.createElement($l,{value:"1"},"11B"),d.a.createElement($l,{value:"4"},"11G"),d.a.createElement($l,{value:"6"},"11N"),d.a.createElement($l,{value:"9"},"11BGN")):d.a.createElement(Cr.a,{defaultValue:"2",value:l,onChange:this.changeWirelessmode},d.a.createElement($l,{value:"2"},"11A"),d.a.createElement($l,{value:"8"},"11AN"),d.a.createElement($l,{value:"14"},"11AC"))),"6"==l||"14"==l?d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9891\u5bbd"}),d.a.createElement(Cr.a,{defaultValue:"0",value:i,onChange:this.changeHtmode},d.a.createElement($l,{value:"0"},"HT20MHz"),d.a.createElement($l,{value:"1"},"HT40MHz"),d.a.createElement($l,{value:"2"},"HT80MHz"))):"8"==l||"9"==l?d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9891\u5bbd"}),d.a.createElement(Cr.a,{defaultValue:"1",value:i,onChange:this.changeHtmode},d.a.createElement($l,{value:"0"},"HT20MHz"),d.a.createElement($l,{value:"1"},"HT40MHz"))):d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9891\u5bbd",style:{display:"none"}}),d.a.createElement(Cr.a,{defaultValue:"0",value:"0"},d.a.createElement($l,{value:"0"},"HT20MHz"))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4fe1\u9053"}),d.a.createElement(Cr.a,{defaultValue:"0",value:s,onChange:this.changeChannel},d.a.createElement($l,{value:"0"},"AUTO"),a?[1,2,3,4,5,6,7,8,9,10,11,12,13].map(function(e){return d.a.createElement($l,{value:e},e)}):[36,40,44,48,52,56,60,64,149,153,157,161,165].map(function(e){return d.a.createElement($l,{value:e},e)}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u53d1\u5c04\u529f\u7387"}),d.a.createElement(Cr.a,{defaultValue:"0",value:o,onChange:this.changeTxpower},d.a.createElement($l,{value:"0"},"0%"),d.a.createElement($l,{value:"12"},"12.5%"),d.a.createElement($l,{value:"25"},"25%"),d.a.createElement($l,{value:"50"},"50%"),d.a.createElement($l,{value:"75"},"75%"),d.a.createElement($l,{value:"100"},"100%"))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4fe1\u6807\u95f4\u9694(ms)"}),t("beacon",{rules:[{required:!0,message:"\u4fe1\u6807\u95f4\u9694\u53ea\u80fd\u4e3a40-3500!"},{pattern:new RegExp("^([4-9]\\d|[1-9]\\d\\d|3[0-4]\\d\\d|3500)$"),message:"\u4fe1\u6807\u95f4\u9694\u53ea\u80fd\u4e3a40-3500\uff01"}],initialValue:c})(d.a.createElement(_n.a,null)))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{style:{width:132},type:"primary",onClick:function(){return e.props.handleRadio(e.state.radio_config)}},"\u5e94\u7528")))}}]),t}(d.a.Component),Kl=fn.a.create()(Bl),Hl=ol.a.TabPane,Jl=zl.a.Panel,Yl=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state=Object(Wl.a)({drawerVisible:a.props.visible,apid:a.props.apid,apname:a.props.apname,showRadio0:a.props.showRadio0,showRadio1:a.props.showRadio1,radio0_config:a.props.radio0_config,radio1_config:a.props.radio1_config,detail_apinfo:a.props.detail_apinfo},"apid",a.props.apid),a.showDrawer=function(){a.setState({drawerVisible:!0})},a.onClose=function(){a.setState({drawerVisible:!1})},a.handleRadioClick0=function(){a.setState({showRadio0:!0,showRadio1:!1})},a.handleRadioClick1=function(){a.setState({showRadio1:!0,showRadio0:!1})},a.handleSetApName=function(e){var t=a.state.apid;a.props.form.validateFields(function(n,r){n||(e=r.apname,a.props.handleSetApName(t,e))})},a.handleRadio=function(e){var t=a.state.showRadio0?"1":"0",n=a.state.apid;a.handleRadioForm.props.form.validateFields(function(a,r){if(!a){void 0!==r.beacon&&(e.beacon=r.beacon);var l=Object(m.a)({apid:n,radioid:t},e,r,be);kn.ajax_post({data:l}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f")})}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(this.props.apname!=e.apname&&this.props.form.resetFields(),this.setState({apid:e.apid,apname:e.apname,radio0_config:e.radio0_config,radio1_config:e.radio1_config,detail_apinfo:e.detail_apinfo,showRadio0:e.showRadio0,showRadio1:e.showRadio1},function(){}))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state.detail_apinfo,n=a.radio_type,r=a.reason,l=a.runstate;return d.a.createElement("div",null,d.a.createElement(Gl.a,{title:"\u5c5e\u6027\u5217\u8868",width:452,onClose:this.props.onClose,visible:this.state.drawerVisible,mask:!1},d.a.createElement(ol.a,{defaultActiveKey:"1"},d.a.createElement(Hl,{tab:"\u8be6\u7ec6\u4fe1\u606f",key:"1"},d.a.createElement(zl.a,{defaultActiveKey:["1"],onChange:this.callback},d.a.createElement(Jl,{header:"\u6982\u89c8",key:"1"},d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"MAC\u5730\u5740"),d.a.createElement("dd",null,this.state.detail_apinfo.mac)),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"IP\u5730\u5740"),d.a.createElement("dd",null,this.state.detail_apinfo.ipaddr)),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u578b\u53f7"),d.a.createElement("dd",null,this.state.detail_apinfo.model)),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u8f6f\u4ef6\u7248\u672c\u53f7"),d.a.createElement("dd",null,this.state.detail_apinfo.version)),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u8fd0\u884c\u65f6\u95f4"),d.a.createElement("dd",null,this.state.detail_apinfo.uptime)),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u5c04\u9891\u7c7b\u578b"),d.a.createElement("dd",null,"0"==n?"\u65e0\u5c04\u9891":"1"==n?"2.4G":"2"==n?"5G":"3"==n?"2.4G+5G":"\u672a\u77e5")),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u52a0\u5165\u65f6\u95f4"),d.a.createElement("dd",null,this.state.detail_apinfo.jointime)),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u79bb\u7ebf\u539f\u56e0"),d.a.createElement("dd",null,"0"==r?"\u6b63\u5e38":"1"==r?"\u7f51\u7edc\u6545\u969c":"2"==r?"\u5fc3\u8df3\u5931\u8d25":"3"==r?"\u6570\u636e\u9519\u8bef":"4"==r?"\u91cd\u7f6e":"5"==r?"\u91cd\u542f":"6"==r?"\u5347\u7ea7":"\u672a\u77e5")),d.a.createElement("dl",{className:"list-row"},d.a.createElement("dt",null,"\u8fd0\u884c\u72b6\u6001"),d.a.createElement("dd",null,"0"==l?"\u79bb\u7ebf":"1"==l?"\u53d1\u73b0":"2"==l?"\u8ba4\u8bc1":"3"==l?"\u52a0\u5165":"4"==l?"\u914d\u7f6e":"5"==l?"\u6570\u636e\u68c0\u67e5":"6"==l?"\u8fd0\u884c":"7"==l?"\u5347\u7ea7\u4e2d":"8"==l?"\u91cd\u7f6e\u4e2d":"9"==l?"\u91cd\u542f\u4e2d":"\u672a\u77e5"))))),d.a.createElement(Hl,{tab:"\u914d\u7f6e",key:"2"},d.a.createElement(zl.a,{defaultActiveKey:["1"],accordion:!0,onChange:this.callback},d.a.createElement(Jl,{header:"\u57fa\u672c",key:"1"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,{label:"AP\u5907\u6ce8\u540d\u79f0"},t("apname",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165AP\u540d\u79f0!"}],initialValue:this.state.apname})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,null,d.a.createElement(hn.a,{type:"primary",style:{width:132},onClick:function(){return e.handleSetApName(e.apname)}},"\u5e94\u7528")))),d.a.createElement(Jl,{header:"\u5c04\u9891\u57fa\u672c\u914d\u7f6e",key:"2"},this.state.radio0_config!={}&&null!=this.state.radio0_config||this.state.radio1_config!={}&&null!=this.state.radio1_config?d.a.createElement("div",null,"\u9009\u62e9\u7f51\u5361\uff1a",d.a.createElement(Ll.a.Group,{defaultValue:this.state.radio0_config=={}||null==this.state.radio0_config?"1":"0",value:1==this.state.showRadio0?"0":"1",buttonStyle:"solid",size:"small"},this.state.radio0_config=={}||null==this.state.radio0_config?null:d.a.createElement(Ll.a.Button,{style:{width:132,marginBottom:20,textAlign:"center"},value:"0",onClick:this.handleRadioClick0},"2.4G"),this.state.radio1_config=={}||null==this.state.radio1_config?null:d.a.createElement(Ll.a.Button,{style:{width:132,marginBottom:20,textAlign:"center"},value:"1",onClick:this.handleRadioClick1},"5G")),1==this.state.showRadio0?d.a.createElement(Kl,{showRadio0:!0,radio_config:this.state.radio0_config,handleRadio:this.handleRadio,wrappedComponentRef:function(t){e.handleRadioForm=t}}):1==this.state.showRadio1?d.a.createElement(Kl,{showRadio0:!1,radio_config:this.state.radio1_config,handleRadio:this.handleRadio,wrappedComponentRef:function(t){e.handleRadioForm=t}}):null):"\u6ca1\u6709\u9700\u8981\u663e\u793a\u7684\u7f51\u5361"))))))}}]),t}(d.a.Component),Ql=fn.a.create()(Yl),Zl=(a(1474),function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={drawerVisible:!1,addVisible:!1,editVisible:!1,deleteVisible:!1,searchText:"",groupToDefalut:!1,group_info:[],src_group_info:[],gid:"0",apid:"1",apid_forSelect:"",groupname:"ALL",apname:"",breaf_apinfo:[],breaf_apinfo_src:[],radio0_config:{},radio1_config:{},detail_apinfo:{},basic_config:{apname:""}},a.getGroupmsg=function(){var e=Object(m.a)({},de);kn.ajax_post({data:e}).then(function(e){var t;2e3==e.restcode&&(t=[{gid:"0",groupname:"ALL"}].concat(Object(Dl.a)(e.result.group_info)),a.setState({group_info:t,src_group_info:e.result.group_info}))})},a.getApListmsg=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"0";a.setState({gid:e});var t=Object(m.a)({gid:e},he);kn.ajax_post({data:t}).then(function(e){var t;2e3==e.restcode&&(t=e.result.breaf_apinfo.map(function(e,t){return e.key=t,e}),a.setState({breaf_apinfo:t,breaf_apinfo_src:t,apid_forSelect:""}))})},a.changeApidSelect=function(e){a.setState({apid_forSelect:e})},a.onClose=function(){a.setState({drawerVisible:!1})},a.handleDeleteSelectAp=function(e){var t=Object(m.a)({apid:e},ye);kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&(a.getApListmsg(),a.setState({groupToDefalut:!a.state.groupToDefalut}))})},a.showDetail=function(e,t){a.setState({drawerVisible:!0,apid:e,apname:t},function(){this.getDetailApinfo(e,t)})},a.getDetailApinfo=function(e,t){var n=Object(m.a)({apid:e},ge);kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&a.setState({radio0_config:e.result.radio0_config,radio1_config:e.result.radio1_config,detail_apinfo:e.result.detail_apinfo,basic_config:e.result.basic_config})})},a.handleSetApName=function(e,t){var n=Object(m.a)({apname:t,apid:e},fe);kn.ajax_post({data:n}).then(function(e){e.restcode}).then(function(e){a.getApListmsg()})},a.handleMoveSelectAp=function(e,t){var n=Object(m.a)({gid:e,apid:t},ve);kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&a.setState({groupToDefalut:!a.state.groupToDefalut})}).then(function(e){a.getGroupmsg(),a.getApListmsg()})},a.handleFilterList=function(e,t){if(t){var n=a.state.breaf_apinfo_src;a.setState({breaf_apinfo:n})}else a.setState({breaf_apinfo:e})},a.getGroupMsg=function(){a.getApListmsg(a.state.gid)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getGroupmsg(),this.getApListmsg()}},{key:"render",value:function(){return d.a.createElement("div",{className:"wrap"},d.a.createElement("div",{className:"left "},d.a.createElement(or.a,{title:"AP\u72b6\u6001"},d.a.createElement(Tl,{group_info:this.state.group_info,noHandle:!0,getApListmsg:this.getApListmsg,groupToDefalut:this.state.groupToDefalut}),d.a.createElement(xl.a,null),d.a.createElement(Nl,{apid:this.state.apid_forSelect,getGroupMsg:this.getGroupMsg,breaf_apinfo:this.state.breaf_apinfo,handleFilterList:this.handleFilterList}),d.a.createElement(Fl,{breaf_apinfo:this.state.breaf_apinfo,showDetail:this.showDetail,changeApidSelect:this.changeApidSelect,handleDeleteSelectAp:this.handleDeleteSelectAp,group_info:this.state.src_group_info,handleMoveSelectAp:this.handleMoveSelectAp}))),0==this.state.drawerVisible?null:d.a.createElement("div",{className:"right"},d.a.createElement(Ql,{visible:this.state.drawerVisible,onClose:this.onClose,apid:this.state.apid,apname:this.state.apname,radio0_config:this.state.radio0_config,radio1_config:this.state.radio1_config,detail_apinfo:this.state.detail_apinfo,showRadio0:null!=this.state.radio0_config,showRadio1:null!=this.state.radio1_config,handleSetApName:this.handleSetApName})))}}]),t}(d.a.Component)),Xl=Cr.a.Option,ei=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={group_info:[],ssid_config:{}},a.getGroupmsg=function(){var e=Object(m.a)({},de);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){var t=e.result.group_info;a.setState({group_info:t})}})},a.getSSIDmsg=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"1",t=Object(m.a)({gid:e},_e);kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.setState({ssid_config:xn(e.result.ssid_config)})})},a.handleAddGroupItem=function(e){if(""==(e=e.state.value)||null==e)return zt.a.error("\u7ec4\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01"),!1;var t=Object(m.a)({groupname:e},ue);kn.ajax_post({data:t}).then(function(t){if(2e3==t.restcode){var n={groupname:e,gid:t.result.gid},r=a.state.group_info;r.push(n),a.setState({group_info:r})}}).then(function(e){a.getGroupmsg()})},a.handleEditGroupItem=function(e,t){if(""==(e=e.state.value))return zt.a.error("\u7ec4\u540d\u4e0d\u80fd\u4e3a\u7a7a\uff01"),!1;var n=Object(m.a)({groupname:e,gid:t},me);kn.ajax_post({data:n}).then(function(e){e.restcode}).then(function(e){a.getGroupmsg()})},a.handleDelteGroupItem=function(e,t){var n=Object(m.a)({groupname:e,gid:t},pe);kn.ajax_post({data:n}).then(function(e){e.restcode}).then(function(e){a.getGroupmsg(t),a.getSSIDmsg()})},a.handleSetSSIDmsg=function(e){JSON.stringify(a.state.ssid_config)!==JSON.stringify(e)?(e=Object(m.a)({},Ee,e),kn.ajax_post({data:e}).then(function(t){2e3==t.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f"),a.getSSIDmsg(e.gid))})):zt.a.success("\u6570\u636e\u5df2\u662f\u6700\u65b0\u72b6\u6001")},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getGroupmsg(),this.getSSIDmsg()}},{key:"render",value:function(){var e=this,t=xn(this.state.ssid_config);return d.a.createElement("div",null,d.a.createElement(or.a,{title:"AP\u7fa4\u7ec4\u7edf\u4e00\u8bbe\u7f6e"},d.a.createElement(Tl,{group_info:this.state.group_info,handleAddGroupItem:this.handleAddGroupItem,handleEditGroupItem:this.handleEditGroupItem,handleDelteGroupItem:this.handleDelteGroupItem,getSSIDmsg:this.getSSIDmsg}),d.a.createElement(ai,{ssid_config:t,handleSetSSIDmsg:this.handleSetSSIDmsg.bind(this),wrappedComponentRef:function(t){e.ssidSettingForm=t}})))}}]),t}(d.a.Component),ti=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={ssid_config:xn(a.props.ssid_config),ssid2to1Enable:!1},a.changeSSID2to1Enable=function(e){e.ssid_2g==e.ssid_5g&&e.hide_2g==e.hide_5g&&e.isolate_2g==e.isolate_5g&&e.encry_2g==e.encry_5g&&e.passphrase_2g==e.passphrase_5g&&e.maxsta_2g==e.maxsta_5g?a.setState({ssid2to1Enable:!0}):a.setState({ssid2to1Enable:!1})},a.handleSetSSIDmsg=function(){var e=xn(a.state.ssid_config);a.props.form.validateFields(function(t,n){if(t)return!1;a.state.ssid2to1Enable?(e.maxsta_2g=n.maxsta_2g,e.maxsta_5g=n.maxsta_2g,e.passphrase_2g="0"==e.encry_2g?"":n.passphrase_2g,e.passphrase_5g="0"==e.encry_2g?"":n.passphrase_2g,e.ssid_2g=n.ssid_2g,e.ssid_5g=n.ssid_2g,e.hide_5g=e.hide_2g,e.isolate_5g=e.isolate_2g,e.encry_5g=e.encry_2g):(e.maxsta_2g=n.maxsta_2g,e.maxsta_5g=n.maxsta_5g,e.passphrase_2g="0"==e.encry_2g?"":n.passphrase_2g,e.passphrase_5g="0"==e.encry_5g?"":n.passphrase_5g,e.ssid_2g=n.ssid_2g,e.ssid_5g=n.ssid_5g),a.setState({ssid_config:xn(e)}),a.props.form.resetFields(),a.props.handleSetSSIDmsg(e)})},a.handleChange=function(e){return function(t){t=t.target.checked;var n=xn(a.state.ssid_config);n[e]=!0===t?"1":"0",a.setState({ssid_config:n})}},a.handleChangeSelect=function(e){return function(t){var n=xn(a.state.ssid_config);n[e]="1"===t?"1":"0",a.setState({ssid_config:n})}},a.handleChangeInput=function(e){return function(t){var n=t.target.value,r=xn(a.state.ssid_config);r[e]=n,a.setState({ssid_config:r})}},a.handleMultiFrequencyUnify=function(e){a.setState({ssid2to1Enable:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.props.ssid_config!=e.ssid_config&&(this.changeSSID2to1Enable(e.ssid_config),this.setState({ssid_config:xn(e.ssid_config)}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.ssid_config;return d.a.createElement("div",null,d.a.createElement(or.a,{type:"inner",title:"SSID\u5206\u7ec4\u8bbe\u7f6e"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u591a\u9891\u5408\u4e00"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:this.state.ssid2to1Enable,onChange:this.handleMultiFrequencyUnify})),this.state.ssid2to1Enable?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"SSID"}),e("ssid_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165SSID\u540d\u79f0!"}],initialValue:t.ssid_2g})(d.a.createElement(_n.a,{onChange:this.handleChangeInput("ssid_2g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9690\u85cfSSID"}),d.a.createElement(Jr.a,{checked:"0"!=t.hide_2g,onChange:this.handleChange("hide_2g")})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u52a0\u5bc6\u65b9\u5f0f"}),d.a.createElement(Cr.a,{value:"0"==t.encry_2g?"\u4e0d\u52a0\u5bc6":"\u52a0\u5bc6",onChange:this.handleChangeSelect("encry_2g")},d.a.createElement(Xl,{value:"0"},"\u4e0d\u52a0\u5bc6"),d.a.createElement(Xl,{value:"1"},"\u52a0\u5bc6"))),"0"==t.encry_2g?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5bc6\u7801"}),e("passphrase_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"},{pattern:new RegExp("^(.{8,32})$"),message:"\u8bf7\u8f93\u51658-32\u4f4d\u7684\u5bc6\u7801\uff01"}],initialValue:t.passphrase_2g})(d.a.createElement(_n.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:this.handleChangeInput("passphrase_2g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4e8c\u5c42\u9694\u79bb"}),d.a.createElement(Jr.a,{checked:"0"!=t.isolate_2g,onChange:this.handleChange("isolate_2g")})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6700\u5927\u7528\u6237\u6570"}),e("maxsta_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u7528\u6237\u6570!"},{pattern:new RegExp("^(\\d|\\d\\d|[1][0-1]\\d|12[0-8])$"),message:"\u6700\u5927\u7528\u6237\u6570\u53ea\u80fd\u4e3a0-128\uff01"}],initialValue:t.maxsta_2g})(d.a.createElement(_n.a,{onChange:this.handleChangeInput("maxsta_2g")})))):d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G SSID"}),e("ssid_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165SSID\u540d\u79f0!"}],initialValue:t.ssid_2g})(d.a.createElement(_n.a,{onChange:this.handleChangeInput("ssid_2g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G \u9690\u85cfSSID"}),d.a.createElement(Jr.a,{checked:"0"!=t.hide_2g,onChange:this.handleChange("hide_2g")})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G \u52a0\u5bc6\u65b9\u5f0f"}),d.a.createElement(Cr.a,{value:"0"==t.encry_2g?"\u4e0d\u52a0\u5bc6":"\u52a0\u5bc6",onChange:this.handleChangeSelect("encry_2g")},d.a.createElement(Xl,{value:"0"},"\u4e0d\u52a0\u5bc6"),d.a.createElement(Xl,{value:"1"},"\u52a0\u5bc6"))),"0"==t.encry_2g?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G \u5bc6\u7801"}),e("passphrase_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"},{pattern:new RegExp("^(.{8,32})$"),message:"\u8bf7\u8f93\u51658-32\u4f4d\u7684\u5bc6\u7801\uff01"}],initialValue:t.passphrase_2g})(d.a.createElement(_n.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:this.handleChangeInput("passphrase_2g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G \u4e8c\u5c42\u9694\u79bb"}),d.a.createElement(Jr.a,{checked:"0"!=t.isolate_2g,onChange:this.handleChange("isolate_2g")})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G \u6700\u5927\u7528\u6237\u6570"}),e("maxsta_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u7528\u6237\u6570!"},{pattern:new RegExp("^(\\d|\\d\\d|[1][0-1]\\d|12[0-8])$"),message:"\u6700\u5927\u7528\u6237\u6570\u53ea\u80fd\u4e3a0-128\uff01"}],initialValue:t.maxsta_2g})(d.a.createElement(_n.a,{onChange:this.handleChangeInput("maxsta_2g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G SSID"}),e("ssid_5g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165SSID\u540d\u79f0!"}],initialValue:t.ssid_5g})(d.a.createElement(_n.a,{onChange:this.handleChangeInput("ssid_5g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u9690\u85cfSSID"}),d.a.createElement(Jr.a,{checked:"0"!=t.hide_5g,onChange:this.handleChange("hide_5g")})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u52a0\u5bc6\u65b9\u5f0f"}),d.a.createElement(Cr.a,{defaultValue:"0"==t.encry_5g?"\u4e0d\u52a0\u5bc6":"\u52a0\u5bc6",onChange:this.handleChangeSelect("encry_5g")},d.a.createElement(Xl,{value:"0"},"\u4e0d\u52a0\u5bc6"),d.a.createElement(Xl,{value:"1"},"\u52a0\u5bc6"))),"0"==t.encry_5g?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u5bc6\u7801"}),e("passphrase_5g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"},{pattern:new RegExp("^(.{8,32})$"),message:"\u8bf7\u8f93\u51658-32\u4f4d\u7684\u5bc6\u7801\uff01"}],initialValue:t.passphrase_5g})(d.a.createElement(_n.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",onChange:this.handleChangeInput("passphrase_5g")}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u4e8c\u5c42\u9694\u79bb"}),d.a.createElement(Jr.a,{checked:"0"!=t.isolate_5g,onChange:this.handleChange("isolate_5g")})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u6700\u5927\u7528\u6237\u6570"}),e("maxsta_5g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u7528\u6237\u6570!"},{pattern:new RegExp("^(\\d|\\d\\d|[1][0-1]\\d|12[0-8])$"),message:"\u6700\u5927\u7528\u6237\u6570\u53ea\u80fd\u4e3a0-128\uff01"}],initialValue:t.maxsta_5g})(d.a.createElement(_n.a,{onChange:this.handleChangeInput("maxsta_5g")})))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetSSIDmsg},"\u5e94\u7528")))))}}]),t}(d.a.Component),ai=fn.a.create()(ti),ni=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={model_info:a.props.model_info},a.renderGroupMsg=function(e){return e.map(function(e){return d.a.createElement(Ll.a.Button,{value:e.model,onClick:function(){return a.handleGroupRadio(e)}},e.model)})},a.handleGroupRadio=function(e){a.props.getApListFromModel(e.model)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({model_info:e.model_info})}},{key:"render",value:function(){var e=this.state.model_info;return d.a.createElement("div",{className:"top_bar"},d.a.createElement("div",null,d.a.createElement("b",null,"\u578b\u53f7\u4fe1\u606f\uff1a"),d.a.createElement(Ll.a.Group,{defaultValue:0<e.length?e[0].model:"",buttonStyle:"solid"},this.renderGroupMsg(this.state.model_info))))}}]),t}(d.a.Component),ri=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={selectedRowKeys:[],apid:"1",apname:"",apid_forSelect:"",breaf_apinfo:a.props.breaf_apinfo,visible:!1},a.secondsToFormatTime=function(e){var t=parseInt(e),a=parseInt(e),n=0,r=0,l=0;return t<60?0==t?d.a.createElement("span",null,"--:--"):d.a.createElement("span",null,a,"\u79d2"):60<t&&t<3600?(n=parseInt(t/60),a=parseInt(t%60),d.a.createElement("span",null,n,"\u5206",a,"\u79d2")):3600<t&&t<86400?(a=parseInt(t%60),n=parseInt(t/60),r=parseInt(n/60),n=parseInt(n%60),d.a.createElement("span",null,r,"\u65f6",n,"\u5206",a,"\u79d2")):(a=parseInt(t%60),n=parseInt(t/60),r=parseInt(n/60),n=parseInt(n%60),l=parseInt(r/24),r=parseInt(r%24),d.a.createElement("span",null,l,"\u5929",r,"\u65f6",n,"\u5206",a,"\u79d2"))},a.onRowClick=function(e,t){a.setState({apid:e.apid,apname:e.apname})},a.columns=[{title:"\u5907\u6ce8\u540d\u79f0",dataIndex:"apname",render:function(e){return d.a.createElement("a",{href:"javascript:;"},e)}},{title:"IP\u5730\u5740",dataIndex:"ipaddr",render:function(e){var t="http://"+e;return d.a.createElement("a",{href:t,target:"blank"},e)}},{title:"MAC\u5730\u5740",dataIndex:"mac"},{title:"\u63a5\u5165\u70b9\u578b\u53f7",dataIndex:"model"},{title:"\u8f6f\u4ef6\u7248\u672c\u53f7",dataIndex:"version"},{title:"\u8fd0\u884c\u65f6\u95f4",dataIndex:"uptime",render:function(e){return a.secondsToFormatTime(e)}},{title:"\u52a0\u5165\u65f6\u95f4",dataIndex:"jointime"},{title:"\u72b6\u6001",dataIndex:"runstate",render:function(e,t){switch(e){case"0":return d.a.createElement("span",null,"\u79bb\u7ebf");case"1":return d.a.createElement("span",null,"\u53d1\u73b0");case"2":return d.a.createElement("span",null,"\u8ba4\u8bc1");case"3":return d.a.createElement("span",null,"\u52a0\u5165");case"4":return d.a.createElement("span",null,"\u914d\u7f6e");case"5":return d.a.createElement("span",null,"\u6570\u636e\u68c0\u67e5");case"6":return d.a.createElement("span",{style:{color:"#40dc40"}},"\u8fd0\u884c");case"7":return d.a.createElement("span",{style:{color:"red"}},"\u5347\u7ea7\u4e2d");case"8":return d.a.createElement("span",{style:{color:"#ffc107"}},"\u91cd\u7f6e\u4e2d");case"9":return d.a.createElement("span",{style:{color:"#2d38bd"}},"\u91cd\u542f\u4e2d");default:return d.a.createElement("span",null,"\u672a\u77e5")}}}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&(this.setState({breaf_apinfo:e.breaf_apinfo}),this.props.breaf_apinfo!=e.breaf_apinfo&&this.setState({selectedRowKeys:[]}))}},{key:"render",value:function(){var e=this,t={selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){var n=[];a.forEach(function(e,t){n.push(e.apid)}),e.setState({apid_forSelect:n.toString(),selectedRowKeys:t}),e.props.changeApidSelect(n.toString())}};return d.a.createElement(lr.a,{rowSelection:t,bordered:!0,onRowClick:this.onRowClick,columns:this.columns,dataSource:this.state.breaf_apinfo})}}]),t}(d.a.Component),li=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={showVisibleAddModle:!1,usb_storage:1,apid_forSelect:"",upgrade_info:[],model_info:[],model:"",breaf_apinfo:[],breaf_apinfo_src:[]},a.getApmodelList=function(){var e,t=Object(m.a)({},Te);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(e=0<t.result.model_info.length?t.result.model_info[0].model:"",a.setState({model_info:t.result.model_info,model:e})),a.getApListFromModel(e)})},a.getApListFromModel=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.state.model;a.setState({model:e});var t=Object(m.a)({model:e},Pe);kn.ajax_post({data:t}).then(function(e){var t;2e3==e.restcode&&(t=e.result.breaf_apinfo.map(function(e,t){return e.key=t,e}),a.setState({breaf_apinfo:t,breaf_apinfo_src:t,apid_forSelect:""}))})},a.getApUpgradeInfo=function(){var e=Object(m.a)({},xe);kn.ajax_post({data:e}).then(function(e){var t;2e3==e.restcode&&(t=e.result.upgrade_info.map(function(e,t){return e.key=t,e}),a.setState({usb_storage:e.result.usb_storage,upgrade_info:t}))})},a.deleteApUpgradeInfo=function(e){var t=Object(m.a)({},De,{fid:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&(zt.a.success("\u5220\u9664\u6210\u529f"),a.getApUpgradeInfo())})},a.showAddApItem=function(){a.setState({showVisibleAddModle:!0})},a.handleUploadAp=function(e){var t=e.fileList,n=new FormData;t.forEach(function(e){n.append("files[]",e)});var r="cgi-bin/cgi_stream.cgi?streamid=5&model=".concat(e.model,"&fwversion=").concat(e.fwversion,"&active=").concat(e.active);Ur()({url:r,method:"post",processData:!1,data:n,success:function(e){var t=JSON.parse(e);2e3===t.restcode?a.getApUpgradeInfo():4008==t.restcode?zt.a.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef."):4009==t.restcode&&zt.a.error("\u63a5\u5165\u70b9\u578b\u53f7\u5df2\u5b58\u5728."),a.setState({showVisibleAddModle:!1})},error:function(){zt.a.error("upload failed."),a.setState({showVisibleAddModle:!1})}})},a.changeApidSelect=function(e){a.setState({apid_forSelect:e})},a.hideAddApModal=function(){a.setState({showVisibleAddModle:!1})},a.handleFilterList=function(e,t){if(t){var n=a.state.breaf_apinfo_src;a.setState({breaf_apinfo:n})}else a.setState({breaf_apinfo:e})},a.getGroupMsg=function(){a.getApListFromModel(a.state.model)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getApUpgradeInfo(),this.getApmodelList()}},{key:"render",value:function(){var e=ol.a.TabPane;return d.a.createElement(or.a,{title:"AP\u5347\u7ea7"},d.a.createElement(ol.a,{defaultActiveKey:"1",onChange:this.callback,animated:!0,tabPosition:"top"},d.a.createElement(e,{tab:"AP\u7248\u672c",key:"1"},"0"==this.state.usb_storage?d.a.createElement("p",null,"\u62b1\u6b49\uff1a\u5347\u7ea7\u529f\u80fd\u9700\u8981\u63a5\u5165USB\u5b58\u50a8\u8bbe\u5907\u624d\u80fd\u4f7f\u7528\uff01"):d.a.createElement(oi,{usb_storage:this.state.usb_storage,upgrade_info:this.state.upgrade_info,deleteApUpgradeInfo:this.deleteApUpgradeInfo,showAddApItem:this.showAddApItem}),d.a.createElement(si,{showVisibleAddModle:this.state.showVisibleAddModle,handleUploadAp:this.handleUploadAp,hideAddApModal:this.hideAddApModal})),d.a.createElement(e,{tab:"AP\u578b\u53f7",key:"2"},d.a.createElement(ni,{model_info:this.state.model_info,getApListFromModel:this.getApListFromModel}),d.a.createElement("br",null),d.a.createElement(Nl,{apid:this.state.apid_forSelect,getGroupMsg:this.getGroupMsg,showUpgrade:!0,buttonDisable:0==this.state.usb_storage,getApListFromModel:this.getApListFromModel,breaf_apinfo:this.state.breaf_apinfo,handleFilterList:this.handleFilterList}),d.a.createElement(ri,{breaf_apinfo:this.state.breaf_apinfo,changeApidSelect:this.changeApidSelect}))))}}]),t}(d.a.Component),ii=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={visibleAddAp:a.props.showVisibleAddModle,fileList:[],model:"",fwversion:"",active:"0"},a.beforeUpload=function(e){return a.setState({fileList:[e]}),!1},a.handleAddApItem=function(){a.props.form.validateFields(function(e,t){e||a.setState({model:t.model,fwversion:t.fwversion},function(){this.props.handleUploadAp(this.state)})})},a.handleActive=function(e){1==e?a.setState({active:"1"}):a.setState({active:"0"})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.showVisibleAddModle!==this.props.visibleAddAp&&(0==e.showVisibleAddModle?this.setState({visibleAddAp:e.showVisibleAddModle,fileList:[]}):this.setState({visibleAddAp:e.showVisibleAddModle}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:8},wrapperCol:{span:12}},a={name:"file",beforeUpload:this.beforeUpload,accept:".bin"};return d.a.createElement("div",null,d.a.createElement(R.a,{title:"\u589e\u52a0\u6761\u76ee",visible:this.state.visibleAddAp,onOk:this.handleAddApItem,onCancel:this.props.hideAddApModal,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",destroyOnClose:!0},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({label:"\u63a5\u5165\u70b9\u578b\u53f7"},t),e("model",{initialValue:"",rules:[{required:!0,message:"\u63a5\u5165\u70b9\u578b\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"}]})(d.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u578b\u53f7"}))),d.a.createElement(fn.a.Item,Object.assign({label:"\u8f6f\u4ef6\u7248\u672c\u53f7"},t),e("fwversion",{initialValue:"",rules:[{required:!0,message:"\u8f6f\u4ef6\u7248\u672c\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"},{message:"\u8f6f\u4ef6\u7248\u672c\u53f7\u53ea\u80fd\u4e3a\u6570\u5b57\uff01"}]})(d.a.createElement(_n.a,{placeholder:"\u8bf7\u8f93\u5165\u578b\u53f7"}))),d.a.createElement(fn.a.Item,Object.assign({label:"\u7248\u672c\u6587\u4ef6"},t),d.a.createElement(Vr.a,Object.assign({},a,{fileList:this.state.fileList}),d.a.createElement(hn.a,{style:{width:237}},d.a.createElement(vn.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20\u6587\u4ef6"))),d.a.createElement(fn.a.Item,Object.assign({label:"\u81ea\u52a8\u5347\u7ea7"},t),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",onChange:this.handleActive})))))}}]),t}(d.a.Component),si=fn.a.create()(ii),oi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={usb_storage:a.props.usb_storage,upgrade_info:a.props.upgrade_info,selectedRowKeys:[]},a.handleDeleteDhcpSelectList=function(e){R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){a.props.deleteApUpgradeInfo(e)},onCancel:function(){}})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({usb_storage:e.usb_storage,upgrade_info:e.upgrade_info})}},{key:"render",value:function(){var e=this,t=this.state.selectedRowKeys,a={selectedRowKeys:t,onChange:this.onSelectChange};return 0!=this.state.upgrade_info.length&&t.length,this.upgradeInfocolumns=[{title:"\u63a5\u5165\u70b9\u578b\u53f7",dataIndex:"model"},{title:"\u8f6f\u4ef6\u7248\u672c\u53f7",dataIndex:"fwversion"},{title:"\u7248\u672c\u6587\u4ef6",dataIndex:"file"},{title:"\u81ea\u52a8\u5347\u7ea7",dataIndex:"active",render:function(e){return d.a.createElement(yr.a,{disabled:!0,defaultChecked:"0"!=e})}},{title:"\u5220\u9664",dataIndex:"fid",key:"2",render:function(t,a){return d.a.createElement(hn.a,{type:"danger",onClick:function(){return e.handleDeleteDhcpSelectList(t)}},"\u5220\u9664")}}],d.a.createElement("div",null,d.a.createElement(lr.a,{bordered:!0,columns:this.upgradeInfocolumns,dataSource:this.state.upgrade_info,rowSelection:a,pagination:!0,fixed:!1,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{style:{marginRight:20},onClick:e.props.showAddApItem},"\u589e\u52a0\u6761\u76ee"))}}))}}]),t}(d.a.Component),ci=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={heartbeat_interval:0,heartbeat_fail:0,gloabal_roaming:!1,roaming_threshold_2g:0,roaming_threshold_5g:0,gloabal_auto_channel:!1,heartbeat_interval_src:0,heartbeat_fail_src:0,gloabal_roaming_src:!1,roaming_threshold_2g_src:0,roaming_threshold_5g_src:0,gloabal_auto_channel_src:!1},a.getAcCloabalConfig=function(){var e=Object(m.a)({},we);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({heartbeat_interval:e.result.heartbeat_interval,heartbeat_fail:e.result.heartbeat_fail,heartbeat_interval_src:e.result.heartbeat_interval,heartbeat_fail_src:e.result.heartbeat_fail})})},a.setAcCloabalConfig=function(e){e=Object(m.a)({},Ce,e),kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")}).then(function(e){a.getAcCloabalConfig()})},a.getAcAdvanceConfig=function(){var e=Object(m.a)({},Se);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({gloabal_roaming:e.result.gloabal_roaming,roaming_threshold_2g:e.result.roaming_threshold_2g,roaming_threshold_5g:e.result.roaming_threshold_5g,gloabal_auto_channel:e.result.gloabal_auto_channel,gloabal_roaming_src:e.result.gloabal_roaming,roaming_threshold_2g_src:e.result.roaming_threshold_2g,roaming_threshold_5g_src:e.result.roaming_threshold_5g,gloabal_auto_channel_src:e.result.gloabal_auto_channel})})},a.handleSetACGloabalConfig=function(){a.props.form.validateFields(function(e,t){if(!e){if(t.heartbeat_interval==a.state.heartbeat_interval_src&&t.heartbeat_fail==a.state.heartbeat_fail_src)return zt.a.success("\u6570\u636e\u5df2\u662f\u6700\u65b0\u72b6\u6001\uff01"),!1;a.setAcCloabalConfig(t),a.setState({heartbeat_interval:t.heartbeat_interval,heartbeat_fail:t.heartbeat_fail})}})},a.handleGloabalRoaming=function(e){a.setState({gloabal_roaming:e})},a.handleGloabalAutoChannel=function(e){a.setState({gloabal_auto_channel:e})},a.handleaAvanceConfig=function(){var e=a.state,t=e.gloabal_roaming,n=e.gloabal_auto_channel,r=e.gloabal_roaming_src,l=e.roaming_threshold_2g_src,i=e.roaming_threshold_5g_src,s=e.gloabal_auto_channel_src;a.props.form.validateFields(function(e,o){if(!e){if(t==r&&n==s&&o.roaming_threshold_2g==l&&o.roaming_threshold_5g==i)return zt.a.success("\u6570\u636e\u5df2\u662f\u6700\u65b0\u72b6\u6001\uff01"),!1;var c=o.roaming_threshold_2g,d=o.roaming_threshold_5g,u=Object(m.a)({},Oe,{gloabal_roaming:t,roaming_threshold_2g:c,roaming_threshold_5g:d,gloabal_auto_channel:n});kn.ajax_post({data:u}).then(function(e){2e3==e.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01"),a.setState({roaming_threshold_2g:c}))}).then(function(e){a.getAcAdvanceConfig()})}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getAcCloabalConfig(),this.getAcAdvanceConfig()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement("div",null,d.a.createElement(or.a,{title:"AC\u5168\u5c40\u914d\u7f6e"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5fc3\u8df3\u95f4\u9694(\u79d2)"}),e("heartbeat_interval",{rules:[{required:!0,message:"\u5fc3\u8df3\u95f4\u9694\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([3-9]\\d|[1]\\d\\d|200)$"),message:"\u5fc3\u8df3\u95f4\u9694\u53ea\u80fd\u4e3a30-200\uff01"}],initialValue:this.state.heartbeat_interval})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5fc3\u8df3\u5931\u8d25\u6b21\u6570"}),e("heartbeat_fail",{rules:[{required:!0,message:"\u5fc3\u8df3\u5931\u8d25\u6b21\u6570\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([3-6])$"),message:"\u5fc3\u8df3\u5931\u8d25\u6b21\u6570\u53ea\u80fd\u4e3a3-6\uff01"}],initialValue:this.state.heartbeat_fail})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetACGloabalConfig},"\u5e94\u7528")))),d.a.createElement("br",null),d.a.createElement(or.a,{title:"AC\u5168\u5c40\u9ad8\u7ea7\u914d\u7f6e"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5168\u5c40\u6f2b\u6e38"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:this.state.gloabal_roaming,onChange:this.handleGloabalRoaming})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2G\u6f2b\u6e38\u9608\u503c"}),e("roaming_threshold_2g",{rules:[{required:!0,message:"\u6f2b\u6e38\u9608\u503c\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d|[0-4]\\d|50)$"),message:"\u6f2b\u6e38\u9608\u503c\u53ea\u80fd\u4e3a0-50\uff01"}],initialValue:this.state.roaming_threshold_2g})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G\u6f2b\u6e38\u9608\u503c"}),e("roaming_threshold_5g",{rules:[{required:!0,message:"\u6f2b\u6e38\u9608\u503c\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d|[0-4]\\d|50)$"),message:"\u6f2b\u6e38\u9608\u503c\u53ea\u80fd\u4e3a0-50\uff01"}],initialValue:this.state.roaming_threshold_5g})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6ce8\u610f"}),d.a.createElement("span",null,"\u6f2b\u6e38\u9608\u503c\u4e0e\u7ec8\u7aefRSSI\u6709\u5173\uff0c\u8ddd\u79bb\u8d8a\u5927\uff0c\u8be5\u503c\u8d8a\u5c0f")),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5168\u5c40\u81ea\u52a8\u4fe1\u9053"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:this.state.gloabal_auto_channel,onChange:this.handleGloabalAutoChannel})),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleaAvanceConfig},"\u5e94\u7528"))))}}]),t}(d.a.Component),di=fn.a.create()(ci),ui=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(or.a,{title:"\u4fdd\u5b58\u6570\u636e\u5e93\u914d\u7f6e"},d.a.createElement(pi,null)),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u91cd\u7f6e\u6570\u636e\u5e93"},d.a.createElement(mi,null)),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u5907\u4efd\u4e0b\u8f7d\u6570\u636e\u5e93"},d.a.createElement(hi,null)),d.a.createElement("br",null),d.a.createElement(or.a,{title:"\u6062\u590d\u6570\u636e\u5e93"},d.a.createElement(gi,null)))}}]),t}(d.a.Component),pi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).handleSaveAcDatebase=function(){var e=Object(m.a)({},Me);kn.ajax_post({data:e}).then(function(e){e.restcode})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement(hn.a,{onClick:this.handleSaveAcDatebase,type:"primary"},"\u4fdd\u5b58\u6570\u636e\u5e93\u914d\u7f6e")}}]),t}(d.a.Component),mi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={secondsToGo:"",percent:0},a.handleResetDatebase=function(){var e=Object(m.a)({},Le);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&(a.setState({secondsToGo:e.locktime,visible:!0}),Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(e.locktime))})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(hn.a,{onClick:function(){return Vn("\u91cd\u7f6e\u6570\u636e\u5e93",e.handleResetDatebase)},type:"primary"},"\u91cd\u7f6e\u6570\u636e\u5e93"),d.a.createElement(R.a,{title:"\u91cd\u7f6e\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),hi=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement("a",{href:"cgi-bin/cgi_stream.cgi?streamid=6",download:"\u5907\u4efd\u4e0b\u8f7d\u6570\u636e\u5e93"},d.a.createElement(hn.a,{type:"primary"},d.a.createElement(vn.a,{type:"download"})," \u5907\u4efd\u4e0b\u8f7d\u6570\u636e\u5e93"))}}]),t}(d.a.Component),gi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={fileList:[],uploading:!1,secondsToGo:"",percent:0},a.handleUpload=function(){var e=a.state.fileList,t=new FormData;e.forEach(function(e){t.append("files[]",e)}),a.setState({uploading:!0}),Ur()({url:"cgi-bin/cgi_stream.cgi?streamid=7",method:"post",processData:!1,data:t,success:function(e){a.setState({fileList:[],uploading:!1});var t=JSON.parse(e);2e3===t.restcode?(a.setState({secondsToGo:t.locktime,visible:!0}),Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(t.locktime)):4008==t.restcode&&zt.a.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef.")},error:function(){a.setState({uploading:!1}),zt.a.error("upload failed.")}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.uploading,n=t.fileList,r={onRemove:function(t){e.setState(function(e){var a=e.fileList.indexOf(t),n=e.fileList.slice();return n.splice(a,1),{fileList:n}})},beforeUpload:function(t){return e.setState(function(e){return{fileList:[t]}}),!1},fileList:n,accept:".tar.gz",onChange:function(e){}};return d.a.createElement("div",null,d.a.createElement(Vr.a,r,d.a.createElement(hn.a,{type:"primary"},d.a.createElement(vn.a,{type:"upload"})," \u4e0a\u4f20\u914d\u7f6e\u6587\u4ef6")),d.a.createElement(hn.a,{type:"primary",onClick:function(){return Vn("\u91cd\u542f",e.handleUpload)},disabled:0===n.length,loading:a,style:{marginTop:16}},a?"\u4e0a\u4f20\u4e2d":"\u5f00\u59cb\u4e0a\u4f20"),d.a.createElement(R.a,{title:"\u4e0a\u4f20\u4e2d",closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(d.a.Component),fi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={secondsToGo:"",percent:0,visible:!0,super_admin:"",pass:!1,prepassword:"",newpassword:"",fileList:[]},a.handleSuperAuth=function(e){var t=Object(m.a)({},Re,{super_admin:e.state.value});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.setState({visible:!1,pass:!0})})},a.chanageSuperadminPassword=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(m.a)({},Ne,{prepassword:t.prepassword,newpassword:t.newpassword});kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&a.setState({visible:!0,pass:!1})})}})},a.beforeUpload=function(e){return a.setState({fileList:[e]}),!1},a.handleUploadAp=function(){var e=a.state.fileList,t=new FormData;e.forEach(function(e){t.append("files[]",e)}),Ur()({url:"cgi-bin/cgi_stream.cgi?streamid=9",method:"post",processData:!1,data:t,success:function(e){var t=JSON.parse(e);2e3===t.restcode?(a.setState({secondsToGo:t.locktime,rstartVisible:!0}),Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(t.locktime)):4008==t.restcode&&zt.a.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef.")},error:function(){zt.a.error("upload failed.")}})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a={name:"file",beforeUpload:this.beforeUpload,accept:".conf"};return d.a.createElement("div",null,d.a.createElement(R.a,{title:"\u8d85\u7ea7\u7ba1\u7406\u5458\u8ba4\u8bc1",closable:!1,visible:this.state.visible,destroyOnClose:!0,mask:!1,footer:null},d.a.createElement("span",{style:{marginRight:10}},"\u8f93\u5165\u8d85\u7ea7\u7ba1\u7406\u5458\u5bc6\u7801:"),d.a.createElement(_n.a,{type:"password",style:{width:180},ref:function(t){e.super_admin=t}}),d.a.createElement(hn.a,{type:"primary",style:{marginLeft:10,width:80},onClick:function(){return e.handleSuperAuth(e.super_admin)}},"\u5e94\u7528")),0==this.state.pass?null:d.a.createElement(or.a,{title:"\u8d85\u7ea7\u7ba1\u7406\u5458\u9875\u9762"},d.a.createElement(or.a,{type:"inner",title:"\u4fee\u6539\u8d85\u7ea7\u7ba1\u7406\u5458\u5bc6\u7801"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,{labelCol:{span:5},wrapperCol:{span:12},label:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801"},t("prepassword",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65e7\u5bc6\u7801!"}],initialValue:""})(d.a.createElement(_n.a.Password,{style:{width:280}}))),d.a.createElement(fn.a.Item,{labelCol:{span:5},wrapperCol:{span:12},label:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"},t("newpassword",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801!"}],initialValue:""})(d.a.createElement(_n.a.Password,{style:{width:280}}))),d.a.createElement(fn.a.Item,{wrapperCol:{span:12,offset:5}},d.a.createElement(hn.a,{type:"primary",style:{width:132},onClick:this.chanageSuperadminPassword},"\u5e94\u7528")))),d.a.createElement(or.a,{style:{marginTop:20},type:"inner",title:"AP\u5907\u6ce8\u540d\u79f0\u7ba1\u7406"},d.a.createElement("span",{style:{marginRight:30}},"\u4e0b\u8f7dAP\u5907\u6ce8\u540d\u79f0\u6587\u4ef6:"),d.a.createElement("a",{href:"cgi-bin/cgi_stream.cgi?streamid=8",download:"AP\u5907\u6ce8\u540d\u79f0\u6587\u4ef6"},d.a.createElement(hn.a,{type:"primary",shape:"circle",icon:"download"})),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("span",{style:{marginRight:30}},"\u4e0a\u4f20\u6587\u4ef6:"),d.a.createElement(Vr.a,Object.assign({},a,{fileList:this.state.fileList}),d.a.createElement(hn.a,{style:{width:237}},d.a.createElement(vn.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20\u6587\u4ef6")),""==this.state.fileList?null:d.a.createElement(hn.a,{type:"primary",style:{marginLeft:90,marginTop:20,width:120},onClick:function(){return Vn("\u4e0a\u4f20\u6587\u4ef6",e.handleUploadAp)}},"\u4e0a\u4f20")),d.a.createElement(R.a,{title:"\u91cd\u542f\u4e2d",closable:!1,footer:null,visible:this.state.rstartVisible},d.a.createElement("p",null,"\u8bbe\u5907\u6b63\u5728\u91cd\u542f\uff0c\u8bf7\u4e0d\u8981\u65ad\u7535\uff0c\u8fd8\u6709",this.state.secondsToGo,"\u79d2\u91cd\u542f\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10}))))}}]),t}(d.a.Component),bi=fn.a.create()(fi),_i=ol.a.TabPane,Ei=Jr.a.Group,vi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={appfilter:!1,appfilter_src:!1,apptype:[{typeid:"1",config_name:"app_config_1000",apptype_en:"COMMONLY USED WEB SITE",apptype_cn:"\u5e38\u7528\u7f51\u7ad9",apptype_ct:"\u5e38\u7528\u7db2\u7ad9"},{typeid:"1",config_name:"app_config_2000",apptype_en:"COMMUNITY",apptype_cn:"\u793e\u4ea4\u901a\u8baf",apptype_ct:"\u793e\u4ea4\u901a\u8a0a"},{typeid:"1",config_name:"app_config_3000",apptype_en:"NETWORK GAME",apptype_cn:"\u7f51\u7edc\u6e38\u620f",apptype_ct:"\u7db2\u8def\u904a\u6232"},{typeid:"1",config_name:"app_config_5000",apptype_en:"VIDEO AND NEWS",apptype_cn:"\u89c6\u9891\u65b0\u95fb",apptype_ct:"\u8996\u983b\u65b0\u805e"}],applist:[],checkedList:[],indeterminate:!1,checkAll:!1,plainOptions:[],allListValue:[]},a.get_app_breaf_config=function(){var e="",t=[],n=Object(m.a)({},Ve);kn.ajax_post({data:n}).then(function(n){2e3==n.restcode&&(n.result.apptype!=[]?(e=n.result.apptype[0].config_name,n.result.apptype.forEach(function(e,a){1==e.typeid&&(e.key=a,t.push(e))}),a.setState({config_name:e,appfilter:n.result.appfilter,appfilter_src:n.result.appfilter,apptype:t})):a.setState({appfilter:n.result.appfilter,apptype:n.result.apptype}))}).then(function(t){a.get_app_detail_config_by_name(e)})},a.get_app_detail_config_by_name=function(e){var t=Object(m.a)({},Fe,{config_name:e});kn.ajax_post({data:t}).then(function(e){if(2e3==e.restcode){var t,n,r=[],l=[],i=[];e.result.applist.forEach(function(e,t){r.push({label:e.appname_cn,value:e.appid}),l.push(e.appid),1==e.app_switch&&i.push(e.appid)}),n=0==i.length?t=!1:i.length==l.length?!(t=!0):!(t=!1),a.setState({applist:e.result.applist,plainOptions:r,allListValue:l,checkedList:i,checkAll:t,indeterminate:n})}})},a.handleSendData=function(e){var t=a.state.applist,n=[];t.forEach(function(t,a){-1!=e.indexOf(t.appid)?t.app_switch=!0:t.app_switch=!1,n.push(t)});var r=Object(m.a)({},Ue,{appfilter:a.state.appfilter,applist:n});kn.ajax_post({data:r}).then(function(e){2e3==e.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f"),a.setState({appfilter_src:!0}))}).then(function(e){a.get_app_detail_config_by_name(a.state.config_name)})},a.handleSwitchChange=function(e){if(0==e&&0!=a.state.appfilter_src){var t=Object(m.a)({},Ue,{appfilter:!1,applist:a.state.applist});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&(zt.a.success("\u8bbe\u7f6e\u6210\u529f"),a.setState({appfilter_src:!1}))})}a.setState({appfilter:e})},a.renderAppType=function(e){var t=a.state,n=t.plainOptions,r=t.allListValue,l=t.checkedList,i=t.checkAll,s=t.indeterminate;return e==[]?d.a.createElement("p",null,"\u6570\u636e\u8dd1\u4e22\u4e86..."):e.map(function(e,t){if(1==e.typeid)return d.a.createElement(_i,{tab:e.apptype_cn,key:t},d.a.createElement(yi,{plainOptions:n,checkedList:l,allListValue:r,checkAll:i,indeterminate:s,handleSendData:a.handleSendData}))})},a.callback=function(e){var t=Object(Cn.a)(Object(Cn.a)(a)),n=a.state.apptype[e].config_name;a.setState({checkedList:[],config_name:n},function(){t.get_app_detail_config_by_name(n)})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.get_app_breaf_config()}},{key:"render",value:function(){return d.a.createElement(or.a,{title:"\u5e94\u7528\u8fc7\u6ee4"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5e94\u7528\u8fc7\u6ee4"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.appfilter,onChange:this.handleSwitchChange})),0==this.state.appfilter?null:d.a.createElement(ol.a,{type:"card",onChange:this.callback,animated:!1,defaultActiveKey:"0"},this.renderAppType(this.state.apptype)))}}]),t}(d.a.Component),yi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={checkedList:a.props.checkedList,indeterminate:a.props.indeterminate,checkAll:a.props.checkAll,plainOptions:a.props.plainOptions,allListValue:a.props.allListValue},a.onChange=function(e){var t=a.state.plainOptions;a.setState({checkedList:e,indeterminate:!!e.length&&e.length<t.length,checkAll:e.length===t.length})},a.onCheckAllChange=function(e){var t=a.state.allListValue;a.setState({checkedList:e.target.checked?t:[],indeterminate:!1,checkAll:e.target.checked})},a.handleApply=function(){a.props.handleSendData(a.state.checkedList)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props!=e&&this.setState({checkedList:e.checkedList,plainOptions:e.plainOptions,allListValue:e.allListValue,indeterminate:e.indeterminate,checkAll:e.checkAll})}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement(Jr.a,{indeterminate:this.state.indeterminate,onChange:this.onCheckAllChange,checked:this.state.checkAll},"\u5168\u9009")),d.a.createElement("br",null),d.a.createElement(Ei,{options:this.state.plainOptions,value:this.state.checkedList,onChange:this.onChange}),d.a.createElement(hn.a,{type:"primary",style:{display:"block",marginTop:20},onClick:this.handleApply},"\u5e94\u7528"))}}]),t}(d.a.Component),wi=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={arpList:[]},a.getArpListmsg=function(){var e=[],t=Object(m.a)({},se);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(e=t.result.arp_list.map(function(e,t){return e.key=t,e}),a.setState({arpList:e}))})},a.onRowClick=function(e){a.setState({visible2:!1});var t=e.mac.toUpperCase();a.props.selectIpMac(e.ip,t)},a.handleScanArpList=function(){a.getArpListmsg(),a.setState({visible2:!0})},a.hideModal2=function(){a.setState({visible2:!1,visible1:!0})},a.arpcolumns=[{title:"IP\u5730\u5740",dataIndex:"ip"},{title:"MAC\u5730\u5740",dataIndex:"mac"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{onClick:this.handleScanArpList},"\u626b\u63cf"),d.a.createElement(R.a,{title:"ARP\u5217\u8868",visible:this.state.visible2,maskClosable:!1,onCancel:this.hideModal2,destroyOnClose:!0,footer:d.a.createElement(hn.a,{onClick:this.hideModal2},"\u5173\u95ed")},d.a.createElement(lr.a,{bordered:!0,columns:this.arpcolumns,dataSource:this.state.arpList,pagination:!1,onRowClick:this.onRowClick})))}}]),t}(d.a.Component),Ci=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={columns:a.props.columns,dataSource:a.props.dataSource,selectedRowKeys:[]},a.handleDeleteSelectList=function(){var e=a.state.dataSource;R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){var t=a.state.selectedRowKeys;e.map(function(e,t){return e.key=t,e}),t.forEach(function(t,a){e=e.filter(function(e){return e.key!==t})}),a.setState({selectedRowKeys:[]}),a.props.handleDeleteSelectList(e)},onCancel:function(){}})},a.onSelectChange=function(e){a.setState({selectedRowKeys:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({columns:e.columns,dataSource:e.dataSource})}},{key:"render",value:function(){var e=this,t=this.state,a=t.columns,n=t.dataSource,r=t.selectedRowKeys,l={selectedRowKeys:r,onChange:this.onSelectChange},i=0!==n.length&&0<r.length;return d.a.createElement("div",null,d.a.createElement(lr.a,{bordered:!0,columns:a,dataSource:n,rowSelection:l,pagination:!1,fixed:!1,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{style:{marginRight:20},onClick:e.props.handleAddListItem},"\u589e\u52a0\u6761\u76ee"),d.a.createElement(hn.a,{type:"danger",onClick:e.handleDeleteSelectList,disabled:!i},"\u5220\u9664\u6240\u9009"))}}))}}]),t}(d.a.Component),Si=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={mac_filter:!1,macfilter_list:[]},a.getMacFilterConfig=function(){var e=[],t=Object(m.a)({},at);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(t.result.macfilter_list&&(e=t.result.macfilter_list.map(function(e,t){return e.key=t,e})),a.setState({mac_filter:t.result.mac_filter,macfilter_list:e}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleSwitchChange=function(e){a.setState({mac_filter:e}),a.handleSendData(e,a.state.macfilter_list)},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({macfilter_list:e}),a.handleSendData(a.state.mac_filter,e),a.getMacFilterConfig()},a.addListItem=function(){var e={},t=!1,n=a.state.macfilter_list;if(a.addItemForm.props.form.validateFields(function(a,n){t=!!a||(e=n,!1)}),t)return!1;if(10<=n)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(n.length<1||n.every(function(t){return t.mac_addr==e.mac_addr&&R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"MAC \uff1a".concat(e.mac_addr,"\u5df2\u7ecf\u5b58\u5728!")}),t.mac_addr!=e.mac_addr})){var r={mac_addr:e.mac_addr.toUpperCase(),desc:e.desc};n.push(r),a.setState({visible1:!1,macfilter_list:n}),a.handleSendData(a.state.mac_filter,n)}},a.handleSendData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.state.mac_filter,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.state.macfilter_list,n=Object(m.a)({},nt,{mac_filter:e,macfilter_list:t});kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.columns=[{title:"Mac\u5730\u5740",dataIndex:"mac_addr"},{title:"\u63cf\u8ff0",dataIndex:"desc"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getMacFilterConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"MAC\u8fc7\u6ee4"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"MAC\u8fc7\u6ee4\u8bbe\u7f6e"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.mac_filter,onChange:this.handleSwitchChange})),0==this.state.mac_filter?null:d.a.createElement("div",null,d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.macfilter_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(Oi,{hideModal1:this.hideModal1,wrappedComponentRef:function(t){e.addItemForm=t}}))))}}]),t}(d.a.Component),Oi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={mac_addr:""},a.selectIpMac=function(e,t){a.setState({mac_addr:t})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"MAC\u5730\u5740"}),e("mac_addr",{rules:[{required:!0,message:"MAC\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([0-9a-fA-F]{2})(([/s:][0-9a-fA-F]{2}){5})$"),message:"MAC\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.mac_addr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63cf\u8ff0"}),e("desc",{rules:[{}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(wi,{hideModal1:this.props.hideModal1,selectIpMac:this.selectIpMac})))}}]),t}(d.a.Component);Oi=fn.a.create({})(Oi);var ji=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={url_filter:!1,urlfilter_list:[]},a.getUrlFilterConfig=function(){var e=[],t=Object(m.a)({},rt);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(t.result.urlfilter_list&&(e=t.result.urlfilter_list.map(function(e,t){return e.key=t,e})),a.setState({url_filter:t.result.url_filter,urlfilter_list:e}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleSwitchChange=function(e){a.setState({url_filter:e}),a.handleSendData(e,a.state.urlfilter_list)},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({urlfilter_list:e}),a.handleSendData(a.state.url_filter,e),a.getUrlFilterConfig()},a.addListItem=function(){var e={},t=!1,n=a.state.urlfilter_list;if(a.addItemForm.props.form.validateFields(function(a,n){t=!!a||(e=n,!1)}),t)return!1;if(10<=n)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(n.length<1||n.every(function(t){return t.url==e.url&&R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"URL \uff1a".concat(e.url,"\u5df2\u7ecf\u5b58\u5728!")}),t.url!=e.url})){var r=e;n.push(r),a.setState({visible1:!1,urlfilter_list:n}),a.handleSendData(a.state.url_filter,n)}},a.handleSendData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.state.url_filter,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.state.urlfilter_list,n=Object(m.a)({},lt,{url_filter:e,urlfilter_list:t});kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.columns=[{title:"URL",dataIndex:"url"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getUrlFilterConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"URL\u8fc7\u6ee4"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"URL\u8fc7\u6ee4\u8bbe\u7f6e"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.url_filter,onChange:this.handleSwitchChange})),0==this.state.url_filter?null:d.a.createElement("div",null,d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.urlfilter_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,maskClosable:!1,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(ki,{hideModal1:this.hideModal1,wrappedComponentRef:function(t){e.addItemForm=t}}))))}}]),t}(d.a.Component),ki=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{label:"URL"}),e("url",{rules:[{required:!0,message:"URL\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^[A-Za-z0-9]{2,}$"),message:"URL\u81f3\u5c11\u4e3a2\u4e2a\u5b57\u7b26\u4e14\u53ea\u80fd\u4e3a\u6570\u5b57\u3001\u5b57\u6bcd\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))))}}]),t}(d.a.Component);ki=fn.a.create({})(ki);var Ii=Cr.a.Option,Ai=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={ip_port_filter:!1,ipportfilter_list:[]},a.getIpPortFilterConfig=function(){var e=[],t=Object(m.a)({},it);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(t.result.ipportfilter_list&&(e=t.result.ipportfilter_list.map(function(e,t){return e.key=t,e})),a.setState({ip_port_filter:t.result.ip_port_filter,ipportfilter_list:e}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleSwitchChange=function(e){a.setState({ip_port_filter:e}),a.handleSendData(e,a.state.ipportfilter_list)},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({ipportfilter_list:e}),a.handleSendData(a.state.ip_port_filter,e),a.getIpPortFilterConfig()},a.addListItem=function(){var e={},t=!1,n=a.state.ipportfilter_list;if(a.addItemForm.props.form.validateFields(function(a,n){t=!!a||(e=n,!1)}),t)return!1;if(parseInt(e.port_end)<parseInt(e.port_start))return zt.a.error("\u8d77\u59cb\u7aef\u53e3\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u7aef\u53e3"),!1;if(10<=n)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(n.length<1||n.every(function(t){return t.src_ip!==e.src_ip||(a=[{port_start:t.port_start,port_end:t.port_end}],n=e.port_start,r=e.port_end,n=Number(n),(r=Number(r))<n?(zt.a.error("\u8d77\u59cb\u7aef\u53e3\u4e0d\u80fd\u5927\u4e8e\u7ed3\u675f\u7aef\u53e3"),!1):""===a||0===a.length||a.every(function(e){var t=Number(e.port_start),a=Number(e.port_end);return!(t<=n&&n<=a||t<=r&&r<=a||n<=t&&a<=r)||(zt.a.error("\u5df2\u5b58\u5728\u7aef\u53e3\u6bb5".concat(t,"-").concat(a,"\uff01")),!1)}));var a,n,r})){var r=e;n.push(r),a.setState({visible1:!1,ipportfilter_list:n}),a.handleSendData(a.state.ip_port_filter,n)}},a.handleSendData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.state.ip_port_filter,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.state.ipportfilter_list,n=Object(m.a)({},st,{ip_port_filter:e,ipportfilter_list:t});kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.columns=[{title:"IP\u5730\u5740",dataIndex:"src_ip"},{title:"\u534f\u8bae",dataIndex:"proto",render:function(e,t){switch(e){case 0:return d.a.createElement("span",null,"TCP+UDP");case 1:return d.a.createElement("span",null,"TCP");case 2:return d.a.createElement("span",null,"UDP");default:return d.a.createElement("span",null,"TCP+UDP")}}},{title:"\u8d77\u59cb\u7aef\u53e3",dataIndex:"port_start"},{title:"\u7ed3\u675f\u7aef\u53e3",dataIndex:"port_end"},{title:"\u63cf\u8ff0",dataIndex:"desc"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getIpPortFilterConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"IP/\u7aef\u53e3\u8fc7\u6ee4"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"IP/\u7aef\u53e3\u8fc7\u6ee4\u8bbe\u7f6e"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.ip_port_filter,onChange:this.handleSwitchChange})),0==this.state.ip_port_filter?null:d.a.createElement("div",null,d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.ipportfilter_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(xi,{hideModal1:this.hideModal1,wrappedComponentRef:function(t){e.addItemForm=t}}))))}}]),t}(d.a.Component),xi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={src_ip:""},a.selectIpMac=function(e,t){a.setState({src_ip:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"IP\u5730\u5740"}),e("src_ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.src_ip})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u534f\u8bae"}),e("proto",{initialValue:0})(d.a.createElement(Cr.a,null,d.a.createElement(Ii,{value:0},"TCP+UDP"),d.a.createElement(Ii,{value:1},"TCP"),d.a.createElement(Ii,{value:2},"UDP")))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8d77\u59cb\u7aef\u53e3"}),e("port_start",{rules:[{required:!0,message:"\u8d77\u59cb\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-65535\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u7ed3\u675f\u7aef\u53e3"}),e("port_end",{rules:[{required:!0,message:"\u7ed3\u675f\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-65535\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63cf\u8ff0"}),e("desc",{initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(wi,{hideModal1:this.props.hideModal1,selectIpMac:this.selectIpMac})))}}]),t}(d.a.Component);xi=fn.a.create({})(xi);var Di=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={conn_limit:!1,conn_limit_list:[]},a.getIpPortFilterConfig=function(){var e=[],t=Object(m.a)({},jt);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(t.result.conn_limit_list&&(e=t.result.conn_limit_list.map(function(e,t){return e.key=t,e})),a.setState({conn_limit:t.result.conn_limit,conn_limit_list:e}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleSwitchChange=function(e){a.setState({conn_limit:e}),a.handleSendData(e,a.state.conn_limit_list)},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({conn_limit_list:e}),a.handleSendData(a.state.conn_limit,e),a.getIpPortFilterConfig()},a.addListItem=function(){a.addItemForm.props.form.validateFields(function(e,t){if(!e){var n=a.state.conn_limit_list;if(10<=n.length)return zt.a.error("\u589e\u52a0\u6761\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;var r=t;if(!Tn(n,t.start_ip,t.end_ip))return!1;n.push(r),a.setState({visible1:!1,conn_limit_list:n}),a.handleSendData(a.state.conn_limit,n)}})},a.handleSendData=function(e,t){var a=Object(m.a)({},kt,{conn_limit:e,conn_limit_list:t});kn.ajax_post({data:a}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.columns=[{title:"\u8fde\u63a5\u6570",dataIndex:"connlimit_num"},{title:"\u8d77\u59cbIP",dataIndex:"start_ip"},{title:"\u7ed3\u675fIP",dataIndex:"end_ip"},{title:"\u63cf\u8ff0",dataIndex:"desc"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getIpPortFilterConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"\u7ec8\u7aef\u8fde\u63a5\u6570\u63a7\u5236"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u7ec8\u7aef\u8fde\u63a5\u6570\u63a7\u5236"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.conn_limit,onChange:this.handleSwitchChange})),0==this.state.conn_limit?null:d.a.createElement("div",null,d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.conn_limit_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(Mi,{hideModal1:this.hideModal1,wrappedComponentRef:function(t){e.addItemForm=t}}))))}}]),t}(d.a.Component),Mi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8fde\u63a5\u6570"}),e("connlimit_num",{rules:[{pattern:new RegExp("^([1-9]|\\d{2,3}|1000)$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-1000\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8d77\u59cbIP"}),e("start_ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u7ed3\u675fIP"}),e("end_ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63cf\u8ff0"}),e("desc",{initialValue:""})(d.a.createElement(_n.a,null))))}}]),t}(d.a.Component);Mi=fn.a.create({})(Mi);var Li=Cr.a.Option,Ti=Ll.a.Group,Pi=[{title:"\u8d77\u59cbIP\u5730\u5740",dataIndex:"start_ip"},{title:"\u7ed3\u675fIP\u5730\u5740",dataIndex:"end_ip"},{title:"\u4e0a\u884c\u901f\u7387(Mbps)",dataIndex:"up_bw"},{title:"\u4e0b\u884c\u901f\u7387(Mbps)",dataIndex:"down_bw"},{title:"\u63cf\u8ff0",dataIndex:"desc"}],Ri=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[],qos_mode:0,smart_qos_mode:0,smart_qos_priority:"0,3,0,0,4,2",minip:"192.168.7.0",maxip:"192.168.8.255",iplimit:[]},a.getSmartQosConfig=function(){var e=Object(m.a)({},Ge);kn.ajax_post({data:e}).then(function(e){var t=e.result,n=t.qos_mode,r=t.smart_qos_mode,l=t.smart_qos_priority,i=t.minip,s=t.maxip,o=t.iplimit;l||(l="0,3,0,0,4,2"),a.setState({qos_mode:n,smart_qos_mode:r,smart_qos_priority:l,minip:i,maxip:s,iplimit:o})})},a.changeQosMode=function(e){a.setState({qos_mode:e})},a.changeSmartQosMode=function(e){a.setState({smart_qos_mode:e.target.value})},a.renderAdvanceRadio=function(){return d.a.createElement("div",null,d.a.createElement(Ll.a,{value:"0"},"\u6700\u9ad8"),d.a.createElement(Ll.a,{value:"1"},"\u9ad8"),d.a.createElement(Ll.a,{value:"2"},"\u4e2d"),d.a.createElement(Ll.a,{value:"3"},"\u4f4e"),d.a.createElement(Ll.a,{value:"4"},"\u6700\u4f4e"))},a.changePriority=function(e,t,n){var r=e[0].target.value;n[t]=r,a.setState({smart_qos_priority:n.toString()})},a.handleAddRules=function(){a.setState({visible:!0})},a.hideModal=function(){a.setState({visible:!1})},a.handleDeleteSelectList=function(){var e=a.state.iplimit;R.a.confirm({title:"\u786e\u8ba4\u5220\u9664",okText:"\u786e\u5b9a",okType:"danger",cancelText:"\u53d6\u6d88",onOk:function(){var t=a.state.selectedRowKeys;e.map(function(e,t){return e.key=t,e}),t.forEach(function(t,a){e=e.filter(function(e){return e.key!==t})}),a.setState({selectedRowKeys:[],iplimit:e})},onCancel:function(){}})},a.handleAddRulesItem=function(){a.addIpRulesForm.props.form.validateFields(function(e,t){if(!e){var n=a.state.iplimit;if(10<=n.length)return zt.a.error("\u589e\u52a0\u6761\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;var r=t;Pn(a.state.minip,a.state.maxip,t.start_ip,t.end_ip)&&Tn(n,t.start_ip,t.end_ip)&&(n.push(r),a.setState({visible:!1,iplimit:n}))}})},a.handleSendData=function(){var e,t=a.state,n=t.qos_mode,r=t.smart_qos_mode,l=t.smart_qos_priority,i=t.iplimit;e=4==r?Object(m.a)({},We,{qos_mode:n,smart_qos_mode:r,smart_qos_priority:l,iplimit:i}):Object(m.a)({},We,{qos_mode:n,smart_qos_mode:r,iplimit:i}),kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f")}).then(function(e){a.getSmartQosConfig()})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getSmartQosConfig()}},{key:"render",value:function(){var e=this,t=this.state,a=t.qos_mode,n=t.smart_qos_mode,r=t.smart_qos_priority,l=(t.minip,t.maxip,t.iplimit),i=r.split(","),s=this.state.selectedRowKeys,o={selectedRowKeys:s,onChange:function(t){e.setState({selectedRowKeys:t})}},c=0!=l.length&&0<s.length;return d.a.createElement(or.a,{title:"QOS\u8bbe\u7f6e"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"QOS\u6a21\u5f0f"}),d.a.createElement(Cr.a,{value:a,style:{width:120},onChange:this.changeQosMode},d.a.createElement(Li,{value:0},"\u5173\u95ed"),d.a.createElement(Li,{value:1},"\u667a\u80fd\u6d41\u63a7"))),0==a?d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSendData},"\u5e94\u7528")):null,1==a?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u667a\u80fd\u6d41\u63a7"}),d.a.createElement(Ti,{onChange:this.changeSmartQosMode,value:n},d.a.createElement(Ll.a,{value:0},"\u9ed8\u8ba4\u6a21\u5f0f"),d.a.createElement(Ll.a,{value:1},"\u529e\u516c\u6a21\u5f0f"),d.a.createElement(Ll.a,{value:2},"\u6e38\u620f\u6a21\u5f0f"),d.a.createElement(Ll.a,{value:3},"\u4e0b\u8f7d\u6a21\u5f0f"),d.a.createElement(Ll.a,{value:4},"\u9ad8\u7ea7\u6a21\u5f0f"))),4==n?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"HTTP\u4e0a\u7f51"}),d.a.createElement(Ti,{onChange:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.changePriority(a,0,i)},value:i[0]},this.renderAdvanceRadio())),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"HTTP\u4e0b\u8f7d"}),d.a.createElement(Ti,{onChange:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.changePriority(a,1,i)},value:i[1]},this.renderAdvanceRadio())),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"HTTPS\u4e0a\u7f51"}),d.a.createElement(Ti,{onChange:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.changePriority(a,2,i)},value:i[2]},this.renderAdvanceRadio())),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5c0f\u5305"}),d.a.createElement(Ti,{onChange:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.changePriority(a,3,i)},value:i[3]},this.renderAdvanceRadio())),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"P2P\u4e0b\u8f7d"}),d.a.createElement(Ti,{onChange:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.changePriority(a,4,i)},value:i[4]},this.renderAdvanceRadio())),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5176\u5b83"}),d.a.createElement(Ti,{onChange:function(){for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return e.changePriority(a,5,i)},value:i[5]},this.renderAdvanceRadio()))):null,d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSendData},"\u5e94\u7528"))):null,2==a?d.a.createElement("div",null,d.a.createElement(lr.a,{bordered:!0,columns:Pi,dataSource:l,rowSelection:o,pagination:!1,fixed:!1,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{style:{marginRight:20},onClick:e.handleAddRules},"\u589e\u52a0\u6761\u76ee"),d.a.createElement(hn.a,{type:"danger",style:{marginRight:20},onClick:e.handleDeleteSelectList,disabled:!c},"\u5220\u9664\u6240\u9009"),d.a.createElement(hn.a,{type:"primary",onClick:e.handleSendData},"\u5e94\u7528"))}}),d.a.createElement(R.a,{title:"\u589e\u52a0\u6761\u76ee",visible:this.state.visible,onOk:this.handleAddRulesItem,onCancel:this.hideModal,maskClosable:!1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(Ni,{wrappedComponentRef:function(t){e.addIpRulesForm=t}}))):null)}}]),t}(d.a.Component),Ni=function(e){function t(){return Object(h.a)(this,t),Object(f.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8d77\u59cbIP\u5730\u5740"}),e("start_ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u7ed3\u675fIP\u5730\u5740"}),e("end_ip",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u4e0a\u884c\u901f\u7387(Mbps)"}),e("up_bw",{rules:[{required:!0,message:"\u4e0a\u884c\u901f\u7387\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,3}|1000)$"),message:"\u4e0a\u884c\u901f\u7387\u53ea\u80fd\u4e3a1-1000\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u4e0b\u884c\u901f\u7387(Mbps)"}),e("down_bw",{rules:[{required:!0,message:"\u4e0b\u884c\u901f\u7387\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,3}|1000)$"),message:"\u4e0b\u884c\u901f\u7387\u53ea\u80fd\u4e3a1-1000\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63cf\u8ff0"}),e("desc",{rules:[{pattern:new RegExp("^.{0,32}$"),message:"\u8bf7\u8f93\u5165\u4e0d\u8d85\u8fc732\u4f4d\u7684\u5b57\u7b26\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))))}}]),t}(d.a.Component);Ni=fn.a.create({})(Ni),a(205);var Vi=a(132),Fi=a.n(Vi),Ui=_n.a.TextArea,Gi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={stopping:!1,action_result:""},a.getResultStatus=function(){var e=Object(m.a)({},$e);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&(1==e.result.ping_detct?(clearInterval(a.timeInterval),a.setState({stopping:!0,action_result:e.result.action_result}),a.timeInterval=setInterval(function(){a.getResultStatus(),a.setState({action_result:e.result.action_result})},5e3)):2!=e.result.ping_detct&&0!=e.result.ping_detct||(clearInterval(a.timeInterval),a.setState({action_result:e.result.action_result,stopping:!1})))})},a.handleStartPing=function(){a.props.form.validateFields(function(e,t){if(!e){a.setState({stopping:!0,action_result:""});var n=Object(m.a)({},Be,t);kn.ajax_post({data:n}).then(function(e){e.restcode}).then(function(e){setTimeout(function(){a.getResultStatus()},5e3)})}})},a.handleStopPing=function(){a.setState({stopping:!1});var e=Object(m.a)({},Ke);kn.ajax_post({data:e}).then(function(e){e.restcode})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getResultStatus()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.stopping;return d.a.createElement(or.a,{title:"ping\u6d4b\u8bd5"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"IP\u5730\u5740\u6216\u57df\u540d"}),e("dest_host",{rules:[{required:!0,message:"IP\u5730\u5740\u6216\u57df\u540d\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^.{0,64}$"),message:"\u5355\u4e2a\u57df\u540d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc764\u4e2a\u5b57\u7b26\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6307\u5b9a\u6e90\u5730\u5740Ping"}),e("start_host",{rules:[{pattern:new RegExp("^.{0,64}$"),message:"\u5355\u4e2a\u57df\u540d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc764\u4e2a\u5b57\u7b26\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"Ping\u5305\u6b21\u6570"}),e("ping_counter",{rules:[{required:!0,message:"Ping\u5305\u6b21\u6570\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d\\d|100)$"),message:"Ping\u5305\u6b21\u6570\u53ea\u80fd\u4e3a1-100\uff01"}],initialValue:"10"})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Or,0==t?d.a.createElement(hn.a,{type:"primary",onClick:this.handleStartPing},"\u5f00\u59cb\u68c0\u6d4b"):d.a.createElement("div",null,d.a.createElement(hn.a,{type:"primary",style:{backgroundColor:"red",borderColor:"red",color:"#fff",marginRight:20},onClick:this.handleStopPing},"\u505c\u6b62\u68c0\u6d4b"),d.a.createElement(Fi.a,null))),d.a.createElement(Hn.a,{span:5}),d.a.createElement(Hn.a,{span:14},d.a.createElement(Ui,{placeholder:"\u672c\u6587\u672c\u6846\u663e\u793aping\u68c0\u6d4b\u7ed3\u679c\uff01",value:this.state.action_result,autosize:{minRows:12,maxRows:22}})),d.a.createElement(Hn.a,{span:5})))}}]),t}(d.a.Component),Wi=fn.a.create()(Gi),qi=_n.a.TextArea,zi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={stopping:!1,action_result:""},a.getResultStatus=function(){var e=Object(m.a)({},He);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&(1==e.result.tracert_detect?(clearInterval(a.timeInterval),a.setState({stopping:!0,action_result:e.result.action_result}),a.timeInterval=setInterval(function(){a.getResultStatus(),a.setState({action_result:e.result.action_result})},5e3)):2!=e.result.tracert_detect&&0!=e.result.tracert_detect||(clearInterval(a.timeInterval),a.setState({action_result:e.result.action_result,stopping:!1})))})},a.handleStartTracert=function(){a.props.form.validateFields(function(e,t){if(!e){a.setState({stopping:!0,action_result:""});var n=Object(m.a)({},Je,t);kn.ajax_post({data:n}).then(function(e){e.restcode}).then(function(e){setTimeout(function(){a.getResultStatus()},5e3)})}})},a.handleStopTracert=function(){a.setState({stopping:!1});var e=Object(m.a)({},Ye);kn.ajax_post({data:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getResultStatus()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.stopping;return d.a.createElement(or.a,{title:"\u8def\u7531\u8ddf\u8e2a"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"IP\u5730\u5740\u6216\u57df\u540d"}),e("dest_host",{rules:[{required:!0,message:"IP\u5730\u5740\u6216\u57df\u540d\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^.{0,64}$"),message:"\u5355\u4e2a\u57df\u540d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc764\u4e2a\u5b57\u7b26\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6700\u5927\u8def\u7531\u8df3\u6570"}),e("max_hops",{rules:[{required:!0,message:"\u6700\u5927\u8def\u7531\u8df3\u6570\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|[1]\\d|20)$"),message:"\u6700\u5927\u8def\u7531\u8df3\u6570\u53ea\u80fd\u4e3a1-20\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u8d85\u65f6\u7b49\u5f85\u65f6\u95f4"}),e("time_out",{rules:[{required:!0,message:"\u8d85\u65f6\u7b49\u5f85\u65f6\u95f4\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|10)$"),message:"\u8d85\u65f6\u7b49\u5f85\u65f6\u95f4\u53ea\u80fd\u4e3a\uff1a1\u201310\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Or,0==t?d.a.createElement(hn.a,{type:"primary",onClick:this.handleStartTracert},"\u5f00\u59cb\u68c0\u6d4b"):d.a.createElement("div",null,d.a.createElement(hn.a,{type:"primary",style:{backgroundColor:"red",borderColor:"red",color:"#fff",marginRight:20},onClick:this.handleStopTracert},"\u505c\u6b62\u68c0\u6d4b"),d.a.createElement(Fi.a,null))),d.a.createElement(Hn.a,{span:5}),d.a.createElement(Hn.a,{span:14},d.a.createElement(qi,{placeholder:"\u672c\u6587\u672c\u6846\u663e\u793a\u8def\u7531\u8ddf\u8e2a\u7ed3\u679c\uff01",value:this.state.action_result,autosize:{minRows:12,maxRows:22}})),d.a.createElement(Hn.a,{span:5})))}}]),t}(d.a.Component),$i=fn.a.create()(zi),Bi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={stopping:!1,action_result:[]},a.getResultStatus=function(){var e=Object(m.a)({},Qe);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){var t=[];1==e.result.ping_detct?(clearInterval(a.timeInterval),t=e.result.action_result.map(function(e,t){return e.key=t+1,e}),a.setState({stopping:!0,action_result:t}),a.timeInterval=setInterval(function(){a.getResultStatus(),t=e.result.action_result.map(function(e,t){return e.key=t+1,e}),a.setState({action_result:t})},5e3)):2!=e.result.ping_detct&&0!=e.result.ping_detct||(clearInterval(a.timeInterval),0<e.result.action_result.length?t=e.result.action_result.map(function(e,t){return e.key=t+1,e}):2==e.result.ping_detct&&zt.a.success("\u6ca1\u6709\u68c0\u6d4b\u5230DHCP"),a.setState({action_result:t,stopping:!1}))}})},a.handleStartDhcpTest=function(){a.setState({stopping:!0,action_result:[]});var e=Object(m.a)({},Ze);kn.ajax_post({data:e}).then(function(e){setTimeout(function(){a.getResultStatus()},5e3)})},a.handleStopDhcpTest=function(){a.setState({stopping:!1});var e=Object(m.a)({},Xe);kn.ajax_post({data:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getResultStatus()}},{key:"render",value:function(){var e=this.state.stopping;return d.a.createElement(or.a,{title:"DHCP\u68c0\u6d4b"},0==e?d.a.createElement(hn.a,{style:{marginBottom:20},type:"primary",onClick:this.handleStartDhcpTest},"\u5f00\u59cb\u68c0\u6d4b"):d.a.createElement("div",null,d.a.createElement(hn.a,{type:"primary",style:{marginBottom:20,backgroundColor:"red",borderColor:"red",color:"#fff",marginRight:20},onClick:this.handleStopDhcpTest},"\u505c\u6b62\u68c0\u6d4b"),d.a.createElement(Fi.a,null)),d.a.createElement(lr.a,{columns:[{title:"\u7f16\u53f7",dataIndex:"key"},{title:"DHCP\u670d\u52a1\u5668IP\u5730\u5740",dataIndex:"ip"},{title:"Mac",dataIndex:"mac"}],dataSource:this.state.action_result,pagination:!1}))}}]),t}(d.a.Component),Ki=Cr.a.Option,Hi=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={port_forward:!1,port_forward_list:[],multiwan_list:[]},a.getPortForwardConfig=function(){var e=[],t=Object(m.a)({},dt);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(t.result.port_forward_list&&(e=t.result.port_forward_list.map(function(e,t){return e.key=t,e})),a.setState({port_forward:t.result.port_forward,port_forward_list:e,multiwan_list:t.result.multiwan_list}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleSwitchChange=function(e){a.setState({port_forward:e}),a.handleSendData(e,a.state.port_forward_list)},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({port_forward_list:e}),a.handleSendData(a.state.port_forward,e),a.getPortForwardConfig()},a.addListItem=function(){var e=!1,t={},n=!1,r=a.state.port_forward_list;if(a.addItemForm.props.form.validateFields(function(e,a){n=!!e||(t=a,!1)}),n)return!1;if(10<=r)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(r.length<1)e=!0;else{var l=!0;e=r.every(function(e){return e.ip_addr==t.ip_addr?e.internal_port===t.internal_port&&(R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"\u7aef\u53e3 \uff1a".concat(t.ip_addr,"\u7684\u5185\u90e8\u7aef\u53e3").concat(t.internal_port,"\u5df2\u7ecf\u5b58\u5728!")}),l=!1):e.external_port===t.external_port&&(R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"\u7aef\u53e3 \uff1a\u5916\u90e8\u7aef\u53e3".concat(t.external_port,"\u5df2\u7ecf\u5b58\u5728!")}),l=!1),l})}if(e){var i=t;r.push(i),a.setState({visible1:!1,port_forward_list:r}),a.handleSendData(a.state.port_forward,r)}},a.handleSendData=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.state.port_forward,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:a.state.port_forward_list,n=Object(m.a)({},ut,{port_forward:e,port_forward_list:t});kn.ajax_post({data:n}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.columns=[{title:"\u63a5\u53e3",dataIndex:"wanid",render:function(e,t){switch(e){case 0:return d.a.createElement("span",null,"WANALL");case 1:return d.a.createElement("span",null,"WAN1");case 2:return d.a.createElement("span",null,"WAN2");case 3:return d.a.createElement("span",null,"WAN3");case 4:return d.a.createElement("span",null,"WAN4");default:return d.a.createElement("span",null,"WAN1")}}},{title:"IP\u5730\u5740",dataIndex:"ip_addr"},{title:"\u534f\u8bae",dataIndex:"proto",render:function(e,t){switch(e){case 0:return d.a.createElement("span",null,"TCP+UDP");case 1:return d.a.createElement("span",null,"TCP");case 2:return d.a.createElement("span",null,"UDP");default:return d.a.createElement("span",null,"TCP+UDP")}}},{title:"\u5185\u90e8\u7aef\u53e3",dataIndex:"internal_port"},{title:"\u5916\u90e8\u7aef\u53e3",dataIndex:"external_port"},{title:"\u63cf\u8ff0",dataIndex:"desc"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getPortForwardConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"\u7aef\u53e3\u6620\u5c04"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u7aef\u53e3\u6620\u5c04"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.port_forward,onChange:this.handleSwitchChange})),0==this.state.port_forward?null:d.a.createElement("div",null,d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.port_forward_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(Ji,{hideModal1:this.hideModal1,multiwan_list:this.state.multiwan_list,wrappedComponentRef:function(t){e.addItemForm=t}}))))}}]),t}(d.a.Component),Ji=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={multiwan_list:a.props.multiwan_list,ip_addr:""},a.selectIpMac=function(e,t){a.setState({ip_addr:e})},a.renderWanList=function(e){return e.map(function(e){return d.a.createElement(Ki,{value:e.wanid},e.interface.toUpperCase())})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({multiwan_list:e.multiwan_list})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u6307\u5b9a\u63a5\u53e3"}),e("wanid",{initialValue:1})(d.a.createElement(Cr.a,null,this.renderWanList(this.state.multiwan_list)))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"IP\u5730\u5740"}),e("ip_addr",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.ip_addr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u534f\u8bae"}),e("proto",{initialValue:0})(d.a.createElement(Cr.a,null,d.a.createElement(Ki,{value:0},"TCP+UDP"),d.a.createElement(Ki,{value:1},"TCP"),d.a.createElement(Ki,{value:2},"UDP")))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u5185\u90e8\u7aef\u53e3"}),e("internal_port",{rules:[{required:!0,message:"\u5185\u90e8\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-65535\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u5916\u90e8\u7aef\u53e3"}),e("external_port",{rules:[{required:!0,message:"\u5916\u90e8\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-65535\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63cf\u8ff0"}),e("desc",{initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(wi,{hideModal1:this.props.hideModal1,selectIpMac:this.selectIpMac})))}}]),t}(d.a.Component);Ji=fn.a.create({})(Ji);var Yi=Cr.a.Option,Qi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={dmz_enable:!1,wanid:1,dest_ip_src:"192.168.7.99",multiwan_list:[],user_ip:"192.168.7.98",dest_ip:""},a.getDmzConfig=function(){var e=Object(m.a)({},ot);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({dmz_enable:e.result.dmz_enable,dmz_enable_src:e.result.dmz_enable,wanid:e.result.wanid,dest_ip_src:e.result.dest_ip,dest_ip:e.result.dest_ip,multiwan_list:e.result.multiwan_list})})},a.getCurrenUserInfo=function(){var e=Object(m.a)({},ee);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({user_ip:e.result.user_ip})})},a.handleSetDmzConfig=function(){a.props.form.validateFields(function(e,t){e||(a.setState({dest_ip:t.dest_ip}),a.setDmzConfig(a.state.dmz_enable,t.wanid,t.dest_ip))})},a.setDmzConfig=function(e,t,n){var r=Object(m.a)({},ct,{dmz_enable:e,wanid:t,dest_ip:n});kn.ajax_post({data:r}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")}).then(function(e){a.getDmzConfig()})},a.renderWanList=function(e){return e.map(function(e){return d.a.createElement(Yi,{value:e.wanid},e.interface.toUpperCase())})},a.changeDestIP=function(e){var t=e.target.checked;a.props.form.resetFields("dest_ip",""),t?a.setState({dest_ip:a.state.user_ip}):a.setState({dest_ip:a.state.dest_ip_src})},a.handleSwitchChange=function(e){a.setState({dmz_enable:e}),1==a.state.dmz_enable_src&&a.setDmzConfig(e,a.state.wanid,a.state.dest_ip)},a.changeMulWan=function(e){a.setState({wanid:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getDmzConfig(),this.getCurrenUserInfo()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(or.a,{title:"DMZ\u8bbe\u7f6e"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DMZ\u8bbe\u7f6e"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.dmz_enable,onChange:this.handleSwitchChange})),0==this.state.dmz_enable?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6307\u5b9a\u63a5\u53e3"}),e("wanid",{initialValue:1})(d.a.createElement(Cr.a,{onChange:this.changeMulWan},this.renderWanList(this.state.multiwan_list)))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4e3b\u673a\u5730\u5740"}),e("dest_ip",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e3b\u673a\u5730\u5740!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u4e3b\u673a\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.dest_ip})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Or,d.a.createElement(Jr.a,{onChange:this.changeDestIP},"\u5f53\u524d\u8fde\u63a5\u7684\u7535\u8111IP\u662f",this.state.user_ip)),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetDmzConfig},"\u5e94\u7528")))))}}]),t}(d.a.Component);Qi=fn.a.create({})(Qi);var Zi=Cr.a.Option,Xi=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={ddns_enable:!1,provider:"",domain_name:"",username:"",password:"",ddns_ip:"",ddns_state:1,ddns_register:""},a.handleSwitchChange=function(e){if(a.setState({ddns_enable:e}),1==a.state.ddns_enable_src){var t=a.state,n={ddns_enable:e,provider:t.provider,domain_name:t.domain_name,username:t.username,password:t.password,ddns_ip:t.ddns_ip,ddns_state:t.ddns_state};a.setDdnsConfig(n)}},a.getDdnsConfig=function(){var e=Object(m.a)({},ht);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){var t=e.result,n=t.ddns_enable,r=t.provider,l=t.domain_name,i=t.username,s=t.password,o=t.ddns_ip,c=t.ddns_state;a.setState({ddns_enable:n,provider:r,domain_name:l,username:i,password:s,ddns_ip:o,ddns_state:c,ddns_enable_src:n})}})},a.setDdnsConfig=function(e){var t=Object(m.a)({},gt,e);kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")}).then(function(e){a.getDdnsConfig()})},a.handleSetDdnsConfig=function(){a.props.form.validateFields(function(e,t){if(!e){a.setState({provider:t.provider,domain_name:t.domain_name,username:t.username,password:t.password});var n=Object(m.a)({},t,{ddns_enable:a.state.ddns_enable});a.setDdnsConfig(n)}})},a.changeProvider=function(e){"3322.org"==e?a.setState({ddns_register:"http://www.pubyun.com/accounts/signup/"}):"oray.com"==e?a.setState({ddns_register:"https://console.oray.com/passport/register.html"}):"dyndns.org"==e?a.setState({ddns_register:"https://dyn.com/dns/"}):"no-ip.com"==e&&a.setState({ddns_register:"https://www.no-ip.com/newUser.php/"})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getDdnsConfig()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(or.a,{title:"DDNS\u8bbe\u7f6e"},d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DDNS\u8bbe\u7f6e"}),d.a.createElement(yr.a,{style:{marginBottom:20},checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.ddns_enable,onChange:this.handleSwitchChange})),0==this.state.ddns_enable?null:d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u670d\u52a1\u5546"}),e("provider",{initialValue:this.state.provider})(d.a.createElement(Cr.a,{onChange:this.changeProvider},d.a.createElement(Zi,{value:"3322.org"},"www.3322.org"),d.a.createElement(Zi,{value:"oray.com"},"www.oray.com"),d.a.createElement(Zi,{value:"dyndns.org"},"dyndns"),d.a.createElement(Zi,{value:"no-ip.com"},"no-ip"))),d.a.createElement("a",{href:this.state.ddns_register,target:"_blank"},"\u53bb\u6ce8\u518c")),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u57df\u540d"}),e("domain_name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u57df\u540d!"},{pattern:new RegExp("^(.{1,50})$"),message:"\u57df\u540d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc750\uff01"}],initialValue:this.state.domain_name})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u7528\u6237\u540d"}),e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"},{pattern:new RegExp("^(.{1,50})$"),message:"\u7528\u6237\u540d\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc750\uff01"}],initialValue:this.state.username})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5bc6\u7801"}),e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"},{pattern:new RegExp("^(.{1,50})$"),message:"\u5bc6\u7801\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc750\uff01"}],initialValue:this.state.password})(d.a.createElement(_n.a.Password,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DDNS\u8fde\u63a5\u72b6\u6001"}),d.a.createElement("span",null,0==this.state.ddns_state?"DDNS\u672a\u8fde\u63a5":1==this.state.ddns_state?"DDNS\u8fde\u63a5\u6210\u529f":"DDNS\u8fde\u63a5\u5931\u8d25")),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"DDNS\u8fde\u63a5\u4fe1\u606f"}),d.a.createElement("span",null,"\u57df\u540d\u7ed1\u5b9a\u7684IP\u662f",""!=this.state.ddns_ip?this.state.ddns_ip:"0.0.0.0")),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleSetDdnsConfig},"\u5e94\u7528")))))}}]),t}(d.a.Component);Xi=fn.a.create({})(Xi);var es=[{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u5185\u7f51\u5730\u5740",dataIndex:"ip"},{title:"\u534f\u8bae",dataIndex:"proto"},{title:"\u5185\u7f51\u7aef\u53e3",dataIndex:"iport"},{title:"\u5916\u7f51\u7aef\u53e3",dataIndex:"eport"}],ts=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={enable_upnp:!1,upnp_list:[]},a.getUpnpdConfig=function(){var e=[],t=Object(m.a)({},pt);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(e=t.result.upnp_list.map(function(e,t){return e.key=t,e}),a.setState({enable_upnp:t.result.enable_upnp,upnp_list:e}))})},a.setUpnpdConfig=function(e){var t=Object(m.a)({},mt,{enable_upnp:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f")})},a.handleSwitchChange=function(e){a.setState({enable_upnp:e}),a.setUpnpdConfig(e)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getUpnpdConfig()}},{key:"render",value:function(){return d.a.createElement(or.a,{title:"UPNP\u8bbe\u7f6e"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"UPNP\u8bbe\u7f6e"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",defaultChecked:!0,checked:this.state.enable_upnp,onChange:this.handleSwitchChange})),0==this.state.enable_upnp?null:d.a.createElement(lr.a,{bordered:!0,columns:es,dataSource:this.state.upnp_list,pagination:!1}))}}]),t}(d.a.Component),as=Cr.a.Option,ns=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={static_router_list:[],interface_list:[{id:0,interface:"lan"},{id:1,interface:"wan1"}]},a.getStaticRouterConfig=function(){var e=[],t=Object(m.a)({},et);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(t.result.static_router_list&&(e=t.result.static_router_list.map(function(e,t){return e.key=t,e})),a.setState({static_router_list:e,interface_list:t.result.interface_list}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({static_router_list:e}),a.handleSendData(e),a.getStaticRouterConfig()},a.handleSendData=function(e){var t=Object(m.a)({},tt,{static_router_list:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.addListItem=function(){var e={},t=!1,n=a.state.static_router_list;if(a.addItemForm.props.form.validateFields(function(a,n){t=!!a||(e=n,!1)}),t)return!1;if(10<=n)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(n.length<1||n.every(function(t){return t.target==e.target&&R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"IP \uff1a".concat(e.target,"\u5df2\u7ecf\u5b58\u5728!")}),t.target!=e.target})){var r=e;n.push(r),a.setState({visible1:!1,static_router_list:n}),a.handleSendData(n)}},a.columns=[{title:"\u63a5\u53e3",dataIndex:"interface",render:function(e){return d.a.createElement("span",null,e.toUpperCase())}},{title:"\u76ee\u7684\u5730\u5740",dataIndex:"target"},{title:"\u5b50\u7f51\u63a9\u7801",dataIndex:"netmask"},{title:"\u7f51\u5173",dataIndex:"gateway"},{title:"\u8def\u7531\u5ea6\u91cf",dataIndex:"metric"},{title:"\u5907\u6ce8",dataIndex:"comment"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getStaticRouterConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"\u9759\u6001\u8def\u7531"},d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.static_router_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(rs,{hideModal1:this.hideModal1,interface_list:this.state.interface_list,wrappedComponentRef:function(t){e.addItemForm=t}})))}}]),t}(d.a.Component),rs=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={interface_list:a.props.interface_list,ip_addr:""},a.selectIpMac=function(e,t){a.setState({ip_addr:e})},a.renderWanList=function(e){return e.map(function(e){return d.a.createElement(as,{value:e.interface},e.interface.toUpperCase())})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({interface_list:e.interface_list})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63a5\u53e3"}),e("interface",{initialValue:this.state.interface_list[0].interface})(d.a.createElement(Cr.a,null,this.renderWanList(this.state.interface_list)))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u76ee\u7684\u5730\u5740"}),e("target",{rules:[{required:!0,message:"\u76ee\u7684\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u76ee\u7684\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.ip_addr})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u7f51\u5173"}),e("gateway",{rules:[{required:!0,message:"\u7f51\u5173\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u7f51\u5173\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u5b50\u7f51\u63a9\u7801"}),e("netmask",{rules:[{required:!0,message:"\u5b50\u7f51\u63a9\u7801\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(254|252|248|240|224|192|128|0)\\.0\\.0\\.0$|^(255\\.(254|252|248|240|224|192|128|0)\\.0\\.0)$|^(255\\.255\\.(254|252|248|240|224|192|128|0)\\.0)$|^(255\\.255\\.255\\.(254|252|248|240|224|192|128|0))$"),message:"\u5b50\u7f51\u63a9\u7801\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8def\u7531\u5ea6\u91cf"}),e("metric",{rules:[{required:!0,message:"\u8def\u7531\u5ea6\u91cf\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([0-9]|\\d\\d|[1]\\d\\d|2[0-4]\\d|25[0-5])$"),message:"\u8def\u7531\u5ea6\u91cf\u53ea\u80fd\u4e3a0-255\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u5907\u6ce8"}),e("comment",{initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(wi,{hideModal1:this.props.hideModal1,selectIpMac:this.selectIpMac})))}}]),t}(d.a.Component);rs=fn.a.create({})(rs);var ls=Cr.a.Option,is=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={wanid:1,multiwan_list:[{wanid:0,interface:"all"},{wanid:1,interface:"wan1"}],policy_router_list:[]},a.getMwan3PolicyConfig=function(){var e=[],t=Object(m.a)({},It);kn.ajax_post({data:t}).then(function(t){if(2e3==t.restcode){var n=1;1==t.result.multiwan_list.some(function(e){return e.wanid==t.result.wanid})&&(n=t.result.wanid),t.result.policy_router_list&&(e=t.result.policy_router_list.map(function(e,t){return e.key=t,e})),a.setState({wanid:n,policy_router_list:e,multiwan_list:t.result.multiwan_list})}})},a.hideModal1=function(){a.setState({visible1:!1})},a.handleAddListItem=function(){a.setState({visible1:!0})},a.handleDeleteSelectList=function(e){a.setState({policy_router_list:e}),a.handleSendData(e),a.getMwan3PolicyConfig()},a.handleSendData=function(e){var t=Object(m.a)({},At,{policy_router_list:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f\uff01")})},a.addListItem=function(){var e={},t=!1,n=a.state.policy_router_list;if(a.addItemForm.props.form.validateFields(function(a,n){t=!!a||(e=n,!1)}),t)return!1;if(parseInt(e.port_end)<parseInt(e.port_start))return zt.a.error("\u8d77\u59cb\u7aef\u53e3\u4e0d\u80fd\u5927\u4e8e\u76ee\u7684\u7aef\u53e3\uff01"),!1;if(10<=n.length)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(n.length<1||n.every(function(t){return t.dest_ip==e.dest_ip&&R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"IP \uff1a".concat(e.dest_ip,"\u5df2\u7ecf\u5b58\u5728!")}),t.dest_ip!=e.dest_ip})){var r=e;n.push(r),a.setState({visible1:!1,policy_router_list:n}),a.handleSendData(n)}},a.columns=[{title:"\u89c4\u5219\u540d\u79f0",dataIndex:"comment"},{title:"\u63a5\u53e3",dataIndex:"wanid",render:function(e){switch(e){case 0:return d.a.createElement("span",null,"ALL");case 1:return d.a.createElement("span",null,"WAN1");case 2:return d.a.createElement("span",null,"WAN2");case 3:return d.a.createElement("span",null,"WAN3");case 4:return d.a.createElement("span",null,"WAN4");default:return d.a.createElement("span",null,"WAN1")}}},{title:"\u534f\u8bae",dataIndex:"proto",render:function(e){return d.a.createElement("span",null,e.toUpperCase())}},{title:"\u8d77\u59cbIP",dataIndex:"src_ip_start"},{title:"\u7ed3\u675fIP",dataIndex:"src_ip_end"},{title:"\u76ee\u7684IP",dataIndex:"dest_ip"},{title:"\u5b50\u7f51\u63a9\u7801",dataIndex:"dest_netmask"},{title:"\u8d77\u59cb\u7aef\u53e3",dataIndex:"port_start"},{title:"\u76ee\u7684\u7aef\u53e3",dataIndex:"port_end"}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getMwan3PolicyConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement(or.a,{title:"\u7b56\u7565\u8def\u7531\u8bbe\u7f6e"},d.a.createElement(Ci,{columns:this.columns,dataSource:this.state.policy_router_list,handleAddListItem:this.handleAddListItem,handleDeleteSelectList:this.handleDeleteSelectList}),d.a.createElement(R.a,{title:"\u6dfb\u52a0\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,maskClosable:!1,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(ss,{wanid:this.state.wanid,hideModal1:this.hideModal1,multiwan_list:this.state.multiwan_list,wrappedComponentRef:function(t){e.addItemForm=t}})))}}]),t}(d.a.Component),ss=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={wanid:a.props.wanid,multiwan_list:a.props.multiwan_list,ip_addr:""},a.selectIpMac=function(e,t){a.setState({ip_addr:e})},a.renderMulitiWan=function(e){return e.map(function(e){return d.a.createElement(ls,{value:e.wanid},e.interface.toUpperCase())})},a.handleChangeWanid=function(e){a.setState({wanid:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({wanid:e.wanid,multiwan_list:e.multiwan_list})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u89c4\u5219\u540d\u79f0"}),e("comment",{rules:[{required:!0,message:"\u89c4\u5219\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a!"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u63a5\u53e3"}),e("wanid",{initialValue:this.state.wanid})(d.a.createElement(Cr.a,{onChange:this.handleChangeWanid},this.renderMulitiWan(this.state.multiwan_list)))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u534f\u8bae"}),e("proto",{initialValue:"all"})(d.a.createElement(Cr.a,null,d.a.createElement(ls,{value:"all"},"TCP+UDP"),d.a.createElement(ls,{value:"tcp"},"TCP"),d.a.createElement(ls,{value:"udp"},"UDP")))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8d77\u59cbIP\u5730\u5740"}),e("src_ip_start",{rules:[{required:!0,message:"\u8d77\u59cbIP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u8d77\u59cbIP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u7ed3\u675fIP\u5730\u5740"}),e("src_ip_end",{rules:[{required:!0,message:"\u7ed3\u675fIP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u7ed3\u675fIP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u76ee\u7684IP\u5730\u5740"}),e("dest_ip",{rules:[{required:!0,message:"\u76ee\u7684IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u76ee\u7684IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u76ee\u7684\u5b50\u7f51\u63a9\u7801"}),e("dest_netmask",{rules:[{required:!0,message:"\u76ee\u7684\u5b50\u7f51\u63a9\u7801\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(254|252|248|240|224|192|128|0)\\.0\\.0\\.0$|^(255\\.(254|252|248|240|224|192|128|0)\\.0\\.0)$|^(255\\.255\\.(254|252|248|240|224|192|128|0)\\.0)$|^(255\\.255\\.255\\.(254|252|248|240|224|192|128|0))$"),message:"\u76ee\u7684\u5b50\u7f51\u63a9\u7801\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u8d77\u59cb\u7aef\u53e3"}),e("port_start",{rules:[{required:!0,message:"\u8d77\u59cb\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-65535\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},t,{label:"\u7ed3\u675f\u7aef\u53e3"}),e("port_end",{rules:[{required:!0,message:"\u8d77\u59cb\u7aef\u53e3\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([1-9]|\\d{2,4}|[1-5]\\d{4}|6[0-5][0-5][0-3][0-5])$"),message:"\u7aef\u53e3\u53ea\u80fd\u4e3a1-65535\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))))}}]),t}(d.a.Component);ss=fn.a.create({})(ss);var os=Ll.a.Group,cs=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={enable:1,orig_url_en:1,timeout:300,title:"",redirect:"https://",image_url:"/portal/bg.png",fileList:[]},a.handleWebEnable=function(e){a.setState({enable:e.target.value})},a.handleRedirectUrl=function(e){a.setState({orig_url_en:e.target.value})},a.getPortalConfig=function(){var e=Object(m.a)({},Mt);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({enable:e.result.enable,orig_url_en:e.result.orig_url_en,timeout:e.result.timeout,title:e.result.title,redirect:e.result.redirect,image_url:e.result.image_url})})},a.setPortalConfig=function(e){var t=Object(m.a)({},Lt,e);kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&zt.a.success("\u8bbe\u7f6e\u6210\u529f")})},a.handleApplyData=function(){a.props.form.validateFields(function(e,t){if(!e){var n=a.state.enable,r=a.state.orig_url_en,l=t.redirect,i={enable:n,orig_url_en:r,redirect:l,title:t.title,timeout:t.timeout};if(1===r&&!1===l)return zt.a.error("\u7f51\u5740\u683c\u5f0f\u4e0d\u6b63\u786e"),!1;a.setPortalConfig(i)}})},a.beforeUpload=function(e){return"image/jpeg"===e.type||"image/png"===e.type?e.size<204800?a.setState({fileList:[e]}):zt.a.error("\u56fe\u7247\u5fc5\u987b\u5c0f\u4e8e200KB!"):zt.a.error("\u56fe\u7247\u53ea\u80fd\u4e3a .JPG \u6216 .PNG \u683c\u5f0f!"),!1},a.handleUploadAp=function(){var e=a.state.fileList,t=new FormData;e.forEach(function(e){t.append("files[]",e)}),Ur()({url:"cgi-bin/cgi_stream.cgi?streamid=10",method:"post",processData:!1,data:t,success:function(e){var t=JSON.parse(e);2e3===t.restcode?zt.a.success("\u4e0a\u4f20\u6210\u529f"):4008==t.restcode&&zt.a.error("\u6587\u4ef6\u683c\u5f0f\u9519\u8bef.")},error:function(){zt.a.error("upload failed.")}}),a.setState({showVisibleAddModle:!1})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getPortalConfig()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={display:"block",height:"36px",lineHeight:"38px"},a={name:"image",beforeUpload:this.beforeUpload,accept:".jpg,.png"};return d.a.createElement(or.a,{title:"Portal\u8bbe\u7f6e"},d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"WEB\u8ba4\u8bc1"}),d.a.createElement(os,{onChange:this.handleWebEnable,value:this.state.enable},d.a.createElement(Ll.a,{value:1},"\u5f00\u542f"),d.a.createElement(Ll.a,{value:0},"\u5173\u95ed"))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u8ba4\u8bc1\u6709\u6548\u671f(\u79d2)"}),e("timeout",{rules:[{required:!0,message:"\u8ba4\u8bc1\u6709\u6548\u671f\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([3-9]\\d\\d|\\d{4,5}|60[0-3]\\d\\d\\d|604[0-7]\\d\\d|604800)$"),message:"\u65f6\u95f4\u8303\u56f4\u53ea\u4e3a300~ 604800\u79d2\uff087\u5929\uff09  "}],initialValue:this.state.timeout})(d.a.createElement(_n.a,null)),"\u5c0f\u65f6(\u8303\u56f4\uff1a300-604800\u79d2)"),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6807\u9898"}),e("title",{rules:[{required:!0,message:"\u6807\u9898\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^.{1,64}$"),message:"\u8bf7\u8f93\u51651-64\u4f4d\u5b57\u7b26\uff01"}],initialValue:this.state.title})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u8ba4\u8bc1\u540e\u7f51\u5740\u8df3\u8f6c"}),d.a.createElement(os,{onChange:this.handleRedirectUrl,value:this.state.orig_url_en},d.a.createElement(Ll.a,{style:t,value:0},"\u8df3\u8f6c\u5230\u5ba2\u6237\u8ba4\u8bc1\u524d\u7f51\u5740"),d.a.createElement(Ll.a,{style:t,value:1},"\u8df3\u8f6c\u5230\u6307\u5b9a\u7f51\u5740")),e("redirect",{rules:[{required:!this.state.orig_url_en,message:"\u8df3\u8f6c\u7f51\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{}],initialValue:this.state.redirect})(d.a.createElement(_n.a,{disabled:!this.state.orig_url_en}))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",onClick:this.handleApplyData,style:{marginRight:20}},"\u5e94\u7528\u8bbe\u7f6e")),d.a.createElement(fn.a.Item,Object.assign({label:"\u80cc\u666f\u56fe\u7247"},Sr),d.a.createElement(Vr.a,Object.assign({},a,{fileList:this.state.fileList}),d.a.createElement(hn.a,{style:{width:237}},d.a.createElement(vn.a,{type:"upload"})," \u70b9\u51fb\u4e0a\u4f20\u6587\u4ef6"))),d.a.createElement(fn.a.Item,Or,d.a.createElement(hn.a,{type:"primary",disabled:!(0<this.state.fileList.length),onClick:this.handleUploadAp},"\u4e0a\u4f20\u56fe\u7247")))}}]),t}(c.PureComponent),ds=fn.a.create()(cs),us=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(f.a)(this,Object(b.a)(t).call(this,e))).state={garden_list:[]},a.getPortalWallGardenConfig=function(){var e=Object(m.a)({},Tt);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&a.setState({garden_list:e.result.garden_list})})},a.addPortalWallGardenMac=function(e){e=e.toUpperCase();var t=Object(m.a)({},Pt,{garden_mac:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.getPortalWallGardenConfig()})},a.deletePortalWallGardenMac=function(e){var t=Object(m.a)({},Rt,{garden_mac:e});kn.ajax_post({data:t}).then(function(e){2e3==e.restcode&&a.getPortalWallGardenConfig()})},a.handleAddList=function(){a.setState({visible1:!0})},a.handleScanArpList=function(){a.setState({visible2:!0,visible1:!1}),a.getArpListmsg()},a.getArpListmsg=function(){var e=[],t=Object(m.a)({},se);kn.ajax_post({data:t}).then(function(t){2e3==t.restcode&&(e=t.result.arp_list.map(function(e,t){return e.key=t,e}),a.setState({arpList:e}))})},a.hideModal1=function(){a.setState({visible1:!1})},a.addListItem=function(){var e={},t=!1,n=a.state.garden_list;if(a.addItemForm.props.form.validateFields(function(a,n){t=!!a||(console.log(n),e=n,!1)}),t)return!1;if(10<=n)return zt.a.error("\u6dfb\u52a0\u6570\u76ee\u4e0d\u80fd\u8d85\u8fc710\u6761\uff01"),!1;if(n.length<1||n.every(function(t){return t.garden_mac==e.garden_mac&&R.a.error({title:"\u6dfb\u52a0\u5931\u8d25",content:"MAC \uff1a".concat(e.garden_mac,"\u5df2\u7ecf\u5b58\u5728!")}),t.garden_mac!=e.garden_mac})){var r=e;n.push(r),a.setState({visible1:!1,garden_list:n}),a.addPortalWallGardenMac(e.garden_mac)}},a.aclColumns=[{title:"MAC\u5730\u5740",dataIndex:"garden_mac",key:"1"},{title:"\u79fb\u51fa\u767d\u540d\u5355",dataIndex:"garden_mac",key:"2",render:function(e,t){return d.a.createElement("a",null,d.a.createElement(vn.a,{type:"delete",style:{color:"red",fornSize:"18px"},onClick:function(){return a.deletePortalWallGardenMac(e)}}))}}],a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getPortalWallGardenConfig()}},{key:"render",value:function(){var e=this;return d.a.createElement("div",null,d.a.createElement(or.a,{title:"portal\u767d\u540d\u5355"},d.a.createElement(lr.a,{bordered:!0,columns:this.aclColumns,dataSource:this.state.garden_list,footer:function(){return d.a.createElement("div",null,d.a.createElement(hn.a,{style:{marginRight:20},onClick:e.handleAddList},"\u589e\u52a0\u6761\u76ee"))}}),d.a.createElement(R.a,{title:"\u6dfb\u52a0ARP\u6761\u76ee",visible:this.state.visible1,onOk:this.addListItem,onCancel:this.hideModal1,destroyOnClose:!0,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},d.a.createElement(ps,{garden_mac:this.state.garden_list.garden_mac,handleScanArpList:this.handleScanArpList.bind(this),wrappedComponentRef:function(t){e.addItemForm=t}}))))}}]),t}(d.a.Component),ps=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={garden_mac:a.props.garden_mac},a.selectIpMac=function(e,t){a.setState({garden_mac:t})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.setState({garden_mac:e.garden_mac})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},{labelCol:{span:6},wrapperCol:{span:16}},{label:"MAC\u5730\u5740"}),e("garden_mac",{rules:[{required:!0,message:"MAC\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^([0-9a-fA-F]{2})(([/s:][0-9a-fA-F]{2}){5})$"),message:"MAC\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:this.state.garden_mac})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,{wrapperCol:{span:14,offset:6}},d.a.createElement(wi,{hideModal1:this.props.hideModal1,selectIpMac:this.selectIpMac})))}}]),t}(d.a.Component);ps=fn.a.create({})(ps),a(1476);var ms=Cr.a.Option,hs=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={ssid2to1Enable:!1,secondsToGo:"",percent:0,loading:!1,step1:!0,ssid_config:{wid:"1",gid:"1",ssid_2g:"TOTOLINK_2.4G",hide_2g:"0",isolate_2g:"0",encry_2g:"0",passphrase_2g:"",maxsta_2g:"32",vlanid_2g:"0",ssid_5g:"TOTOLINK_5G",hide_5g:"0",isolate_5g:"0",encry_5g:"0",passphrase_5g:"",maxsta_5g:"32",vlanid_5g:"0"},wanmsg:{hostname:"Vista"},link:0,speed:1e3,proto:"dhcp",hostname:"Vista",wan_proto:2},a.getQuickSettingConfig=function(){var e=Object(m.a)({},ft);kn.ajax_post({data:e}).then(function(e){if(2e3==e.restcode){a.checkedSsidEnable(e.result.ssid_config);var t,n={};0==e.result.wan_proto&&(n={ipaddr:e.result.ipaddr,netmask:e.result.netmask,gateway:e.result.gateway,dns:e.result.dns}),1==e.result.wan_proto&&(n={username:e.result.username,password:e.result.password,ac:e.result.ac,service:e.result.service}),2==e.result.wan_proto&&(n={hostname:e.result.hostname}),t=0==e.result.link?2:e.result.wan_proto,a.setState({ssid_config:e.result.ssid_config,link:e.result.link,speed:e.result.speed,wan_proto:t,proto:e.result.proto,wanmsg:n})}})},a.doWanProtoDetect=function(){a.setState({loading:!0});var e=Object(m.a)({},bt);kn.ajax_post({data:e}).then(function(e){var t;2e3==e.restcode&&(t=0==e.result.link?2:e.result.wan_proto,a.setState({wan_proto:t,link:e.result.link,speed:e.result.speed,loading:!1}))})},a.setQuickSettingConfig=function(e){var t=a.state.wanmsg,n="0"==a.state.wan_proto?"static":"1"==a.state.wan_proto?"pppoe":"dhcp",r=Object(m.a)({},_t,e,t,{proto:n});kn.ajax_post({data:r}).then(function(e){2e3==e.restcode&&(a.setState({secondsToGo:e.locktime,visible:!0}),Fn.bind(Object(Cn.a)(Object(Cn.a)(a)))(e.locktime,!0))})},a.changeWanType=function(e){a.setState({wan_proto:e})},a.handleNextStep=function(){var e=!0;if(a.stepOneRef.props.form.validateFields(function(t,n){if(t)e=!0;else{if(e=!1,n.dns1||n.dns2){var r=[n.dns1,n.dns2];delete n.dns1,delete n.dns2,n=Object(m.a)({},n,{dns:r})}a.setState({wanmsg:n,step1:!1})}}),e)return!1},a.handleLastStep=function(){a.setState({step1:!0})},a.handleFinish=function(){a.handleSetSSIDmsg(a.state.ssid_config)},a.handleToHome=function(){window.location.hash="#/status"},a.handleSetSSIDmsg=function(e){a.ssidSettingForm.props.form.validateFields(function(t,n){if(t)return!1;a.state.ssid2to1Enable?(e.maxsta_2g=n.maxsta_2g,e.maxsta_5g=n.maxsta_2g,e.passphrase_2g="0"==e.encry_2g?"":n.passphrase_2g,e.passphrase_5g="0"==e.encry_2g?"":n.passphrase_2g,e.ssid_2g=n.ssid_2g,e.ssid_5g=n.ssid_2g,e.hide_5g=e.hide_2g,e.isolate_5g=e.isolate_2g,e.encry_5g=e.encry_2g):(e.maxsta_2g=n.maxsta_2g,e.maxsta_5g=n.maxsta_5g,e.passphrase_2g="0"==e.encry_2g?"":n.passphrase_2g,e.passphrase_5g="0"==e.encry_5g?"":n.passphrase_5g,e.ssid_2g=n.ssid_2g,e.ssid_5g=n.ssid_5g),a.setQuickSettingConfig(e)})},a.changeSsid2to1Enable=function(e){a.setState({ssid2to1Enable:e})},a.checkedSsidEnable=function(e){e.ssid_2g==e.ssid_5g&&e.hide_2g==e.hide_5g&&e.isolate_2g==e.isolate_5g&&e.encry_2g==e.encry_5g&&e.passphrase_2g==e.passphrase_5g&&e.maxsta_2g==e.maxsta_5g?a.setState({ssid2to1Enable:!0}):a.setState({ssid2to1Enable:!1})},a.setSsidConfig=function(e){a.setState({ssid_config:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getQuickSettingConfig(),this.checkedSsidEnable(this.state.ssid_config)}},{key:"render",value:function(){var e=this,t=this.state.step1;return d.a.createElement("div",{className:"wizard"},d.a.createElement("div",null,d.a.createElement(qn,null)),d.a.createElement("div",{className:"wizard-content"},d.a.createElement(Fi.a,{tip:"\u68c0\u6d4b\u4e2d...",spinning:this.state.loading},d.a.createElement(or.a,{bordered:!1},1==t?d.a.createElement("div",null,d.a.createElement(gs,{link:this.state.link,speed:this.state.speed,wan_proto:this.state.wan_proto,loading:this.state.loading,doWanProtoDetect:this.doWanProtoDetect,changeWanType:this.changeWanType,wrappedComponentRef:function(t){e.stepOneRef=t}}),d.a.createElement("div",{style:{textAlign:"center"}},d.a.createElement(hn.a,{style:{marginRight:20,marginTop:20,marginBottom:60},type:"primary",onClick:this.handleToHome},"\u8df3\u8fc7"),d.a.createElement(hn.a,{style:{marginRight:20},type:"primary",onClick:this.handleNextStep},"\u4e0b\u4e00\u6b65",d.a.createElement(vn.a,{type:"right"})))):d.a.createElement("div",null,d.a.createElement(fs,{ssid2to1Enable:this.state.ssid2to1Enable,changeSsid2to1Enable:this.changeSsid2to1Enable,ssid_config:this.state.ssid_config,setSsidConfig:this.setSsidConfig,wrappedComponentRef:function(t){e.ssidSettingForm=t}}),d.a.createElement("div",{style:{textAlign:"center"}},d.a.createElement(hn.a,{style:{marginRight:20,marginTop:20,marginBottom:60},type:"primary",onClick:this.handleToHome},"\u8df3\u8fc7"),d.a.createElement(hn.a,{style:{marginRight:20},type:"primary",onClick:this.handleLastStep},d.a.createElement(vn.a,{type:"left"}),"\u4e0a\u4e00\u6b65"),d.a.createElement(hn.a,{style:{marginRight:20},type:"primary",onClick:this.handleFinish},"\u5b8c\u6210")))))),d.a.createElement(R.a,{style:{marginTop:30},closable:!1,footer:null,visible:this.state.visible},d.a.createElement("p",null,"\u8bbe\u7f6e\u4e2d\uff0c",this.state.secondsToGo,"\u79d2\u540e\u8bbe\u7f6e\u5b8c\u6210..."),d.a.createElement(wn.a,{percent:this.state.percent,status:"active",strokeWidth:10})))}}]),t}(c.PureComponent),gs=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={link:a.props.link,speed:a.props.speed,wan_proto:a.props.wan_proto,loading:a.props.loading},a.changeWanType=function(e){a.setState({wan_proto:e}),a.props.changeWanType(e)},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.wan_proto===this.props.wan_proto&&e.link===this.props.link&&e.speed===this.props.speed&&e.loading===this.props.loading||this.setState({wan_proto:e.wan_proto,link:e.link,speed:e.speed,loading:e.loading})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return d.a.createElement(fn.a,null,d.a.createElement(xl.a,null,d.a.createElement("h3",null,"\u7f51\u7edc\u68c0\u6d4b")),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u7f51\u7edc\u8bbe\u7f6e"}),d.a.createElement("div",null,d.a.createElement(Cr.a,{value:this.state.wan_proto,onChange:this.changeWanType},d.a.createElement(ms,{value:0},"\u9759\u6001IP"),d.a.createElement(ms,{value:1},"PPPOE\u62e8\u53f7"),d.a.createElement(ms,{value:2},"DHCP")),0==this.state.link?d.a.createElement("div",null,d.a.createElement("i",null,"WAN\u53e3\u6ca1\u6709\u63a5\u7f51\u7ebf"),d.a.createElement(hn.a,{style:{marginLeft:10},type:"primary",disabled:!0},"\u91cd\u65b0\u68c0\u6d4b")):d.a.createElement("div",null,d.a.createElement("i",null,"\u63a8\u8350\u4f7f\u7528\u65b9\u5f0f\u4e3a\uff1a",0==this.state.wan_proto?"\u9759\u6001IP":1==this.state.wan_proto?"PPPOE\u62e8\u53f7":"DHCP"," "),d.a.createElement("span",null,"; \u901f\u7387\u4e3a",this.state.speed,"Mbps")," ",d.a.createElement("br",null),d.a.createElement(hn.a,{style:{marginLeft:0},type:"primary",loading:this.props.loading,onClick:this.props.doWanProtoDetect},"\u91cd\u65b0\u68c0\u6d4b")))),1==this.state.wan_proto?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u8d26\u53f7"}),e("username",{rules:[{required:!0,message:"\u8d26\u53f7\u4e0d\u80fd\u4e3a\u7a7a!"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5bc6\u7801"}),e("password",{rules:[{required:!0,message:"\u5bc6\u7801\u4e0d\u80fd\u4e3a\u7a7a!"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"AC"}),e("ac",{initialValue:""})(d.a.createElement(_n.a,{placeholder:"AUTO  \u7559\u7a7a\u4ee5\u81ea\u52a8\u68c0\u6d4b"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u670d\u52a1\u5668"}),e("service",{initialValue:""})(d.a.createElement(_n.a,{placeholder:"AUTO \u7559\u7a7a\u4ee5\u81ea\u52a8\u68c0\u6d4b"})))):2==this.state.wan_proto?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4e3b\u673a\u540d"}),e("hostname",{initialValue:""})(d.a.createElement(_n.a,null)))):d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"IP\u5730\u5740"}),e("ipaddr",{rules:[{required:!0,message:"IP\u5730\u5740\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"IP\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5b50\u7f51\u63a9\u7801"}),e("netmask",{rules:[{required:!0,message:"\u5b50\u7f51\u63a9\u7801\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(254|252|248|240|224|192|128|0)\\.0\\.0\\.0$|^(255\\.(254|252|248|240|224|192|128|0)\\.0\\.0)$|^(255\\.255\\.(254|252|248|240|224|192|128|0)\\.0)$|^(255\\.255\\.255\\.(254|252|248|240|224|192|128|0))$"),message:"\u5b50\u7f51\u63a9\u7801\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9ed8\u8ba4\u7f51\u5173"}),e("gateway",{rules:[{required:!0,message:"\u9ed8\u8ba4\u7f51\u5173\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"\u7f51\u5173\u5730\u5740\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9996\u9009DNS"}),e("dns1",{rules:[{required:!0,message:"\u9996\u9009DNS\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"DNS\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5907\u9009DNS"}),e("dns2",{rules:[{required:!0,message:"\u5907\u9009DNS\u4e0d\u80fd\u4e3a\u7a7a!"},{pattern:new RegExp("^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])(\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])){3}$"),message:"DNS\u683c\u5f0f\u4e0d\u6b63\u786e\uff01"}],initialValue:""})(d.a.createElement(_n.a,null)))))}}]),t}(d.a.Component);gs=fn.a.create({})(gs);var fs=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={ssid_config:a.props.ssid_config,ssid2to1Enable:a.props.ssid2to1Enable},a.onChangeHide2g=function(e){e=e.target.checked;var t=a.state.ssid_config;t.hide_2g=1==e?"1":"0",a.props.setSsidConfig(t),a.setState({ssid_config:t})},a.handleEncry2g=function(e){var t=a.state.ssid_config;t.encry_2g=1==e?"1":"0",a.props.setSsidConfig(t),a.setState({ssid_config:t})},a.onChangeIsolate2g=function(e){e=e.target.checked;var t=a.state.ssid_config;t.isolate_2g=1==e?"1":"0",a.props.setSsidConfig(t),a.setState({ssid_config:t})},a.onChangeHide5g=function(e){e=e.target.checked;var t=a.state.ssid_config;t.hide_5g=1==e?"1":"0",a.props.setSsidConfig(t),a.setState({ssid_config:t})},a.handleEncry5g=function(e){var t=a.state.ssid_config;t.encry_5g=1==e?"1":"0",a.props.setSsidConfig(t),a.setState({ssid_config:t})},a.onChangeIsolate5g=function(e){e=e.target.checked;var t=a.state.ssid_config;t.isolate_5g=1==e?"1":"0",a.props.setSsidConfig(t),a.setState({ssid_config:t})},a.handleMultiFrequencyUnify=function(e){a.props.changeSsid2to1Enable(e),a.setState({ssid2to1Enable:e})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){e!==this.props&&this.props.ssid_config!=e.ssid_config&&this.setState({ssid_config:e.ssid_config,ssid2to1Enable:e.ssid2to1Enable})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.ssid_config;return d.a.createElement("div",null,d.a.createElement(xl.a,null,d.a.createElement("h3",null,"AP\u8bbe\u7f6e")),d.a.createElement(fn.a,null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u591a\u9891\u5408\u4e00"}),d.a.createElement(yr.a,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173",checked:this.state.ssid2to1Enable,onChange:this.handleMultiFrequencyUnify})),this.state.ssid2to1Enable?d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"SSID"}),e("ssid_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165SSID\u540d\u79f0!"}],initialValue:t.ssid_2g})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u9690\u85cfSSID"}),d.a.createElement(Jr.a,{checked:"0"!=t.hide_2g,onChange:this.onChangeHide2g})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u52a0\u5bc6\u65b9\u5f0f"}),d.a.createElement(Cr.a,{value:"0"==t.encry_2g?"\u4e0d\u52a0\u5bc6":"\u52a0\u5bc6",onChange:this.handleEncry2g},d.a.createElement(ms,{value:"0"},"\u4e0d\u52a0\u5bc6"),d.a.createElement(ms,{value:"1"},"\u52a0\u5bc6"))),"0"==t.encry_2g?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u5bc6\u7801"}),e("passphrase_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],initialValue:t.passphrase_5g})(d.a.createElement(_n.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u4e8c\u5c42\u9694\u79bb"}),d.a.createElement(Jr.a,{checked:"0"!=t.isolate_2g,onChange:this.onChangeIsolate2g})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"\u6700\u5927\u7528\u6237\u6570"}),e("maxsta_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u7528\u6237\u6570!"},{pattern:new RegExp("^(\\d|\\d\\d|[1][0-1]\\d|12[0-8])$"),message:"\u6700\u5927\u7528\u6237\u6570\u53ea\u80fd\u4e3a0-128\uff01"}],initialValue:t.maxsta_2g})(d.a.createElement(_n.a,null)))):d.a.createElement("div",null,d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2.4G SSID"}),e("ssid_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165SSID\u540d\u79f0!"}],initialValue:t.ssid_2g})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2.4G \u9690\u85cfSSID"}),d.a.createElement(Jr.a,{checked:"0"!=t.hide_2g,onChange:this.onChangeHide2g})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2.4G \u52a0\u5bc6\u65b9\u5f0f"}),d.a.createElement(Cr.a,{value:"0"==t.encry_2g?"\u4e0d\u52a0\u5bc6":"\u52a0\u5bc6",onChange:this.handleEncry2g},d.a.createElement(ms,{value:"0"},"\u4e0d\u52a0\u5bc6"),d.a.createElement(ms,{value:"1"},"\u52a0\u5bc6"))),"0"==t.encry_2g?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2.4G \u5bc6\u7801"}),e("passphrase_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],initialValue:t.passphrase_5g})(d.a.createElement(_n.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2.4G \u4e8c\u5c42\u9694\u79bb"}),d.a.createElement(Jr.a,{checked:"0"!=t.isolate_2g,onChange:this.onChangeIsolate2g})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"2.4G \u6700\u5927\u7528\u6237\u6570"}),e("maxsta_2g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u7528\u6237\u6570!"},{pattern:new RegExp("^(\\d|\\d\\d|[1][0-1]\\d|12[0-8])$"),message:"\u6700\u5927\u7528\u6237\u6570\u53ea\u80fd\u4e3a0-128\uff01"}],initialValue:t.maxsta_2g})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G SSID"}),e("ssid_5g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165SSID\u540d\u79f0!"}],initialValue:t.ssid_5g})(d.a.createElement(_n.a,null))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u9690\u85cfSSID"}),d.a.createElement(Jr.a,{checked:"0"!=t.hide_5g,onChange:this.onChangeHide5g})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u52a0\u5bc6\u65b9\u5f0f"}),d.a.createElement(Cr.a,{defaultValue:"0"==t.encry_5g?"\u4e0d\u52a0\u5bc6":"\u52a0\u5bc6",onChange:this.handleEncry5g},d.a.createElement(ms,{value:"0"},"\u4e0d\u52a0\u5bc6"),d.a.createElement(ms,{value:"1"},"\u52a0\u5bc6"))),"0"==t.encry_5g?null:d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u5bc6\u7801"}),e("passphrase_5g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],initialValue:t.passphrase_5g})(d.a.createElement(_n.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801"}))),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u4e8c\u5c42\u9694\u79bb"}),d.a.createElement(Jr.a,{checked:"0"!=t.isolate_5g,onChange:this.onChangeIsolate5g})),d.a.createElement(fn.a.Item,Object.assign({},Sr,{label:"5G \u6700\u5927\u7528\u6237\u6570"}),e("maxsta_5g",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6700\u5927\u7528\u6237\u6570!"},{pattern:new RegExp("^(\\d|\\d\\d|[1][0-1]\\d|12[0-8])$"),message:"\u6700\u5927\u7528\u6237\u6570\u53ea\u80fd\u4e3a0-128\uff01"}],initialValue:t.maxsta_5g})(d.a.createElement(_n.a,null))))))}}]),t}(d.a.Component);fs=fn.a.create()(fs);var bs=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(f.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).getEnterpiseInfo=function(){var e=Object(m.a)({},Nt);kn.ajax_post({data:e}).then(function(e){2e3==e.restcode&&(document.title=e.result.web_title)})},a}return Object(_.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.getEnterpiseInfo()}},{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(pn,null,d.a.createElement(E.a,null,d.a.createElement(v.a,null,d.a.createElement(y.a,{path:"/login",component:Bn}),d.a.createElement(y.a,{path:"/admin",render:function(){return d.a.createElement(k,null,d.a.createElement(y.a,{path:"/admin/superadmin",component:bi}))}}),d.a.createElement(y.a,{path:"/wizard",render:function(){return d.a.createElement(k,null,d.a.createElement(y.a,{path:"/wizard",component:hs}))}}),d.a.createElement(y.a,{path:"/",render:function(){return d.a.createElement(nr,null,d.a.createElement(v.a,null,d.a.createElement(y.a,{path:"/status",component:Er}),d.a.createElement(y.a,{path:"/setup/remote",component:Ir}),d.a.createElement(y.a,{path:"/setup/password",component:xr}),d.a.createElement(y.a,{path:"/systime",component:Rr}),d.a.createElement(y.a,{path:"/setup/administration",component:Gr}),d.a.createElement(y.a,{path:"/sche_reboot",component:al}),d.a.createElement(y.a,{path:"/setup/upgrade",component:nl}),d.a.createElement(y.a,{path:"/setup/log",component:il}),d.a.createElement(y.a,{path:"/network/wan",component:ml}),d.a.createElement(y.a,{path:"/network/lan",component:fl}),d.a.createElement(y.a,{path:"/network/dhcp",component:vl}),d.a.createElement(y.a,{path:"/security/ARPlist",component:Cl}),d.a.createElement(y.a,{path:"/security/ARPbind",component:Ol}),d.a.createElement(y.a,{path:"/security/wanping",component:Il}),d.a.createElement(y.a,{path:"/apManagement/status",component:Zl}),d.a.createElement(y.a,{path:"/apManagement/groupUnified",component:ei}),d.a.createElement(y.a,{path:"/apManagement/upgrade",component:li}),d.a.createElement(y.a,{path:"/apManagement/advanceconfig",component:di}),d.a.createElement(y.a,{path:"/apManagement/databasemanage",component:ui}),d.a.createElement(y.a,{path:"/behavior/appFilter",component:vi}),d.a.createElement(y.a,{path:"/behavior/macFilter",component:Si}),d.a.createElement(y.a,{path:"/behavior/urlFilter",component:ji}),d.a.createElement(y.a,{path:"/behavior/ipfilter",component:Ai}),d.a.createElement(y.a,{path:"/behavior/connectNumber",component:Di}),d.a.createElement(y.a,{path:"/qos",component:Ri}),d.a.createElement(y.a,{path:"/tools/ping",component:Wi}),d.a.createElement(y.a,{path:"/tools/routeTrack",component:$i}),d.a.createElement(y.a,{path:"/tools/dhcptest",component:Bi}),d.a.createElement(y.a,{path:"/advance/portForward",component:Hi}),d.a.createElement(y.a,{path:"/advance/dmz",component:Qi}),d.a.createElement(y.a,{path:"/advance/ddns",component:Xi}),d.a.createElement(y.a,{path:"/advance/upnp",component:ts}),d.a.createElement(y.a,{path:"/advance/staticRouter",component:ns}),d.a.createElement(y.a,{path:"/advance/dynamicRouter",component:is}),d.a.createElement(y.a,{path:"/captive_portal/setting",component:ds}),d.a.createElement(y.a,{path:"/captive_portal/garden",component:us}),d.a.createElement(w.a,{to:"/status"})))}})))))}}]),t}(d.a.Component);p.a.render(d.a.createElement(bs,null),document.getElementById("root"))},420:function(e,t,a){},430:function(e,t){},431:function(e,t){},596:function(e,t,a){e.exports=a(1478)},910:function(e,t,a){},917:function(e,t,a){},979:function(e,t,a){}},[[596,2,1]]]);